"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6931],{76135:function(e,t,r){r.d(t,{Hk:function(){return De},f8:function(){return Ie},hD:function(){return ve},Xk:function(){return ke},Cq:function(){return Ce},L7:function(){return rt},aS:function(){return je},J4:function(){return Oe}});var n=r(34051),o=r.n(n),i=r(15690),a=r(59119),u=r(14456),c=r(85893);function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=function(e){return(0,c.jsxs)("svg",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){l(e,t,r[t])}))}return e}({width:"60",height:"40",viewBox:"0 0 60 40",fill:"none"},e,{children:[(0,c.jsx)("rect",{width:"60",height:"40",rx:"4",fill:"#F5F5F5"}),(0,c.jsx)("rect",{x:"8.5",y:"8.5",width:"43",height:"23",rx:"1.5",fill:"white",stroke:"#C4C4C4"}),(0,c.jsx)("path",{d:"M17.0254 23.3879L10 30C9.63098 30.369 9.89234 31 10.4142 31H48C49.6569 31 51 29.6569 51 28V10.2071C51 10.0745 50.9473 9.94732 50.8536 9.85355C50.6583 9.65829 50.3417 9.65829 50.1464 9.85355L41.3787 18.6213C40.8161 19.1839 40.053 19.5 39.2574 19.5H31.7426C30.947 19.5 30.1839 19.8161 29.6213 20.3787L26.4792 23.5208C25.5904 24.4096 24.2419 24.6501 23.1007 24.1234L20.3386 22.8486C19.2276 22.3358 17.9165 22.5492 17.0254 23.3879Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("rect",{x:"8.5",y:"8.5",width:"43",height:"23",rx:"1.5",stroke:"#C4C4C4"})]}))};function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v=r(17881);function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var x=function(e){return(0,c.jsxs)("svg",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){S(e,t,r[t])}))}return e}({width:"60",height:"40",viewBox:"0 0 60 40",fill:"none"},e,{children:[(0,c.jsx)("rect",{width:"60",height:"40",rx:"4",fill:"#F5F5F5"}),(0,c.jsx)("rect",{x:"8.5",y:"8.5",width:"43",height:"23",rx:"1.5",fill:"white",stroke:"#C4C4C4"}),(0,c.jsx)("rect",{x:"17",y:"11",width:"5",height:"19",rx:"1",fill:"currentColor"}),(0,c.jsx)("rect",{x:"10",y:"17",width:"5",height:"13",rx:"1",fill:"currentColor"}),(0,c.jsx)("rect",{x:"24",y:"14",width:"5",height:"16",rx:"1",fill:"currentColor"}),(0,c.jsx)("rect",{x:"31",y:"25",width:"5",height:"5",rx:"1",fill:"currentColor"}),(0,c.jsx)("rect",{x:"38",y:"27",width:"5",height:"3",rx:"1",fill:"currentColor"}),(0,c.jsx)("rect",{x:"45",y:"28",width:"5",height:"2",rx:"1",fill:"currentColor"})]}))};function k(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var O=function(e){return(0,c.jsxs)("svg",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){k(e,t,r[t])}))}return e}({width:"60",height:"40",viewBox:"0 0 60 40",fill:"none"},e,{children:[(0,c.jsx)("rect",{width:"60",height:"40",rx:"4",fill:"#F5F5F5"}),(0,c.jsx)("rect",{x:"8.5",y:"8.5",width:"43",height:"23",rx:"1.5",fill:"white",stroke:"#C4C4C4"}),(0,c.jsx)("path",{d:"M10.5 29.5L17.0258 23.3821C17.9169 22.5466 19.2257 22.3349 20.3348 22.8468L23.1007 24.1234C24.2419 24.6501 25.5904 24.4096 26.4792 23.5208L29.6213 20.3787C30.1839 19.8161 30.947 19.5 31.7426 19.5H39.2574C40.053 19.5 40.8161 19.1839 41.3787 18.6213L49.5 10.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}))};function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $=function(e){return(0,c.jsxs)("svg",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){R(e,t,r[t])}))}return e}({width:"60",height:"40",viewBox:"0 0 60 40",fill:"none"},e,{children:[(0,c.jsx)("rect",{width:"60",height:"40",rx:"4",fill:"#F5F5F5"}),(0,c.jsx)("rect",{x:"8.5",y:"8.5",width:"43",height:"23",rx:"1.5",fill:"white",stroke:"currentColor"}),(0,c.jsx)("rect",{x:"10",y:"10",width:"33",height:"6",rx:"1",fill:"currentColor"}),(0,c.jsx)("rect",{x:"10",y:"17",width:"16",height:"6",rx:"1",fill:"currentColor"}),(0,c.jsx)("rect",{x:"10",y:"24",width:"10",height:"6",rx:"1",fill:"currentColor"})]}))};function U(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var V,L,N,B=function(e){return(0,c.jsxs)("svg",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){U(e,t,r[t])}))}return e}({width:"60",height:"40",viewBox:"0 0 60 40",fill:"none"},e,{children:[(0,c.jsx)("rect",{width:"60",height:"40",rx:"4",fill:"#F5F5F5"}),(0,c.jsx)("path",{d:"M35.625 24.5C28.875 24.5 28.875 15.5 22.125 15.5",stroke:"currentColor",strokeWidth:"2"}),(0,c.jsx)("path",{d:"M37.875 15.5L34.5 18.875V12.125L37.875 15.5Z",fill:"currentColor"}),(0,c.jsx)("path",{d:"M37.875 24.5L34.5 27.875V21.125L37.875 24.5Z",fill:"currentColor"}),(0,c.jsx)("path",{d:"M35.625 15.5C28.875 15.5 28.875 24.5 22.125 24.5",stroke:"currentColor",strokeWidth:"2"})]}))},q=r(75030);!function(e){e.Data="data",e.Snippet="snippet",e.Reference="reference",e.Stdlib="stdlib",e.JavaScript="javascript"}(V||(V={})),function(e){e[e.JavaScriptLocal=99]="JavaScriptLocal",e[e.Reference=98]="Reference",e[e.Stdlib=97]="Stdlib",e[e.Data=96]="Data",e[e.Snippet=95]="Snippet",e[e.JavaScriptCell=94]="JavaScriptCell",e[e.JavaScript=93]="JavaScript"}(L||(L={})),function(e){e.Global="global",e.Snippet="snippet",e.Cell="cell",e.Local="local",e.Stdlib="stdlib",e.File="file",e.Database="database",e.Secret="secret",e.Property="property",e.Dot="dot",e.Markdown="markdown",e.Mermaid="mermaid"}(N||(N={}));var z=r(3961);function Z(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(l){return void r(l)}u.done?t(c):Promise.resolve(c).then(n,o)}function H(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t){return!t||"object"!==J(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var J=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function G(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Y(e);if(t){var o=Y(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return W(this,r)}}function Q(e){return function(t){if(!e.length)return null;var r=(0,a.qz)(t.state).resolve(t.pos,-1),n=r.name,o=r.from;return{from:"PropertyName"===n?o:t.pos,options:e,span:/\w*$/}}}var K=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(u,e);var t,r,n,a=G(u);function u(e,t,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=a.call(this))._context=e,n._variable=t,n._paths=r,n}return t=u,(r=[{key:"process",value:function(e){var t,r=this;return(t=o().mark((function t(){var n,a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r._variable){t.next=6;break}return t.next=3,e({type:"autocomplete",variable:r._variable,paths:r._paths});case 3:t.t0=t.sent,t.next=7;break;case 6:t.t0=(0,q.r)();case 7:return n=t.t0,a=r._variable?Q:i.Mb,t.abrupt("return",a(Array.from(n,(function(e){return(0,i.Gn)(e,{label:e,type:V.JavaScript,boost:L.JavaScript,detail:r._variable?N.Property:N.Global})})))(r._context));case 10:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(e){Z(i,n,o,a,u,"next",e)}function u(e){Z(i,n,o,a,u,"throw",e)}a(void 0)}))})()}}])&&H(t.prototype,r),n&&H(t,n),u}(z.i),ee=r(602),te=r(26836),re=r(9606),ne=r(74822),oe=r(1864),ie=r(58489),ae=r(63213),ue=r(18680);function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function le(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(l){return void r(l)}u.done?t(c):Promise.resolve(c).then(n,o)}function se(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){le(i,n,o,a,u,"next",e)}function u(e){le(i,n,o,a,u,"throw",e)}a(void 0)}))}}function fe(e,t){return null!=t&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t}function de(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||ye(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(e){return function(e){if(Array.isArray(e))return ce(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ye(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t){if(e){if("string"===typeof e)return ce(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ce(e,t):void 0}}function he(e){return function(t,r,n,o){var a=t.state.field(ue.rr);(0,i.DB)(e((function(e){return(0,te.Q)(e,a)})))(t,r,n,o)}}var ve={".cm-tooltip.cm-tooltip-autocomplete":{borderColor:"var(--silver)",borderRadius:"var(--border-radius-2)",boxShadow:"var(--box-shadow-4)",backgroundColor:"var(--white)",color:"var(--dark-gray)",marginTop:"2px","& > ul":{borderRadius:"var(--border-radius-2)",font:"var(--font-size-6) var(--sans-serif)",minWidth:"min(212px, 95vw)",maxHeight:"212px","& > li":{padding:"4px 6px",lineHeight:"24px"},"& > li[aria-selected]":{color:"var(--near-black)",backgroundColor:"var(--observable-focus-lightest-blue)"}}},".cm-completionDetail":{fontStyle:"normal",opacity:"1",color:"var(--gray)",float:"right"},".cm-completionMatchedText":{fontWeight:"bold",textDecoration:"none"},".cm-completionIcon":{width:"24px",position:"relative",marginRight:"4px",opacity:"1","&:after":{content:"''",position:"absolute",width:"24px",height:"24px",bottom:"-7px",left:"0px",borderRadius:"var(--border-radius-1)",backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none'%3E%3Cstyle%3E.a%7Bfill:%23929292;%7D%3C/style%3E%3Cpath d='M16.9 17.1C16.3 17.7 15.5 18 14.6 18H13.5V16H14.6C15 16 15.3 15.8 15.5 15.7 15.6 15.5 15.7 15.3 15.7 15V14.5C15.7 14.2 15.7 13.8 16.1 13 16.5 12.4 17.3 12 17.3 12 17.3 12 16.5 11.7 16.1 11.1 15.7 10.3 15.7 9.8 15.7 9.5V9C15.7 8.7 15.6 8.5 15.5 8.3 15.3 8.2 15 8 14.6 8H13.5L13.5 6H14.6C15.5 6 16.3 6.3 16.9 6.9 17.5 7.5 17.7 8.3 17.7 9V9.5C17.7 9.7 17.7 10.1 17.9 10.5 18 10.6 18.1 10.7 18.2 10.8 18.4 10.9 18.6 11 19 11V13C18.6 13 18.4 13.1 18.2 13.2 18.1 13.3 18 13.4 17.9 13.5 17.7 13.9 17.7 14.3 17.7 14.5V15C17.7 15.7 17.5 16.5 16.9 17.1Z' class='a'/%3E%3Cpath d='M7.1 17.1C7.7 17.7 8.5 18 9.4 18H10.5V16H9.4C9 16 8.7 15.8 8.5 15.7 8.4 15.5 8.3 15.3 8.3 15V14.5C8.3 14.2 8.3 13.8 7.9 13 7.5 12.4 6.8 12 6.8 12 6.8 12 7.5 11.7 7.9 11.1 8.3 10.3 8.3 9.8 8.3 9.5V9C8.3 8.7 8.4 8.5 8.5 8.3 8.7 8.2 9 8 9.4 8H10.5L10.5 6H9.4C8.5 6 7.7 6.3 7.1 6.9 6.5 7.5 6.3 8.3 6.3 9V9.5C6.3 9.7 6.3 10.1 6.1 10.5 6 10.6 5.9 10.7 5.8 10.8 5.6 10.9 5.4 11 5 11V13C5.4 13 5.6 13.1 5.8 13.2 5.9 13.3 6 13.4 6.1 13.5 6.3 13.9 6.3 14.3 6.3 14.5V15C6.3 15.7 6.5 16.5 7.1 17.1Z' class='a'/%3E%3C/svg%3E \")",backgroundSize:"'cover'"}},".cm-snippetFieldPosition":{verticalAlign:"initial"},".cm-completionIcon-data":{"&:after":{backgroundImage:"url(\"data:image/svg+xml, %3csvg width='24' height='24' viewBox='-4 -4 24 24' fill='none' xmlns='http://www.w3.org/2000/svg' stroke-width='2' %3e%3cpath d='M7.19855 2.52175L7.88131 1.79111L7.19855 2.52175ZM12.6 11.7764L13.2581 11.0234L12.6 11.7764ZM5.34191 6.76078L11.9419 12.5293L13.2581 11.0234L6.65809 5.2549L5.34191 6.76078ZM10.8958 13.6864L3.35462 6.63385L1.98852 8.09459L9.52965 15.1472L10.8958 13.6864ZM6.51578 3.25238L13.8172 10.0755L15.1828 8.61419L7.88131 1.79111L6.51578 3.25238ZM3.08395 3.55474C3.91017 2.45311 5.50967 2.31219 6.51578 3.25238L7.88131 1.79111C6.0058 0.0384695 3.02413 0.301162 1.48395 2.35474L3.08395 3.55474ZM3.35462 6.63385C2.49183 5.82695 2.37516 4.49978 3.08395 3.55474L1.48395 2.35474C0.162683 4.11642 0.380169 6.59044 1.98852 8.09459L3.35462 6.63385ZM11.993 13.6551C11.6977 13.9647 11.2082 13.9786 10.8958 13.6864L9.52965 15.1472C10.6432 16.1886 12.3878 16.1388 13.4402 15.0356L11.993 13.6551ZM11.9419 12.5293C12.2764 12.8216 12.2996 13.3337 11.993 13.6551L13.4402 15.0356C14.5328 13.8903 14.4499 12.0651 13.2581 11.0234L11.9419 12.5293Z' fill='%23929292' /%3e%3c/svg%3e\")"}},".cm-completionIcon-snippet":{"&:after":{backgroundImage:"url(\"data:image/svg+xml,%0A%3Csvg width='24' height='24' viewBox='-4 -4 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M13 3H3C2.44772 3 2 3.44772 2 4V12C2 12.5523 2.44772 13 3 13H13C13.5523 13 14 12.5523 14 12V4C14 3.44772 13.5523 3 13 3Z' stroke='%23929292' stroke-width='2' /%3E%3Crect x='4' y='9' width='2' height='2' rx='0.5' fill='%23929292' /%3E%3Crect x='7' y='5.5' width='2' height='5.5' rx='0.5' fill='%23929292' /%3E%3Crect x='10' y='7' width='2' height='4' rx='0.5' fill='%23929292' /%3E%3C/svg%3E%0A\")"}},".cm-completionIcon-reference, .cm-completionIcon-stdlib":{"&:after":{backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='-4 -4 24 24' fill='%23929292' fillRule='evenodd' clipRule='evenodd' %3E%3Cpath d='M3 1.75C2.30964 1.75 1.75 2.30964 1.75 3C1.75 3.69036 2.30964 4.25 3 4.25C3.69036 4.25 4.25 3.69036 4.25 3C4.25 2.30964 3.69036 1.75 3 1.75ZM0.25 3C0.25 1.48122 1.48122 0.25 3 0.25C4.51878 0.25 5.75 1.48122 5.75 3C5.75 4.51878 4.51878 5.75 3 5.75C1.48122 5.75 0.25 4.51878 0.25 3Z' /%3E%3Cpath d='M13 11.75C12.3096 11.75 11.75 12.3096 11.75 13C11.75 13.6904 12.3096 14.25 13 14.25C13.6904 14.25 14.25 13.6904 14.25 13C14.25 12.3096 13.6904 11.75 13 11.75ZM10.25 13C10.25 11.4812 11.4812 10.25 13 10.25C14.5188 10.25 15.75 11.4812 15.75 13C15.75 14.5188 14.5188 15.75 13 15.75C11.4812 15.75 10.25 14.5188 10.25 13Z' /%3E%3Cpath d='M10 12C9.44771 12 9 11.5523 9 11V5C9 3.34315 7.65685 2 6 2H5V4H6C6.55228 4 7 4.44772 7 5V11C7 12.6569 8.34315 14 10 14H11V12H10Z' /%3E%3C/svg%3E\")"}},".cm-completionIcon-text":{"&:after":{backgroundImage:"url(\"data:image/svg+xml,%0A%3Csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M7.29552 11.1791C8.0027 11.1791 8.6196 10.8922 8.83526 10.4595H8.93557V11.1013H10.9417V7.38168C10.9417 6.18557 10.0239 5.5 8.41396 5.5C6.79398 5.5 5.76582 6.18071 5.6956 7.29902H7.51119C7.62654 7.04618 7.88233 6.92463 8.28858 6.92463C8.6848 6.92463 8.92554 7.09967 8.92554 7.38168V7.78524L7.81211 7.84845C6.31751 7.93111 5.5 8.51943 5.5 9.51619C5.5 10.5178 6.21721 11.1791 7.29552 11.1791ZM8.09799 9.83709C7.70679 9.83709 7.46103 9.65233 7.46103 9.36546C7.46103 9.09804 7.7118 8.923 8.14313 8.89382L8.92554 8.84034V9.16125C8.92554 9.5405 8.55941 9.83709 8.09799 9.83709Z' fill='%23929292'/%3E%3Cpath d='M16.2832 15.4043C17.6925 15.4043 18.5 14.3833 18.5 12.594C18.5 10.7901 17.7076 9.78361 16.2832 9.78361C15.5108 9.78361 14.924 10.1337 14.6632 10.7463H14.5629V7.84845H12.5066V15.3265H14.5127V14.4805H14.613C14.8588 15.064 15.4757 15.4043 16.2832 15.4043ZM15.4757 11.3201C16.0324 11.3201 16.3935 11.8209 16.3935 12.594C16.3935 13.3768 16.0374 13.8679 15.4757 13.8679C14.909 13.8679 14.5579 13.3816 14.5529 12.5988C14.5579 11.816 14.919 11.3201 15.4757 11.3201Z' fill='%23929292'/%3E%3Cpath d='M11.2878 15.0284C11.1925 13.5746 10.2396 12.7626 8.62461 12.7626C6.68363 12.7626 5.69559 13.7302 5.69559 15.6264C5.69559 17.5324 6.68363 18.5 8.62461 18.5C10.2045 18.5 11.1975 17.6734 11.2878 16.2828H9.42707C9.36689 16.7593 9.09606 17.0024 8.62461 17.0024C8.02275 17.0024 7.75192 16.5794 7.75192 15.6264C7.75192 14.6832 8.02275 14.2601 8.62461 14.2601C9.09606 14.2601 9.36689 14.5227 9.42707 15.0284H11.2878Z' fill='%23929292'/%3E%3C/svg%3E%0A\")"}}},me=[["function ${name}(${params}) {\n\t${}\n}","function"],["class ${Name} {\n\tconstructor(${params}) {\n\t\t${}\n\t}\n}","class"]].map((function(e){var t=de(e,2),r=t[0],n=t[1];return{apply:(0,i.DB)(r),label:be(n),type:V.JavaScript,boost:L.JavaScript,detail:N.Snippet}}));function be(e){return e.replace(/ /g,"\xa0")}var ge=[["md`${}`","md`` [Markdown]",Se],["htl.html`${}`","html``"],["htl.svg`${}`","svg``"],["tex`${}`","tex``"],["dot`${}`","dot`` [GraphViz]",Se],["mermaid`${}`","mermaid``",Se]].map((function(e){var t=de(e,3),r=t[0],n=t[1],o=t[2];return{apply:(void 0===o?function(e){return e}:o)((0,i.DB)(r)),label:be(n),type:V.Stdlib,boost:L.Stdlib,detail:N.Stdlib}})),we=[['DatabaseClient("${}")',"DatabaseClient",Se],['FileAttachment("${}")',"FileAttachment",Se],['Secret("${}")',"Secret",Se],["Generators.observe(notify => {\n\t${}\n})","Generators.observe"],["Promises.delay(${duration})","Promises.delay"],["Promises.tick(${duration})","Promises.tick"],["invalidation","invalidation"],["visibility()","visibility"],["width","width"],["now","now"],["d3","D3"],["_","_ [Lodash]"],["vl","vl [Vega-Lite]"],["Inputs","Inputs"],["Plot","Plot"],["aq","aq [Arquero]"],["Arrow","Apache Arrow"],["L","L [Leaflet]"],["htl","htl [Hypertext Literal]"],["SQLiteDatabaseClient.open(${source})","SQLiteDatabaseClient"],["topojson","TopoJSON"]].map((function(e){var t=de(e,3),r=t[0],n=t[1],o=t[2];return{apply:(void 0===o?function(e){return e}:o)((0,i.DB)(r)),label:be(n),type:V.Stdlib,boost:L.Stdlib,detail:N.Stdlib}}));function Se(e){return function(t,r,n,o){e(t,r,n,o),fe(t,u.tk)&&(0,i.WA)(t)}}var xe=[["let ${name};","let"],["const ${name} = ${value};","const"],["for (let ${index} = 0; ${index} < ${length}; ++${index}) {\n\t${}\n}","for loop"],["for (const ${value} of ${values}) {\n\t${}\n}","for of loop"],["try {\n\t${}\n} catch (${error}) {\n\t${}\n}","try catch"]].map((function(e){var t=de(e,2),r=t[0],n=t[1];return{apply:(0,i.DB)(r),label:be(n),type:V.JavaScript,boost:L.JavaScript,detail:N.Snippet}})),ke=[{text:'${library} = require("${library}@${version}")',label:"Require library",description:"Load legacy JS libraries from npm"},{text:'${library} = import("https://cdn.skypack.dev/${library}@${version}")',label:"Import library",description:"Load modern JS libraries from npm"},{text:'import {${cell}} from "@${user}/${notebook}"',label:"Import notebook",description:"Reuse any code on Observable"},{text:'import {${theirCell}} with {${data} as ${theirData}} from "@${user}/${notebook}"',label:"Import-with notebook",description:"Reuse any code on Observable"}].map((function(e){var t=e.text,r=e.label,n=e.description;return{thumbnail:v.Y,description:n,apply:(0,i.DB)(t),label:be(r),type:V.JavaScript,boost:L.Snippet,detail:N.Snippet}}));var Oe=[{text:'${weather}.filter((${d}, i) => ${d.location === "New York"})',label:"Filter array"},{text:"${weather}.map((${d}, i) => ${d.temp_max})",label:"Map array"},{text:"${1:weather}.reduce((reduce, d, i) => ${2:reduce + d.precipitation}, ${3:0})",label:"Reduce array"},{text:"[...${weather}].sort((a, b) => b.${precipitation} - a.${precipitation})",label:"Sort array"}].map((function(e){var t=e.text,r=e.label;return{thumbnail:B,apply:(0,i.DB)(t),label:be(r),type:V.Snippet,boost:L.Snippet,detail:N.Snippet}})),je=[{text:'Plot.plot({\n\tmarks: [\n\t\tPlot.areaY(${aapl}, {x: "${Date}", y: "${Close}"}),\n\t\tPlot.ruleY([0])\n\t]\n})',label:"Area chart",description:"Values over time as filled areas",thumbnail:s},{text:'Plot.plot({\n\tmarks: [\n\t\tPlot.areaY(${weather.slice(-365)}, {x: "${date}", y1: "${temp_min}", y2: "${temp_max}", curve: "step"})\n\t]\n})',label:"Area chart, band",description:"Values over time as filled areas",thumbnail:s},{text:'Plot.plot({\n\ty: {\n\t\ttickFormat: "s"\n\t},\n\tmarks: [\n\t\tPlot.areaY(${industries}, {x: "${date}", y: "${unemployed}", fill: "${industry}"}),\n\t\tPlot.ruleY([0])\n\t]\n})',label:"Area chart, stacked",description:"Values over time as filled areas",thumbnail:s},{text:'Plot.plot({\n\tx: {\n\t\ttype: "log"\n\t},\n\tmarks: [\n\t\tPlot.arrow(${citywages}, {\n\t\t\tx1: "${POP_1980}",\n\t\t\ty1: "${R90_10_1980}",\n\t\t\tx2: "${POP_2015}",\n\t\t\ty2: "${R90_10_2015}",\n\t\t\tbend: true\n\t\t})\n\t]\n})',label:"Arrow chart",description:"Connected pairs of values",thumbnail:function(e){return(0,c.jsxs)("svg",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){j(e,t,r[t])}))}return e}({width:"60",height:"40",viewBox:"0 0 60 40",fill:"none"},e,{children:[(0,c.jsx)("rect",{width:"60",height:"40",rx:"4",fill:"#F5F5F5"}),(0,c.jsx)("rect",{x:"8.5",y:"8.5",width:"43",height:"23",rx:"1.5",fill:"white",stroke:"currentColor"}),(0,c.jsx)("line",{x1:"23.1008",y1:"27.5894",x2:"36.5894",y2:"15.8992",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),(0,c.jsx)("line",{x1:"36.4148",y1:"27.7125",x2:"41.7125",y2:"13.5852",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),(0,c.jsx)("line",{x1:"28.4148",y1:"27.7125",x2:"33.7125",y2:"13.5852",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),(0,c.jsx)("line",{x1:"40.4019",y1:"27.7185",x2:"43.7185",y2:"18.5981",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),(0,c.jsx)("line",{x1:"15.0565",y1:"23.5869",x2:"26.5869",y2:"12.9435",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),(0,c.jsx)("line",{x1:"14.0673",y1:"28.5874",x2:"23.5874",y2:"19.9327",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}))}},{text:'Plot.plot({\n\tmarks: [\n\t\tPlot.barY(${alphabet}, {x: "${letter}", y: "${frequency}", sort: {x: "y", reverse: true}}),\n\t\tPlot.ruleY([0])\n\t]\n})',label:"Bar chart",description:"Values by category as bars",thumbnail:function(e){return(0,c.jsxs)("svg",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){f(e,t,r[t])}))}return e}({width:"60",height:"40",viewBox:"0 0 60 40",fill:"none"},e,{children:[(0,c.jsx)("rect",{width:"60",height:"40",rx:"4",fill:"#F5F5F5"}),(0,c.jsx)("rect",{x:"8.5",y:"8.5",width:"43",height:"23",rx:"1.5",fill:"white",stroke:"#C4C4C4"}),(0,c.jsx)("rect",{x:"24",y:"15",width:"5",height:"15",rx:"1",fill:"currentColor"}),(0,c.jsx)("rect",{x:"45",y:"17",width:"5",height:"13",rx:"1",fill:"currentColor"}),(0,c.jsx)("rect",{x:"31",y:"24",width:"5",height:"6",rx:"1",fill:"currentColor"}),(0,c.jsx)("rect",{x:"38",y:"11",width:"5",height:"19",rx:"1",fill:"currentColor"}),(0,c.jsx)("rect",{x:"10",y:"26",width:"5",height:"4",rx:"1",fill:"currentColor"}),(0,c.jsx)("rect",{x:"17",y:"24",width:"5",height:"6",rx:"1",fill:"currentColor"})]}))}},{text:'Plot.plot({\n\tmarks: [\n\t\tPlot.barX(${alphabet}, {x: "${frequency}", y: "${letter}", sort: {y: "x", reverse: true}}),\n\t\tPlot.ruleX([0])\n\t]\n})',label:"Bar chart, horizontal",description:"Values by category as bars",thumbnail:$},{text:'Plot.plot({\n\tmarks: [\n\t\tPlot.rectY(${weather.slice(-42)}, {x: "${date}", y: "${wind}", interval: ${d3.utcDay}}),\n\t\tPlot.ruleY([0])\n\t]\n})',label:"Bar chart, temporal",description:"Values over time as rects",thumbnail:x},{text:'Plot.plot({\n\tmarks: [\n\t\tPlot.boxX(${olympians}, {x: "${weight}", y: "${sport}", sort: {y: "x"}})\n\t]\n})',label:"Box plot",description:"Quantitative distributions as boxes",thumbnail:$},{text:'Plot.plot({\n\tmarks: [\n\t\tPlot.cell(${weather.slice(-365)}, {\n\t\t\tx: ${d => d.date.getUTCDate()},\n\t\t\ty: ${d => d.date.getUTCMonth()},\n\t\t\tfill: "${temp_max}"\n\t\t})\n\t]\n})',label:"Cell chart",description:"Values by category in a grid",thumbnail:function(e){return(0,c.jsxs)("svg",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){p(e,t,r[t])}))}return e}({width:"60",height:"40",viewBox:"0 0 60 40",fill:"none"},e,{children:[(0,c.jsx)("rect",{width:"60",height:"40",rx:"4",fill:"#F5F5F5"}),(0,c.jsx)("rect",{x:"8.5",y:"8.5",width:"43",height:"23",rx:"1.5",fill:"white",stroke:"currentColor"}),(0,c.jsx)("rect",{x:"13.5",y:"17.5",width:"5",height:"5",rx:"0.5",stroke:"currentColor"}),(0,c.jsx)("rect",{x:"20.5",y:"10.5",width:"5",height:"5",rx:"0.5",stroke:"currentColor"}),(0,c.jsx)("rect",{x:"20",y:"17",width:"6",height:"6",rx:"1",fill:"currentColor"}),(0,c.jsx)("rect",{x:"27",y:"10",width:"6",height:"6",rx:"1",fill:"currentColor"}),(0,c.jsx)("rect",{x:"27",y:"17",width:"6",height:"6",rx:"1",fill:"currentColor"}),(0,c.jsx)("rect",{x:"34.5",y:"10.5",width:"5",height:"5",rx:"0.5",stroke:"currentColor"}),(0,c.jsx)("rect",{x:"34.5",y:"17.5",width:"5",height:"5",rx:"0.5",stroke:"currentColor"}),(0,c.jsx)("rect",{x:"41",y:"10",width:"6",height:"6",rx:"1",fill:"currentColor"}),(0,c.jsx)("rect",{x:"41",y:"17",width:"6",height:"6",rx:"1",fill:"currentColor"}),(0,c.jsx)("rect",{x:"13",y:"24",width:"6",height:"6",rx:"1",fill:"currentColor"}),(0,c.jsx)("rect",{x:"20.5",y:"24.5",width:"5",height:"5",rx:"0.5",stroke:"currentColor"}),(0,c.jsx)("rect",{x:"27.5",y:"24.5",width:"5",height:"5",rx:"0.5",stroke:"currentColor"})]}))}},{text:'Plot.plot({\n\tfacet: {\n\t\tdata: ${penguins},\n\t\tx: "${species}"\n\t},\n\tmarks: [\n\t\tPlot.frame(),\n\t\tPlot.dot(${penguins}, {x: "${culmen_length_mm}", y: "${culmen_depth_mm}"})\n\t]\n})',label:"Faceted chart",description:"Small multiples",thumbnail:function(e){return(0,c.jsxs)("svg",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){b(e,t,r[t])}))}return e}({width:"60",height:"40",viewBox:"0 0 60 40",fill:"none"},e,{children:[(0,c.jsx)("rect",{width:"60",height:"40",rx:"4",fill:"#F5F5F5"}),(0,c.jsx)("rect",{x:"8.5",y:"8.5",width:"20",height:"23",rx:"1.5",fill:"white",stroke:"currentColor"}),(0,c.jsx)("rect",{x:"31.5",y:"8.5",width:"20",height:"23",rx:"1.5",fill:"white",stroke:"currentColor"}),(0,c.jsx)("circle",{cx:"14.5",cy:"26.5",r:"2",stroke:"currentColor"}),(0,c.jsx)("circle",{cx:"17.5",cy:"20.5",r:"2",stroke:"currentColor"}),(0,c.jsx)("circle",{cx:"19.5",cy:"21.5",r:"2",stroke:"currentColor"}),(0,c.jsx)("circle",{cx:"23.5",cy:"25.5",r:"2",stroke:"currentColor"}),(0,c.jsx)("circle",{cx:"36.5",cy:"16.5",r:"2",stroke:"currentColor"}),(0,c.jsx)("circle",{cx:"38.5",cy:"15.5",r:"2",stroke:"currentColor"}),(0,c.jsx)("circle",{cx:"47.5",cy:"12.5",r:"2",stroke:"currentColor"}),(0,c.jsx)("circle",{cx:"44.5",cy:"16.5",r:"2",stroke:"currentColor"})]}))}},{text:'Plot.plot({\n\tmarks: [\n\t\tPlot.rectY(${olympians}, Plot.binX({y: "count"}, {x: "${weight}"})),\n\t\tPlot.ruleY([0])\n\t]\n})',label:"Histogram chart",description:"Quantitative distribution as bars",thumbnail:x},{text:'Plot.plot({\n\tmarks: [\n\t\tPlot.lineY(${aapl}, {x: "${Date}", y: "${Close}"}),\n\t\tPlot.ruleY([0])\n\t]\n})',label:"Line chart",description:"Values over time as lines",thumbnail:O},{text:'Plot.plot({\n\tmarks: [\n\t\tPlot.lineY(${1:aapl}, Plot.windowY({x: "${2:Date}", y: "${3:Close}", k: ${4:10}, reduce: "mean"})),\n\t\tPlot.ruleY([0])\n\t]\n})',label:"Line chart, moving average",description:"Values over time as lines",thumbnail:O},{text:'Plot.plot({\n\tmarks: [\n\t\tPlot.dot(${cars}, {x: "${power (hp)}", y: "${economy (mpg)}"})\n\t]\n})',label:"Scatterplot chart",description:"Correlation or distribution as dots",thumbnail:function(e){return(0,c.jsxs)("svg",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){P(e,t,r[t])}))}return e}({width:"60",height:"40",viewBox:"0 0 60 40",fill:"none"},e,{children:[(0,c.jsx)("rect",{width:"60",height:"40",rx:"4",fill:"#F5F5F5"}),(0,c.jsx)("rect",{x:"8.5",y:"8.5",width:"43",height:"23",rx:"1.5",fill:"white",stroke:"#C4C4C4"}),(0,c.jsx)("circle",{cx:"15.5",cy:"25.5",r:"2",stroke:"currentColor"}),(0,c.jsx)("circle",{cx:"19.5",cy:"20.5",r:"2",stroke:"currentColor"}),(0,c.jsx)("circle",{cx:"21.5",cy:"21.5",r:"2",stroke:"currentColor"}),(0,c.jsx)("circle",{cx:"33.5",cy:"19.5",r:"2",stroke:"currentColor"}),(0,c.jsx)("circle",{cx:"39.5",cy:"18.5",r:"2",stroke:"currentColor"}),(0,c.jsx)("circle",{cx:"41.5",cy:"17.5",r:"2",stroke:"currentColor"}),(0,c.jsx)("circle",{cx:"28.5",cy:"23.5",r:"2",stroke:"currentColor"}),(0,c.jsx)("circle",{cx:"25.5",cy:"17.5",r:"2",stroke:"currentColor"}),(0,c.jsx)("circle",{cx:"45.5",cy:"13.5",r:"2",stroke:"currentColor"})]}))}},{text:'Plot.plot({\n\tmarks: [\n\t\tPlot.tickX(${cars}, {x: "${economy (mpg)}", y: "${year}"})\n\t]\n})',label:"Tick chart",description:"Quantitative distributions as lines",thumbnail:function(e){return(0,c.jsxs)("svg",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){D(e,t,r[t])}))}return e}({width:"60",height:"40",viewBox:"0 0 60 40",fill:"none"},e,{children:[(0,c.jsx)("rect",{width:"60",height:"40",rx:"4",fill:"#F5F5F5"}),(0,c.jsx)("rect",{x:"8.5",y:"8.5",width:"43",height:"23",rx:"1.5",fill:"white",stroke:"currentColor"}),(0,c.jsx)("rect",{x:"13",y:"14",width:"2",height:"12",rx:"1",fill:"currentColor"}),(0,c.jsx)("rect",{x:"16",y:"14",width:"2",height:"12",rx:"1",fill:"currentColor"}),(0,c.jsx)("rect",{x:"24",y:"14",width:"2",height:"12",rx:"1",fill:"currentColor"}),(0,c.jsx)("rect",{x:"27",y:"14",width:"5",height:"12",rx:"1",fill:"currentColor"}),(0,c.jsx)("rect",{x:"33",y:"14",width:"3",height:"12",rx:"1",fill:"currentColor"}),(0,c.jsx)("rect",{x:"37",y:"14",width:"2",height:"12",rx:"1",fill:"currentColor"}),(0,c.jsx)("rect",{x:"45",y:"14",width:"2",height:"12",rx:"1",fill:"currentColor"})]}))}},{text:'Plot.plot({\n\tmarks: [\n\t\tPlot.barX(${olympians}, Plot.groupY({x: "count"}, {y: "${nationality}", sort: {y: "x", reverse: true, limit: 10}})),\n\t\tPlot.ruleX([0])\n\t]\n})',label:"Top 10 bar chart",description:"Group and sort categories by count",thumbnail:$},{text:'Plot.plot({\n\tmarks: [\n\t\tPlot.barX(${olympians}, Plot.groupY({x: "sum"}, {x: "${gold}", y: "${nationality}", sort: {y: "x", reverse: true, limit: 10}})),\n\t\tPlot.ruleX([0])\n\t]\n})',label:"Top 10 bar chart, weighted",description:"Group and sort categories by value",thumbnail:$}].map((function(e){var t=e.text,r=e.label,n=e.description;return{thumbnail:e.thumbnail,description:n,apply:(0,i.DB)(t),label:be(r),type:V.Snippet,boost:L.Snippet,detail:N.Snippet}})),Ce=[{apply:he((function(e){return"viewof #{".concat(e("button"),'} = Inputs.button("#{Click me}")')})),label:"Button input",shortLabel:"Button",description:"Do something on click",thumbnail:function(e){return(0,c.jsxs)("svg",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){d(e,t,r[t])}))}return e}({width:"60",height:"40",viewBox:"0 0 60 40",fill:"none"},e,{children:[(0,c.jsx)("rect",{width:"60",height:"40",rx:"4",fill:"#F5F5F5"}),(0,c.jsx)("rect",{x:"7.5",y:"12.5",width:"45",height:"15",rx:"3.5",fill:"white"}),(0,c.jsx)("rect",{x:"18",y:"16",width:"24",height:"8",rx:"1",fill:"#E8E8E8"}),(0,c.jsx)("rect",{x:"7.5",y:"12.5",width:"45",height:"15",rx:"3.5",stroke:"currentColor"})]}))}},{apply:he((function(e){return"viewof #{".concat(e("checkboxes"),'} = Inputs.checkbox(#{["A", "B"]}, {label: "#{Select some}", value: [#{"A"}]})')})),label:"Checkbox input",shortLabel:"Checkbox",description:"Choose one or many from a list",thumbnail:function(e){return(0,c.jsxs)("svg",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){y(e,t,r[t])}))}return e}({width:"60",height:"40",viewBox:"0 0 60 40",fill:"none"},e,{children:[(0,c.jsx)("rect",{width:"60",height:"40",rx:"4",fill:"#F5F5F5"}),(0,c.jsx)("rect",{x:"34.5",y:"13.5",width:"13",height:"13",rx:"1.5",fill:"white",stroke:"currentColor"}),(0,c.jsx)("rect",{x:"12.5",y:"13.5",width:"13",height:"13",rx:"1.5",fill:"currentColor",stroke:"currentColor"}),(0,c.jsx)("path",{d:"M16 21L18 23L23 17",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}))}},{apply:he((function(e){return"viewof #{".concat(e("color"),'} = Inputs.color({label: "#{Favorite color}", value: "#{#4682b4}"})')})),label:"Color input",shortLabel:"Color",description:"Choose a color from a palette",thumbnail:function(e){return(0,c.jsxs)("svg",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){h(e,t,r[t])}))}return e}({width:"60",height:"40",viewBox:"0 0 60 40",fill:"none"},e,{children:[(0,c.jsx)("rect",{width:"60",height:"40",rx:"4",fill:"#F5F5F5"}),(0,c.jsx)("rect",{x:"7.5",y:"7.5",width:"45",height:"25",rx:"3.5",fill:"white"}),(0,c.jsx)("rect",{x:"11.5",y:"11.5",width:"5",height:"5",rx:"0.5",stroke:"currentColor"}),(0,c.jsx)("rect",{x:"19.5",y:"11.5",width:"5",height:"5",rx:"0.5",stroke:"currentColor"}),(0,c.jsx)("rect",{x:"27.5",y:"11.5",width:"5",height:"5",rx:"0.5",stroke:"currentColor"}),(0,c.jsx)("rect",{x:"35.5",y:"11.5",width:"5",height:"5",rx:"0.5",stroke:"currentColor"}),(0,c.jsx)("rect",{x:"43.5",y:"11.5",width:"5",height:"5",rx:"0.5",stroke:"currentColor"}),(0,c.jsx)("rect",{x:"11",y:"19",width:"6",height:"6",rx:"1",fill:"#E8E8E8"}),(0,c.jsx)("rect",{x:"19",y:"19",width:"6",height:"6",rx:"1",fill:"#E8E8E8"}),(0,c.jsx)("rect",{x:"27",y:"19",width:"6",height:"6",rx:"1",fill:"#E8E8E8"}),(0,c.jsx)("rect",{x:"35",y:"19",width:"6",height:"6",rx:"1",fill:"#E8E8E8"}),(0,c.jsx)("rect",{x:"43",y:"19",width:"6",height:"6",rx:"1",fill:"#E8E8E8"}),(0,c.jsx)("rect",{x:"11",y:"27",width:"6",height:"6",rx:"1",fill:"#C4C4C4"}),(0,c.jsx)("rect",{x:"19",y:"27",width:"6",height:"6",rx:"1",fill:"#C4C4C4"}),(0,c.jsx)("rect",{x:"27",y:"27",width:"6",height:"6",rx:"1",fill:"#C4C4C4"}),(0,c.jsx)("rect",{x:"35",y:"27",width:"6",height:"6",rx:"1",fill:"#C4C4C4"}),(0,c.jsx)("rect",{x:"43",y:"27",width:"6",height:"6",rx:"1",fill:"#C4C4C4"}),(0,c.jsx)("rect",{x:"7.5",y:"7.5",width:"45",height:"25",rx:"3.5",stroke:"currentColor"})]}))}},{apply:he((function(e){return"viewof #{".concat(e("date"),'} = Inputs.date({label: "#{Date}", value: "#{').concat((new Date).toISOString().slice(0,10),'}"})')})),label:"Date input",shortLabel:"Date",description:"Choose a date from a calendar",thumbnail:function(e){return(0,c.jsxs)("svg",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){m(e,t,r[t])}))}return e}({width:"60",height:"40",viewBox:"0 0 60 40",fill:"none"},e,{children:[(0,c.jsx)("rect",{width:"60",height:"40",rx:"4",fill:"#F5F5F5"}),(0,c.jsx)("rect",{x:"7.5",y:"12.5",width:"45",height:"15",rx:"3.5",fill:"white"}),(0,c.jsx)("rect",{x:"41.5",y:"17.5",width:"7",height:"6",rx:"0.5",stroke:"currentColor"}),(0,c.jsx)("path",{d:"M42 16.5C42 16.2239 42.2239 16 42.5 16V16C42.7761 16 43 16.2239 43 16.5V18H42V16.5Z",fill:"currentColor"}),(0,c.jsx)("path",{d:"M47 16.5C47 16.2239 47.2239 16 47.5 16V16C47.7761 16 48 16.2239 48 16.5V18H47V16.5Z",fill:"currentColor"}),(0,c.jsx)("rect",{x:"42",y:"18",width:"6",height:"1",fill:"currentColor"}),(0,c.jsx)("rect",{x:"11",y:"16",width:"24",height:"8",rx:"1",fill:"#E8E8E8"}),(0,c.jsx)("rect",{x:"7.5",y:"12.5",width:"45",height:"15",rx:"3.5",stroke:"currentColor"})]}))}},{apply:he((function(e){return"viewof #{".concat(e("file"),'} = Inputs.file({label: "Data"})')})),label:"File input",shortLabel:"File",description:"Choose a local file",thumbnail:function(e){return(0,c.jsxs)("svg",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){g(e,t,r[t])}))}return e}({width:"60",height:"40",viewBox:"0 0 60 40",fill:"none"},e,{children:[(0,c.jsx)("rect",{width:"60",height:"40",rx:"4",fill:"#F5F5F5"}),(0,c.jsx)("rect",{x:"7.5",y:"12.5",width:"45",height:"15",rx:"3.5",fill:"white"}),(0,c.jsx)("path",{d:"M48 23.5H43C42.7239 23.5 42.5 23.2761 42.5 23V17C42.5 16.7239 42.7239 16.5 43 16.5H45.5858C45.7184 16.5 45.8456 16.5527 45.9393 16.6464L47.1464 17.8536L48.3536 19.0607C48.4473 19.1544 48.5 19.2816 48.5 19.4142V23C48.5 23.2761 48.2761 23.5 48 23.5Z",stroke:"currentColor"}),(0,c.jsx)("path",{d:"M45.5 16.5V19C45.5 19.2761 45.7239 19.5 46 19.5H48.5",stroke:"currentColor"}),(0,c.jsx)("rect",{x:"11",y:"16",width:"24",height:"8",rx:"1",fill:"#E8E8E8"}),(0,c.jsx)("rect",{x:"7.5",y:"12.5",width:"45",height:"15",rx:"3.5",stroke:"currentColor"})]}))}},{apply:he((function(e){return"viewof #{".concat(e("radios"),'} = Inputs.radio(#{["A", "B"]}, {label: "#{Select one}", value: "#{A}"})')})),label:"Radio input",shortLabel:"Radio",description:"Choose one from a list",thumbnail:function(e){return(0,c.jsxs)("svg",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){C(e,t,r[t])}))}return e}({width:"60",height:"40",viewBox:"0 0 60 40",fill:"none"},e,{children:[(0,c.jsx)("rect",{width:"60",height:"40",rx:"4",fill:"#F5F5F5"}),(0,c.jsx)("rect",{x:"34.5",y:"13.5",width:"13",height:"13",rx:"6.5",fill:"white",stroke:"currentColor"}),(0,c.jsx)("rect",{x:"12.5",y:"13.5",width:"13",height:"13",rx:"6.5",fill:"currentColor",stroke:"currentColor"}),(0,c.jsx)("circle",{cx:"19",cy:"20",r:"3",fill:"white"})]}))}},{apply:he((function(e){return"viewof #{1:".concat(e("range"),'} = Inputs.range([#{2:0}, #{3:100}], {label: "#{Amount}", step: #{4:1}})')})),label:"Range input",shortLabel:"Range",description:"Choose a number with a slider",thumbnail:function(e){return(0,c.jsxs)("svg",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){_(e,t,r[t])}))}return e}({width:"60",height:"40",viewBox:"0 0 60 40",fill:"none"},e,{children:[(0,c.jsx)("rect",{width:"60",height:"40",rx:"4",fill:"#F5F5F5"}),(0,c.jsx)("rect",{x:"7.5",y:"17.5",width:"47",height:"5",rx:"2.5",fill:"white",stroke:"currentColor"}),(0,c.jsx)("rect",{x:"7",y:"17",width:"33",height:"6",rx:"3",fill:"currentColor"}),(0,c.jsx)("circle",{cx:"38",cy:"20",r:"5.5",fill:"white",stroke:"currentColor"})]}))}},{apply:he((function(e){return"viewof #{".concat(e("search"),"} = Inputs.search(#{cars})")})),label:"Search input",shortLabel:"Search",description:"Full-text search of tabular data",thumbnail:function(e){return(0,c.jsxs)("svg",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){A(e,t,r[t])}))}return e}({width:"60",height:"40",viewBox:"0 0 60 40",fill:"none"},e,{children:[(0,c.jsx)("rect",{width:"60",height:"40",rx:"4",fill:"#F5F5F5"}),(0,c.jsx)("rect",{x:"7.5",y:"12.5",width:"45",height:"15",rx:"3.5",fill:"white"}),(0,c.jsx)("rect",{x:"7.5",y:"12.5",width:"45",height:"15",rx:"3.5",stroke:"currentColor"}),(0,c.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.2583 17.3642C13.2122 17.3642 12.3642 18.2122 12.3642 19.2583C12.3642 20.3043 13.2122 21.1523 14.2583 21.1523C15.3043 21.1523 16.1523 20.3043 16.1523 19.2583C16.1523 18.2122 15.3043 17.3642 14.2583 17.3642ZM11.25 19.2583C11.25 17.5968 12.5968 16.25 14.2583 16.25C15.9197 16.25 17.2665 17.5968 17.2665 19.2583C17.2665 19.8991 17.0661 20.4932 16.7246 20.9812L16.7842 20.9216L19.0125 23.1499L18.2247 23.9378L15.9989 21.7121C15.5076 22.0612 14.9069 22.2665 14.2583 22.2665C12.5968 22.2665 11.25 20.9197 11.25 19.2583Z",fill:"currentColor"})]}))}},{apply:he((function(e){return"viewof #{".concat(e("select"),'} = Inputs.select(#{["A", "B"]}, {label: "#{Select one}"})')})),label:"Select input",shortLabel:"Select",description:"Choose one (or many) from a menu",thumbnail:function(e){return(0,c.jsxs)("svg",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){I(e,t,r[t])}))}return e}({width:"60",height:"40",viewBox:"0 0 60 40",fill:"none"},e,{children:[(0,c.jsx)("rect",{width:"60",height:"40",rx:"4",fill:"#F5F5F5"}),(0,c.jsx)("rect",{x:"7.5",y:"12.5",width:"45",height:"15",rx:"3.5",fill:"white"}),(0,c.jsx)("rect",{x:"11",y:"16",width:"23",height:"8",rx:"1",fill:"#E8E8E8"}),(0,c.jsx)("path",{d:"M41 19L44 22L47 19",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("rect",{x:"7.5",y:"12.5",width:"45",height:"15",rx:"3.5",stroke:"currentColor"})]}))}},{apply:he((function(e){return"viewof #{".concat(e("table"),"} = Inputs.table(#{cars})")})),label:"Table input",shortLabel:"Table",description:"Choose rows from a tabular dataset",thumbnail:function(e){return(0,c.jsxs)("svg",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){E(e,t,r[t])}))}return e}({width:"60",height:"40",viewBox:"0 0 60 40",fill:"none"},e,{children:[(0,c.jsx)("rect",{width:"60",height:"40",rx:"4",fill:"#F5F5F5"}),(0,c.jsx)("rect",{x:"6",y:"6",width:"48",height:"28",rx:"4",fill:"white"}),(0,c.jsx)("rect",{x:"10",y:"10",width:"14",height:"4",rx:"1",fill:"currentColor"}),(0,c.jsx)("rect",{x:"10",y:"18",width:"8",height:"4",rx:"1",fill:"#E8E8E8"}),(0,c.jsx)("rect",{x:"10",y:"26",width:"10",height:"4",rx:"1",fill:"#E8E8E8"}),(0,c.jsx)("rect",{x:"28",y:"10",width:"18",height:"4",rx:"1",fill:"currentColor"}),(0,c.jsx)("rect",{x:"28",y:"18",width:"22",height:"4",rx:"1",fill:"#E8E8E8"}),(0,c.jsx)("rect",{x:"28",y:"26",width:"21",height:"4",rx:"1",fill:"#E8E8E8"})]}))}},{apply:he((function(e){return"viewof #{".concat(e("text"),'} = Inputs.text({label: "#{Name}"})')})),label:"Text input",shortLabel:"Text",description:"Freeform, single-line text input",thumbnail:function(e){return(0,c.jsxs)("svg",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){M(e,t,r[t])}))}return e}({width:"60",height:"40",viewBox:"0 0 60 40",fill:"none"},e,{children:[(0,c.jsx)("rect",{width:"60",height:"40",rx:"4",fill:"#F5F5F5"}),(0,c.jsx)("rect",{x:"7.5",y:"12.5",width:"45",height:"15",rx:"3.5",fill:"white"}),(0,c.jsx)("rect",{x:"11",y:"16",width:"11",height:"8",rx:"1",fill:"#E8E8E8"}),(0,c.jsx)("path",{d:"M25 16V24",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("rect",{x:"7.5",y:"12.5",width:"45",height:"15",rx:"3.5",stroke:"currentColor"})]}))}},{apply:he((function(e){return"viewof #{".concat(e("textarea"),'} = Inputs.textarea({label: "#{Description}"})')})),label:"Textarea input",shortLabel:"Textarea",description:"Freeform, multi-line text input",thumbnail:function(e){return(0,c.jsxs)("svg",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){T(e,t,r[t])}))}return e}({width:"60",height:"40",viewBox:"0 0 60 40",fill:"none"},e,{children:[(0,c.jsx)("rect",{width:"60",height:"40",rx:"4",fill:"#F5F5F5"}),(0,c.jsx)("rect",{x:"6.5",y:"6.5",width:"47",height:"27",rx:"3.5",fill:"white"}),(0,c.jsx)("rect",{x:"10",y:"10",width:"9",height:"8",rx:"1",fill:"#E8E8E8"}),(0,c.jsx)("rect",{x:"22",y:"10",width:"28",height:"8",rx:"1",fill:"#E8E8E8"}),(0,c.jsx)("rect",{x:"10",y:"22",width:"21",height:"8",rx:"1",fill:"#E8E8E8"}),(0,c.jsx)("path",{d:"M34 22V30",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("rect",{x:"6.5",y:"6.5",width:"47",height:"27",rx:"3.5",stroke:"currentColor"})]}))}},{apply:he((function(e){return"viewof #{".concat(e("toggle"),'} = Inputs.toggle({label: "#{Active}", value: #{true}})')})),label:"Toggle input",shortLabel:"Toggle",description:"Choose on or off",thumbnail:function(e){return(0,c.jsxs)("svg",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){F(e,t,r[t])}))}return e}({width:"60",height:"40",viewBox:"0 0 60 40",fill:"none"},e,{children:[(0,c.jsx)("rect",{width:"60",height:"40",rx:"4",fill:"#F5F5F5"}),(0,c.jsx)("rect",{x:"17",y:"13",width:"26",height:"14",rx:"7",fill:"currentColor"}),(0,c.jsx)("circle",{cx:"36",cy:"20",r:"5.5",fill:"white",stroke:"currentColor"})]}))}},{apply:he((function(e){return"viewof #{".concat(e("form"),'} = Inputs.form({\n\t#{option1}: Inputs.checkbox([#{"A", "B"}], {label: "#{Select some}"}),\n\t#{option2}: Inputs.range([#{0, 100}], {label: "#{Amount}", step: 1}),\n\t#{option3}: Inputs.radio([#{"A", "B"}], {label: "#{Select one}"}),\n\t#{option4}: Inputs.select([#{"A", "B"}], {label: "#{Select one}"})\n})')})),label:"Form input",shortLabel:"Form",description:"Combine multiple inputs",thumbnail:function(e){return(0,c.jsxs)("svg",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){w(e,t,r[t])}))}return e}({width:"60",height:"40",viewBox:"0 0 60 40",fill:"none"},e,{children:[(0,c.jsx)("rect",{width:"60",height:"40",rx:"4",fill:"#F5F5F5"}),(0,c.jsx)("rect",{x:"19.5",y:"5.5",width:"9",height:"9",rx:"1.5",fill:"white",stroke:"currentColor"}),(0,c.jsx)("rect",{x:"33.5",y:"5.5",width:"9",height:"9",rx:"1.5",fill:"white",stroke:"currentColor"}),(0,c.jsx)("rect",{x:"5.5",y:"5.5",width:"9",height:"9",rx:"1.5",fill:"currentColor",stroke:"currentColor"}),(0,c.jsx)("path",{d:"M7.85712 10.7143L9.28569 12.1429L12.8571 7.85715",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("rect",{x:"5.5",y:"20.5",width:"47",height:"4",rx:"2",fill:"white",stroke:"currentColor"}),(0,c.jsx)("rect",{x:"5",y:"20",width:"33",height:"5",rx:"2.5",fill:"currentColor"}),(0,c.jsx)("circle",{cx:"34.5",cy:"22.5",r:"4",fill:"white",stroke:"currentColor"}),(0,c.jsx)("rect",{x:"5.5",y:"30.5",width:"47",height:"4",rx:"2",fill:"white",stroke:"currentColor"}),(0,c.jsx)("rect",{x:"5",y:"30",width:"17",height:"5",rx:"2.5",fill:"currentColor"}),(0,c.jsx)("circle",{cx:"19.5",cy:"32.5",r:"4",fill:"white",stroke:"currentColor"})]}))}}].map((function(e){var t=e.apply,r=e.label,n=e.shortLabel;return{description:e.description,thumbnail:e.thumbnail,apply:t,label:be(r),shortLabel:n,type:V.Snippet,boost:L.Snippet,detail:N.Snippet}})),_e=me.concat(ge,je,Oe),Pe=[[he((function(e){return"#{".concat(e("name"),"} = #{1 + 2}")})),"expression cell"],[he((function(e){return"#{".concat(e("name"),"} = {\n\tfor (let i = 0; i < 100; ++i) {\n\t\tyield i;\n\t}\n}")})),"generator cell"],[he((function(e){return"#{".concat(e("name"),"} = {\n\treturn #{1 + 2};\n}")})),"block cell"],[he((function(e){return"mutable #{".concat(e("name"),"} = #{1 + 2}")})),"mutable cell"],[he((function(e){return"viewof #{".concat(e("name"),"} = htl.html`#{<input type=range>}`")})),"viewof cell"]].map((function(e){var t=de(e,2);return{apply:t[0],label:be(t[1]),type:V.JavaScript,boost:L.JavaScriptCell,detail:N.Snippet}})).concat(ke,[],Ce);function Ae(e){var t=(0,i.dk)(e),r=e.state.field(re.l);return t&&r&&r({type:"acceptSnippet",id:e.state.field(ie.X),source:"Autocomplete menu"}),t}var Ie=[{key:"Tab",run:Ae},{key:"Ctrl-Space",run:function(e){var t=(0,i.WA)(e),r=e.state.field(re.l);return t&&r&&r({type:"requestSnippets",id:e.state.field(ie.X),trigger:"keypress",source:"Ctrl-Space"}),t}},{key:"Escape",run:i._B},{key:"ArrowDown",run:(0,i.gq)(!0)},{key:"ArrowUp",run:(0,i.gq)(!1)},{key:"PageDown",run:(0,i.gq)(!0,"page")},{key:"PageUp",run:(0,i.gq)(!1,"page")},{key:"Enter",run:Ae}];function Ee(e){var t=e.state.field(re.l);return new K(e).run(t)}var Me=new Set(["PropertyName",".",".?","MemberExpression","VariableName"]);function Te(e){var t=e.state.field(re.l),r=(0,a.qz)(e.state).cursor(e.pos,-1),n="?."===r.name||"."===r.name,o=[];do{var i=r.name,u=r.from,c=r.to;if(!Me.has(i))break;if("PropertyName"===i&&n&&o.push(e.state.sliceDoc(u,c)),"?."!==i&&"."!==i||(n=!0),"VariableName"===i){var l=e.state.sliceDoc(u,c);return new K(e,l,o).run(t)}}while(r.prev());return null}function De(){return[(0,i.ys)({defaultKeymap:!1,override:[Re((function(e){return We(e)&&Qe(e)}),(0,i.Mb)(Pe)),Re((function(e){return Je(e)&&Ke(e)}),(0,i.Mb)(xe)),Re((function(e){return Je(e)&&function(e){return ze(e)||Ke(e)||Qe(e)||He(e)}(e)}),(0,i.Mb)(_e)),Re((function(e){return Je(e)&&ze(e)}),Ee),Re((function(e){return Je(e)&&qe(e)}),Te),Re((function(e){return Je(e)&&ze(e)}),(function(e){return(0,i.Mb)(function(e){return we.concat(Array.from(e.state.field(ue.rr),(function(e){return{apply:(0,i.DB)(e),label:be(e),type:V.Reference,boost:L.Reference,detail:N.Cell}})))}(e))(e)})),Re((function(e){return We(e)&&Be(e)}),(function(e){return(0,i.Mb)(function(e){var t=(0,a.qz)(e.state).cursor(e.pos,-1),r=t.node.type.name;if("VariableName"!==r&&"PropertyName"!==r&&"PrivatePropertyName"!==r)return[];var n=[];do{var o=t.node;t.parent()&&t.firstChild();do{t.node!==o&&Fe(t.node,n,e,t.node)}while(t.nextSibling())}while(t.parent());return n}(e))(e)})),Re((function(e){return Je(e)&&Ue(e)}),(function(e){return(0,i.Mb)(function(e){return e.state.field(ne._).map((function(e){return{apply:(0,i.DB)(e),label:e,type:V.Data,boost:L.Data,detail:N.File}}))}(e))(e)})),Re((function(e){return Je(e)&&Ve(e)}),function(){var e=se(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=i.Mb,e.next=3,at(t);case 3:return e.t1=e.sent,e.t2=(0,e.t0)(e.t1),e.abrupt("return",(0,e.t2)(t));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Re((function(e){return Je(e)&&Le(e)}),function(){var e=se(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=i.Mb,e.next=3,ct(t);case 3:return e.t1=e.sent,e.t2=(0,e.t0)(e.t1),e.abrupt("return",(0,e.t2)(t));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Re((function(e){return Je(e)&&function(e){return it(e)&&ot(e)}(e)}),(function(e){return(0,i.Mb)(function(e){switch(function(e){var t=(0,a.qz)(e.state).resolve(e.pos,-1).prevSibling;if("VariableName"===(null===t||void 0===t?void 0:t.name))return e.state.sliceDoc(t.from,t.to);return null}(e)){case"dot":return tt;case"md":return rt;case"mermaid":return et}return[]}(e))(e)})),Re((function(e){return function(e){return Xe(e)&&!Ze(e)}(e)&&ot(e)}),(0,i.Mb)(rt))]}),u.tk.domEventHandlers({blur:function(e,t){(0,i._B)(t),(0,i.Rn)(t)}})]}function Fe(e,t,r,n){switch(e.type.name){case"ParamList":case"ObjectPattern":case"ArrayPattern":for(var o=e.firstChild;o;o=o.nextSibling)Fe(o,t,r,n);break;case"PropertyDeclaration":case"VariableDeclaration":case"MethodDeclaration":case"FunctionDeclaration":case"ClassDeclaration":var i=pe(e.getChildren("VariableDefinition")).concat(pe(e.getChildren("PrivatePropertyDefinition")),pe(e.getChildren("PropertyDefinition")),pe(e.getChildren("ObjectPattern"))),a=!0,u=!1,c=void 0;try{for(var l,s=i[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){Fe(l.value,t,r,e)}}catch(d){u=!0,c=d}finally{try{a||null==s.return||s.return()}finally{if(u)throw c}}break;case"PatternProperty":Fe(e.lastChild,t,r,n);break;case"PrivatePropertyName":case"PrivatePropertyDefinition":case"PropertyName":case"PropertyDefinition":case"VariableDefinition":if(e===n)break;var f=r.state.sliceDoc(e.from,e.to);if("constructor"===f&&("PropertyDefinition"===n.type.name||"MethodDeclaration"===n.type.name))break;t.push(function(e,t){switch(t.type.name){case"VariableDeclaration":case"ParamList":case"ClassDeclaration":case"FunctionDeclaration":case"MethodDeclaration":case"PropertyDeclaration":return{label:e,type:V.JavaScript,boost:L.JavaScriptLocal,detail:N.Local}}return{label:e,type:V.JavaScript}}(f,n))}}function Re(e,t){return function(r){return e(r)?t(r):null}}function $e(e){return function(t){var r,n,o=(0,a.qz)(t.state).resolve(t.pos,-1);if("String"===o.name&&"ArgList"===(null===(r=o.parent)||void 0===r?void 0:r.name)&&"VariableName"===(null===(n=o.parent.prevSibling)||void 0===n?void 0:n.name)&&t.pos===o.to-1){var i=o.parent.prevSibling,u=i.from,c=i.to;return t.state.sliceDoc(u,c)===e}return!1}}var Ue=$e("FileAttachment"),Ve=$e("DatabaseClient"),Le=$e("Secret");function Ne(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){var r=(0,a.qz)(e.state).resolve(e.pos,-1);return t.includes(r.name)}}var Be=Ne("VariableDefinition","VariableName","PropertyName","PrivatePropertyName","Number"),qe=Ne(".","?.","PropertyName"),ze=Ne("VariableName"),Ze=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,o;return function(e){if(e===o)return n;o=e;for(var r=(0,a.qz)(e.state).resolve(e.pos,-1);r;r=r.parent)if(t.includes(r.name))return n=!0;return n=!1}}("Interpolation"),He=Ne("InterpolationOpenMark");function Ye(e){return function(t){return t.state.field(oe.C)===e}}var We=Ye("js"),Xe=Ye("md");function Je(e){return We(e)||Ze(e)}function Ge(e){return function(t){var r,n,o,i=(0,a.qz)(t.state).resolve(t.pos,-1);return i.name===e||"VariableName"===i.name&&"ExpressionStatement"===(null===(r=i.parent)||void 0===r?void 0:r.name)&&(null===(n=i.parent)||void 0===n||null===(o=n.parent)||void 0===o?void 0:o.name)===e}}var Qe=Ge("Cell"),Ke=Ge("Block"),et=[["graph TD\na--\x3eb\nb--\x3ec","graph TD"],["graph LR\na--\x3eb\nb--\x3ec","graph LR"]].map((function(e){var t=de(e,2),r=t[0],n=t[1];return{apply:(0,i.DB)(r),label:be(n),type:V.Snippet,boost:L.Snippet,detail:N.Mermaid}})),tt=[["graph g {\n\ta -- b -- c;\n}","graph"],["digraph g {\n\ta -> b -> c;\n}","digraph"]].map((function(e){var t=de(e,2),r=t[0],n=t[1];return{apply:(0,i.DB)(r),label:be(n),type:V.Snippet,boost:L.Snippet,detail:N.Dot}})),rt=[["# ${heading}","Heading 1","Main headline"],["## ${heading}","Heading 2","Section headline"],["### ${heading}","Heading 3","Subhead"],["| name   | quantity |\n| ------ | -------- |\n| apples | 12       |\n| pears  | 34       |","Table","Content in rows and columns",nt],["- ${text}","Bulleted list","Unordered series of items"],["1. ${text}","Numbered list","Ordered series of items"],["> ${text}","Blockquote","Indented text"],["![${text}](${url})","Image","Display a picture or figure"],["~~~\n${}\n~~~","Code block","Preformatted monospaced text",nt],["---","Horizontal rule","Section divider",nt]].map((function(e){var t=de(e,4),r=t[0],n=t[1],o=t[2],a=t[3];return{apply:(void 0===a?function(e){return e}:a)((0,i.DB)(r)),label:be(n),description:o,type:V.Snippet,boost:L.Snippet,detail:N.Markdown}}));function nt(e){return function(t,r,n,o){fe(t,u.tk)&&o!==t.state.doc.lineAt(o).to&&t.dispatch({changes:[{from:o,insert:"\n"}]}),e(t,r,n,o)}}function ot(e){var t=e.state.doc.lineAt(e.pos);return!e.state.sliceDoc(t.from,e.pos).includes(" ")}var it=Ne("TemplateString");function at(e){return ut.apply(this,arguments)}function ut(){return(ut=se(o().mark((function e(t){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.state.field(ae.Z)){e.next=3;break}return e.abrupt("return",[]);case 3:return e.next=5,(0,ee.a8)("".concat("team"===r.type?"/team/".concat(r.id):"/user","/data-connectors?detail=false"));case 5:return n=e.sent,e.abrupt("return",n.map((function(e){var t=e.name;return{apply:(0,i.DB)(t),label:t,type:V.Data,boost:L.Data,detail:N.Database}})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ct(e){return lt.apply(this,arguments)}function lt(){return(lt=se(o().mark((function e(t){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.state.field(ae.Z)){e.next=3;break}return e.abrupt("return",[]);case 3:return e.next=5,(0,ee.a8)("".concat("team"===r.type?"/team/".concat(r.id):"/user","/secrets"));case 5:return n=e.sent,e.abrupt("return",n.map((function(e){var t=e.name;return{apply:(0,i.DB)(t),label:t,type:V.Data,boost:L.Data,detail:N.Secret}})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},7469:function(e,t,r){function n(e){return 0===e.doc.length}r.d(t,{Z:function(){return n}})},21684:function(e,t,r){r.d(t,{Xl:function(){return B},_g:function(){return N},Hk:function(){return $},Bt:function(){return U}});var n=r(93603),o=r(58705),i=r(88081),a=r(52945),u=r(59119),c=r(89032),l=r(76739),s=r(75865),f=r(78120),d=r(14456),p=r(9606),y=r(1864),h=r(58489),v=r(30883);var m=r(18270),b=r(69441);var g=r(53261),w=r(76135),S=r(6917),x=r(25158),k=r(28641);function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var j={visibility:"hidden"};var C=r(48373);function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var P=r(2334),A=r(5952);var I=r(18680),E=r(49475),M=r(48152),T=r(730),D=r(48764).Buffer;function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function R(e){return function(e){if(Array.isArray(e))return F(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return F(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}"undefined"===typeof btoa&&(r.g.btoa=function(e){return D.from(e+"","binary").toString("base64")});var $={keymap:new f.F6,closeBrackets:new f.F6,modeExtensions:new f.F6},U=R(A.Y).concat(R(a.f$),R(o.Du));var V,L=[(0,w.Hk)(),f.Wl.highest(d.$f.of(w.f8))],N=[(0,n.vQ)(),f.Wl.high(d.$f.of(n.GA))],B=[E.zT,d.tk.theme(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){O(e,t,r[t])}))}return e}({"&":{backgroundColor:"var(--near-white)",color:"var(--syntax-normal)",margin:"0px -14px",wordBreak:"break-word",borderRadius:"0.25rem",borderLeft:"solid ".concat(4,"px transparent"),"&.cm-focused":{outline:"none !important"},"&.cm-focused .cm-activeLine":{borderLeft:"solid ".concat(4,"px var(--observable-focus-blue)"),marginLeft:"-".concat(4,"px")},"&.cm-focused .cm-activeLine.cm-errorLine":{borderLeftColor:"var(--dark-red)"},"&.cm-focused .cm-matchingBracket":{color:"var(--syntax-matchbracket)"},"&:not(.cm-focused) .cm-cursor":j,"&:not(.cm-focused) .cm-placeholder":j,"&:not(.cm-focused) .cm-selectionBackground":j},".cm-scroller":{font:"var(--monospace-font)",overflow:"initial"},".cm-matchingBracket, &:not(.cm-focused) .cm-selectionMatch":{backgroundColor:"transparent"},".cm-line":{padding:"0 2px 0 10px","&:first-child":{marginRight:"20px"}},".cm-activeLine":{backgroundColor:"inherit"},".cm-errorLine":{borderLeft:"solid ".concat(4,"px var(--red)"),marginLeft:"-".concat(4,"px")},".cm-matchingBracket, .cm-nonmatchingBracket":{color:"inherit"},".node-hover &":{borderRadius:"0 0.25rem 0.25rem 0"},".node-focus &":{borderRadius:(0,x.t)()?"0 0.25rem 0 0":"0 0.25rem 0.25rem 0"},".node-select &, .node-sql &":{borderRadius:"0 0 0.25rem 0.25rem"},".node-sql.node-focus &, .node-sql.node-hover &":{borderRadius:"0 0 0.25rem 0"},".node-focus &, .node-select &":{backgroundColor:"var(--observable-focus-lightest-blue)"},".node-add &":{backgroundColor:"var(--washed-green)"}},w.hD,(0,k.pK)("var(--observable-focus-dark-blue)"))),(0,M.yC)(),(0,d.ZO)(),(0,d.AE)(),(0,s.sW)(),i.fc,d.tk.lineWrapping,(0,a.m8)(),(0,d.Uw)(),f.yy.allowMultipleSelections.of(!0),f.yy.tabSize.of(2),(0,u.nY)(),(0,c.n)(),(0,l.Z)(),(V=65536,f.yy.changeFilter.of((function(e){return e.changes.newLength<=V}))),f.yy.transactionFilter.of((function(e){var t=[];if(e.changes.iterChanges((function(e,r,n,o,i){var a=n,u=!0,c=!1,l=void 0;try{for(var s,f=i[Symbol.iterator]();!(u=(s=f.next()).done);u=!0){for(var d=s.value,p=-1;(p=d.indexOf("\0",p+1))>=0;)t.push({from:a+p,to:a+p+1,insert:"\ufffd"});a+=d.length}}catch(y){c=!0,l=y}finally{try{u||null==f.return||f.return()}finally{if(c)throw l}}})),t.length){var r=f.as.of(t,e.changes.newLength);return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){_(e,t,r[t])}))}return e}({},e,{changes:e.changes.compose(r)})}return e})),(0,k.W$)(),(0,C.tU)(),(0,S.Cw)(),(0,T.kh)(),(0,I.vt)(),P.A,p.l,d.tk.contentAttributes.of({"data-cy":"editor"}),f.yy.transactionExtender.of((function(e){var t=e.effects,r=e.startState,n=t.filter((function(e){return e.is(y.g)})),o=[];if(n.length>0){var i=r.field(y.C),a=n[n.length-1].value,u=a.mode,c=a.data;if(u!==i){var l=g.qz[u];o=[$.modeExtensions.reconfigure(l.extensions({settings:r.field(v.i),data:c})),$.keymap.reconfigure([d.$f.of(R(l.keymap).concat(R(U)))])]}}return{effects:o}})),d.tk.updateListener.of((function(e){var t=e.view,r=e.state,n=e.focusChanged;(0,b.f)(t,(function(){var e=r.field(h.X),o=r.field(p.l);o&&(o({type:"edit",id:e,state:r}),t.hasFocus&&n&&o({type:"focus",id:e}))}))})),function(){var e=function(e,t,r){var n=r.state.field(p.l);if(!n||!t)return!1;var o=Array.prototype.filter.call(t.items,(function(e){return"file"===e.kind}));return!!o.length&&(!Array.prototype.some.call(t.items,(function(e){return"text/plain"===e.type}))&&(r.state.field(v.i).fileUploadsOn?(n({type:"localFilesAttached",files:o.map((function(e){return e.getAsFile()})),nodeId:r.state.field(h.X),nodeMode:r.state.field(y.C),source:"nodeEditor",trigger:"dragAndDrop"}),e.preventDefault(),!0):(n({type:"showModal",modal:"login",modalProps:{loginReason:"files"},trigger:"dragAndDrop",source:"nodeEditorDragAndDrop"}),!1)))};return d.tk.domEventHandlers({drop:function(t,r){return e(t,t.dataTransfer,r)},paste:function(t,r){return e(t,t.clipboardData,r)}})}(),(0,m.p)()].concat(R(L))},74822:function(e,t,r){r.d(t,{_:function(){return c},C:function(){return l}});var n=r(91304);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i,a,u=(i=(0,n.Z)([]),a=2,function(e){if(Array.isArray(e))return e}(i)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(i,a)||function(e,t){if(e){if("string"===typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(i,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=u[0],l=u[1]},2334:function(e,t,r){r.d(t,{A:function(){return i}});var n=r(78120),o=0,i=n.QQ.define({create:function(){return o++},update:function(e){return e}})},58489:function(e,t,r){r.d(t,{X:function(){return c},y:function(){return l}});var n=r(91304);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i,a,u=(i=(0,n.Z)(-1),a=2,function(e){if(Array.isArray(e))return e}(i)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(i,a)||function(e,t){if(e){if("string"===typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(i,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=u[0],l=u[1]},63213:function(e,t,r){r.d(t,{Z:function(){return c},N:function(){return l}});var n=r(91304);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i,a,u=(i=(0,n.Z)(null),a=2,function(e){if(Array.isArray(e))return e}(i)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(i,a)||function(e,t){if(e){if("string"===typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(i,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=u[0],l=u[1]},28641:function(e,t,r){r.d(t,{vT:function(){return g},pK:function(){return O},W$:function(){return j}});var n=r(78120),o=r(14456),i=r(40178),a=r(53261),u=r(7469),c=r(1864);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return!t||"object"!==h(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p(this,r)}}var m="".concat((0,i._9)("Alt-Backspace")," to delete this cell."),b=n.Py.define(),g=b.of(m);function w(e){var t=a.qz[e.field(c.C)];return"Type ".concat(t.label,", then ").concat((0,i._9)("Shift-Enter"),". ").concat((0,i._9)("Ctrl-space")," for more options.")}var S=n.QQ.define({create:function(e){return w(e)},update:function(e,t){(0,u.Z)(t.state)&&(e=w(t.state));var r=!0,n=!1,o=void 0;try{for(var i,a=t.effects[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var c=i.value;c.is(b)&&(e=c.value)}}catch(l){n=!0,o=l}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return e}}),x=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(r,e);var t=v(r);function r(e){var n;return l(this,r),(n=t.call(this)).value=e,n}return f(r,[{key:"toDOM",value:function(){var e=document.createElement("div");return e.className="cm-placeholder",e.textContent=this.value,e}}]),r}(o.l9),k=o.lg.fromClass(function(){function e(t){l(this,e),this.placeholder=o.p.none,this.updateDeco(t.state)}return f(e,[{key:"update",value:function(e){(0,u.Z)(e.startState)===(0,u.Z)(e.state)&&e.startState.field(S)===e.state.field(S)||this.updateDeco(e.state)}},{key:"updateDeco",value:function(e){this.placeholder=(0,u.Z)(e)?o.p.set(o.p.widget({widget:new x(e.field(S))}).range(0)):o.p.none}},{key:"decorations",get:function(){return this.placeholder}}]),e}(),{decorations:function(e){return e.decorations}});function O(e){return{".cm-placeholder":{color:e,position:"absolute",fontFamily:"var(--sans-serif)",pointerEvents:"none",userSelect:"none",opacity:.6,overflowX:"hidden",whiteSpace:"nowrap",maxWidth:"95%","&::first-letter":{"text-transform":"uppercase"}}}}function j(){return[S,k]}},18680:function(e,t,r){r.d(t,{RK:function(){return y},rr:function(){return v},Px:function(){return m},YV:function(){return g},vt:function(){return w}});var n=r(14456),o=r(75030),i=r(40178),a=r(72760),u=r(91304);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var f=new Set(["Arrow","DOM","DatabaseClient","FileAttachment","Files","Generators","Inputs","L","Mutable","Plot","Promises","SQLite","SQLiteDatabaseClient","Secret","_","aapl","alphabet","aq","cars","citywages","currentUser","d3","diamonds","dot","htl","html","industries","invalidation","md","mermaid","now","olympians","penguins","require","svg","tex","topojson","visibility","vl","weather","width"]),d=s((0,u.Z)([]),2),p=d[0],y=d[1],h=s((0,u.Z)(new Set),2),v=h[0],m=h[1],b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.decorations=this.buildDeco(t.state.field(p),t.state.field(v))}var t,r,u;return t=e,(r=[{key:"update",value:function(e){var t=e.state,r=e.startState,n=e.changes,o=t.field(p),i=t.field(v);o!==r.field(p)||i!==r.field(v)?this.decorations=this.buildDeco(o,i):this.decorations=this.decorations.map(n)}},{key:"buildDeco",value:function(e,t){return n.p.set(e.filter((function(e){return e.end>e.start})).map((function(e){var r=(0,a.m8)(e);return n.p.mark({name:r,attributes:{title:t.has(r)?"Jump to defining cell ".concat((0,i.ZP)("Mod-J")):"",class:t.has(r)?"reference-mark":f.has(r)||(0,o.q)(r)?"":"broken-reference-mark"}}).range(e.start,e.end)})),!0)}}])&&l(t.prototype,r),u&&l(t,u),e}(),g=n.lg.fromClass(b,{decorations:function(e){return e.decorations}});function w(){return[v,p,g]}},48152:function(e,t,r){r.d(t,{YE:function(){return d},j5:function(){return h},K5:function(){return b},yC:function(){return g}});var n=r(14456),o=r(58489),i=r(91304);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var l=n.tk.baseTheme({".cm-searchResult":{backgroundColor:"var(--observable-yellow)"},".cm-selectedSearchResult":{backgroundColor:"var(--observable-orange)"}}),s=c((0,i.Z)(null),2),f=s[0],d=s[1],p=c((0,i.Z)(null),2),y=p[0],h=p[1],v=c((0,i.Z)(!1),2),m=v[0],b=v[1];function g(){return[l,f,y,m,x]}var w=n.p.mark({attributes:{class:"cm-searchResult"}}),S=n.p.mark({attributes:{class:"cm-selectedSearchResult"}}),x=n.lg.fromClass(function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.view=t,this._previousSearchResults=null,this._previousSelectedSearchResult=null,this._previousSearchResultsVisible=!1,this.decorations=this.searchResultsDeco(t,null,null,!1)}var t,r,i;return t=e,(r=[{key:"update",value:function(e){var t=e.state.field(f),r=e.state.field(y),n=e.state.field(m);(e.viewportChanged||t!==this._previousSearchResults||r!==this._previousSelectedSearchResult||n!==this._previousSearchResultsVisible)&&(this._previousSearchResults=t,this._previousSelectedSearchResult=r,this._previousSearchResultsVisible=n,this.decorations=this.searchResultsDeco(e.view,t,r,n))}},{key:"searchResultsDeco",value:function(e,t,r,i){if(!t||!i)return n.p.set([]);var a=e.state.field(o.X),u=[],c=!0,l=!1,s=void 0;try{for(var f,d=e.visibleRanges[Symbol.iterator]();!(c=(f=d.next()).done);c=!0)for(var p=f.value,y=p.from,h=p.to,v=0;v<t.length;v++){var m=t[v],b=m.pos,g=m.matchLength;b>=y&&b<=h&&(r&&r.nodeId===a&&r.nodeResultIndex===v?u.push(S.range(b,b+g)):u.push(w.range(b,b+g)))}}catch(x){l=!0,s=x}finally{try{c||null==d.return||d.return()}finally{if(l)throw s}}return n.p.set(u)}}])&&u(t.prototype,r),i&&u(t,i),e}(),{decorations:function(e){return e.decorations}})},730:function(e,t,r){r.d(t,{Lq:function(){return v},kh:function(){return m},_O:function(){return b},JN:function(){return g}});var n=r(34051),o=r.n(n),i=r(78120),a=r(14456);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return!t||"object"!==p(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=s(e);if(t){var o=s(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return f(this,r)}}var h=[["gold","translucent-gold"],["pink","translucent-pink"],["light-green","translucent-green"],["light-purple","translucent-purple"],["orange","translucent-orange"],["light-blue","translucent-blue"]];function v(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"var(--".concat(h[(e+1)%h.length][t?1:0],")")}function m(){return[g,k]}var b=i.Py.define(),g=i.QQ.define({create:function(){return[]},update:function(e,t){var r=t.effects;return 0===(r=r.filter((function(e){return e.is(b)}))).length?e:r.map((function(e){return e.value})).filter((function(e){return e}))}}),w=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(r,e);var t=y(r);function r(e,n,o){var i;return u(this,r),(i=t.call(this)).name=e,i.avatar=n,i.order=o,i}return l(r,[{key:"toDOM",value:function(){var e,t=document.createElement("span");return t.className="presence-widget",t.title=this.name,t.style.borderColor=v(this.order),t.style.setProperty("--presence-initials",'"'.concat((e=this.name,this.avatar?"":e.split(" ").filter((function(e){return e})).map((function(e){return e.charAt(0).toUpperCase()})).join("").substring(0,2)),'"')),t.style.setProperty("--presence-avatar","url(".concat(this.avatar,")")),t.style.setProperty("--presence-color",v(this.order)),t}}]),r}(a.l9),S=function(e){return a.p.mark({attributes:{style:"background-color: ".concat(v(e,!0),";")}})},x=function(e,t,r){return a.p.widget({widget:new w(e,t,r)})},k=a.lg.fromClass(function(){function e(t){u(this,e),this.view=t,this.decorations=this.decorationSet(t.state)}return l(e,[{key:"update",value:function(e){this.selectionsChanged(e)?this.decorations=this.decorationSet(e.state):this.decorations=this.decorations.map(e.changes)}},{key:"selectionsChanged",value:function(e){return e.state.field(g)!==e.startState.field(g)}},{key:"decorationSet",value:function(e){var t=e.field(g);return a.p.set(Array.from(this.getDecorations(t)),!0)}},{key:"getDecorations",value:o().mark((function e(t){var r,n,i,a,u,c,l,s,f,d,p,y,h,v,m,b,g,w,k,O;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=!0,n=!1,i=void 0,e.prev=1,a=t[Symbol.iterator]();case 3:if(r=(u=a.next()).done){e.next=35;break}c=u.value,l=c.selection,s=c.name,f=c.avatar,d=c.order,p=!0,y=!1,h=void 0,e.prev=6,v=l.ranges[Symbol.iterator]();case 8:if(p=(m=v.next()).done){e.next=18;break}return b=m.value,g=b.head,w=b.empty,k=b.from,O=b.to,e.next=12,x(s,f,d).range(g);case 12:if(w){e.next=15;break}return e.next=15,S(d).range(k,O);case 15:p=!0,e.next=8;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(6),y=!0,h=e.t0;case 24:e.prev=24,e.prev=25,p||null==v.return||v.return();case 27:if(e.prev=27,!y){e.next=30;break}throw h;case 30:return e.finish(27);case 31:return e.finish(24);case 32:r=!0,e.next=3;break;case 35:e.next=41;break;case 37:e.prev=37,e.t1=e.catch(1),n=!0,i=e.t1;case 41:e.prev=41,e.prev=42,r||null==a.return||a.return();case 44:if(e.prev=44,!n){e.next=47;break}throw i;case 47:return e.finish(44);case 48:return e.finish(41);case 49:case"end":return e.stop()}}),e,null,[[1,37,41,49],[6,20,24,32],[25,,27,31],[42,,44,48]])}))}]),e}(),{decorations:function(e){return e.decorations}})},30883:function(e,t,r){r.d(t,{i:function(){return c},C:function(){return l}});var n=r(91304);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i,a,u=(i=(0,n.Z)({prettierOn:!1,closeBracketsOn:!1,autocompleteOn:!0,fileUploadsOn:!1,spellcheckOn:!1,tableOn:!1,insertMenuOn:!1}),a=2,function(e){if(Array.isArray(e))return e}(i)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(i,a)||function(e,t){if(e){if("string"===typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(i,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=u[0],l=u[1]},93314:function(e,t,r){r.d(t,{X:function(){return s}});var n=r(85893),o=r(65988),i=r.n(o),a=(r(67294),r(23869));function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){u(e,t,r[t])}))}return e}function l(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var s=function(e){var t=e.className,r=void 0===t?"":t,o=e.label,u=void 0===o?"":o,s=e.spacing,f=void 0===s?"pv2":s,d=l(e,["className","label","spacing"]);return(0,n.jsxs)("label",{className:"jsx-8fc3a8644a9934b0 "+"fw6 f6 flex items-center form-custom-checkbox\n      ".concat(d.disabled?" disabled mid-gray":" not-disabled dark-gray hover-near-black pointer"," ").concat(f," ").concat(r),children:[(0,n.jsxs)("span",{className:"jsx-8fc3a8644a9934b0 h1 lh-solid",children:[(0,n.jsx)("input",c({},d,{type:"checkbox",style:{width:0,height:0},className:"jsx-8fc3a8644a9934b0 o-0 form-default-clear"})),(0,n.jsx)("span",{className:"jsx-8fc3a8644a9934b0 "+"check-square animate-all ".concat(d.checked?"checked bg-blue white b--dark-blue":"bg-white b--silver white"," ").concat(d.autoFocus&&" focused","\n             w1 h1 dib ba br2 mr2"),children:(0,n.jsx)(a.Z,{})})]}),u,(0,n.jsx)(i(),{id:"8fc3a8644a9934b0",children:'input[type="checkbox"].jsx-8fc3a8644a9934b0:focus+span.jsx-8fc3a8644a9934b0{border:1px solid #6384dd}\ninput[type="checkbox"].jsx-8fc3a8644a9934b0+span.jsx-8fc3a8644a9934b0{border:1px solid transparent}'})]})}},17881:function(e,t,r){r.d(t,{Y:function(){return i}});var n=r(85893);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=function(e){return(0,n.jsxs)("svg",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){o(e,t,r[t])}))}return e}({width:"60",height:"40",viewBox:"0 0 60 40",fill:"none"},e,{children:[(0,n.jsx)("rect",{width:"60",height:"40",rx:"4",fill:"#F5F5F5"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M35.5135 25.7022C34.8749 26.3654 33.9627 26.75 32.875 26.75H31.6875V24.5H32.875C33.4123 24.5 33.7188 24.3221 33.8928 24.1415C34.08 23.9471 34.1875 23.6722 34.1875 23.375V22.8125C34.1875 22.506 34.1964 22.0144 34.6575 21.125C35.0625 20.4475 35.9062 20 35.9062 20C35.9062 20 35.029 19.6553 34.6575 18.9389C34.1964 18.0495 34.1875 17.494 34.1875 17.1875V16.625C34.1875 16.3278 34.08 16.0529 33.8928 15.8585C33.7188 15.6779 33.4123 15.5 32.875 15.5H31.6875V13.25H32.875C33.9627 13.25 34.8749 13.6346 35.5135 14.2978C36.1388 14.9471 36.4375 15.7972 36.4375 16.625V17.1875C36.4375 17.4435 36.4599 17.9106 36.655 18.2868C36.7424 18.4555 36.8552 18.5867 37.0091 18.6813C37.162 18.7753 37.4235 18.875 37.875 18.875V21.125C37.4235 21.125 37.162 21.2247 37.0091 21.3187C36.8552 21.4133 36.7424 21.5445 36.655 21.7132C36.4599 22.0894 36.4375 22.5565 36.4375 22.8125V23.375C36.4375 24.2028 36.1388 25.0529 35.5135 25.7022Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.4865 25.7022C25.1251 26.3654 26.0373 26.75 27.125 26.75H28.3125V24.5H27.125C26.5877 24.5 26.2812 24.3221 26.1072 24.1415C25.92 23.9471 25.8125 23.6722 25.8125 23.375V22.8125C25.8125 22.506 25.8036 22.0144 25.3425 21.125C24.9375 20.4475 24.0938 20 24.0938 20C24.0938 20 24.971 19.6553 25.3425 18.9389C25.8036 18.0495 25.8125 17.494 25.8125 17.1875V16.625C25.8125 16.3278 25.92 16.0529 26.1072 15.8585C26.2812 15.6779 26.5877 15.5 27.125 15.5H28.3125V13.25H27.125C26.0373 13.25 25.1251 13.6346 24.4865 14.2978C23.8612 14.9471 23.5625 15.7972 23.5625 16.625V17.1875C23.5625 17.4435 23.5401 17.9106 23.345 18.2868C23.2576 18.4555 23.1448 18.5867 22.9909 18.6813C22.838 18.7753 22.5765 18.875 22.125 18.875V21.125C22.5765 21.125 22.838 21.2247 22.9909 21.3187C23.1448 21.4133 23.2576 21.5445 23.345 21.7132C23.5401 22.0894 23.5625 22.5565 23.5625 22.8125V23.375C23.5625 24.2028 23.8612 25.0529 24.4865 25.7022Z",fill:"currentColor"})]}))}},18270:function(e,t,r){r.d(t,{z:function(){return F},p:function(){return D}});var n=r(15690),o=r(45383),i=r(14456),a=r(9606),u=r(7469),c=r(1864),l=r(58489),s=r(28641),f=r(18680);function d(e){return 1===e.selection.ranges.length&&e.selection.ranges[0].empty&&0===e.selection.ranges[0].from}function p(e){return 1===e.selection.ranges.length&&e.selection.ranges[0].empty&&e.selection.ranges[0].to===e.doc.length}var y=r(30883),h=r(2741),v=r(53261),m=r(34051),b=r.n(m),g=r(78120),w=r(61539),S=r(63230);function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(l){return void r(l)}u.done?t(c):Promise.resolve(c).then(n,o)}function O(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){k(i,n,o,a,u,"next",e)}function u(e){k(i,n,o,a,u,"throw",e)}a(void 0)}))}}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){j(e,t,r[t])}))}return e}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e){var t=[],r=function(e){function t(e,r){var n;if(Array.isArray(e))n=e.entries();else{if(!e||"object"!==typeof e||"string"!==typeof e.type)return e;n=Object.entries(e)}var o=!0,i=!1,a=void 0;try{for(var u,c=n[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=_(u.value,2),s=l[0],f=l[1];e[s]=t(f,r)}}catch(d){i=!0,a=d}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}return Array.isArray(e)?e:r(e)||e}function r(e){return"CallExpression"===e.type?(e.type="OptionalCallExpression",e.callee=r(e.callee)):"MemberExpression"===e.type?(e.type="OptionalMemberExpression",e.object=r(e.object)):"TSNonNullExpression"===e.type&&(e.expression=r(e.expression)),e}return t(e,(function(e){switch(e.type){case"ChainExpression":return r(e.expression)}}))}(w.b3.parse(e,{onComment:t,onToken:[],ranges:!0})),n=r.body,o=r.id,i=n&&null!==n.id&&("FunctionExpression"===n.type||"ClassExpression"===n.type)&&n.id;return{type:"Program",body:[o&&o!==i?r:r.body],start:0,end:e.length,comments:t}}function A(e){return I.apply(this,arguments)}function I(){return(I=O(b().mark((function e(t){var n,o,i,a,u,l,s,f,d,p,y,h,v,m,w,x,k,O,j,_,A,I,E,M,T=arguments;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(T.length>1&&void 0!==T[1])||T[1],e.prev=1,e.next=4,r.e(3502).then(r.t.bind(r,98645,23));case 4:return o=e.sent,e.next=7,r.e(3341).then(r.t.bind(r,43341,23));case 7:if(i=e.sent,a=t.state,u=a.field(c.C),l=a.doc.toString(),s=a.selection.main,f=s.from!==s.to,"js"!==u){e.next=17;break}f?(w={trailingComma:"none",parser:"typescript",plugins:[{parsers:{typescript:{astFormat:"estree",locStart:function(e){return e.start},locEnd:function(e){return e.end},parse:function(e){var t=[];return e!==l?C({},S._b.parse(e,{ecmaVersion:13,onComment:t,onToken:[],ranges:!0,allowAwaitOutsideFunction:!0,allowReturnOutsideFunction:!0,allowImportExportEverywhere:!0}),{comments:t}):P(e)}}}}]},x=o.formatWithCursor(l,C({},w,{cursorOffset:s.to,rangeStart:s.from,rangeEnd:s.to})),k=x.formatted,O=x.cursorOffset,j=g.jT.single(Math.min(s.from,k.length),Math.min(O,k.length)),t.dispatch(a.update({changes:{from:0,to:l.length,insert:k},selection:j}))):(d=P(l),p=!d.body[0]||"ImportDeclaration"!==d.body[0].type,y=o.formatWithCursor(l,{trailingComma:"none",semi:p,parser:function(){return d},cursorOffset:s.to}),h=y.formatted,v=y.cursorOffset,h=h.trim(),m=g.jT.single(Math.max(0,Math.min(v,h.length))),t.dispatch(a.update({changes:{from:0,to:l.length,insert:h},selection:m}))),e.next=23;break;case 17:if("md"!==u||n){e.next=23;break}return _=f?s.from:0,A=f?s.to:l.length,I=o.formatWithCursor(l.slice(_,A),{parser:"markdown",cursorOffset:f?s.to-s.from:s.from,proseWrap:"always",plugins:[i]}),E=I.formatted,M=I.cursorOffset,t.dispatch(a.update({changes:{from:_,to:A,insert:E},selection:f?g.jT.single(s.from,s.from+M):g.jT.single(M)})),e.abrupt("return");case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(1),console.error("prettier failed",e.t0);case 28:case"end":return e.stop()}}),e,null,[[1,25]])})))).apply(this,arguments)}var E=r(9077);function M(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){M(e,t,r[t])}))}return e}function D(){var e=function(e){var t=e.state.field(a.l);return!!t&&(t({type:"moveDown",id:e.state.field(l.X)}),!0)},t=function(e){var t=e.state.field(a.l);return!!t&&(t({type:"moveUp",id:e.state.field(l.X)}),!0)},r=function(e){var t=e.state.field(a.l);return!!t&&(t({type:"togglePin",id:e.state.field(l.X)}),!0)};return i.$f.of([{key:"Shift-Enter",run:F("keypress")},{key:"Mod-s",run:F("keypress")},{key:"Shift-Alt-f",run:function(e){return(0,n.Rn)(e),A(e,!1),!0}},{key:"Mod-j",run:function(e){var t=e.state.field(a.l);if(!t)return!1;var r=e.plugin(f.YV);if(!r)return!1;var n,o=e.state.selection.main;return r.decorations.between(o.from,o.to+1,(function(t,r){return n=e.state.doc.slice(t,r).toString(),!1})),!!n&&(t({type:"focusDefinition",name:n,id:e.state.field(l.X),trigger:"keypress",source:"Mod-j"}),!0)}},{key:"Shift-Mod-j",run:function(e){var t=e.state.field(a.l);return!!t&&(t({type:"focusUndo"}),!0)}},{key:"Backspace",run:function(e){return(0,u.Z)(e.state)&&e.dispatch({effects:[s.vT]}),!1}},{key:"Mod-Enter",run:function(e){var t=e.state.field(a.l),r=e.state.field(y.i).insertMenuOn;return!!t&&(t(r?{type:"openInsertMenu",id:e.state.field(l.X),after:!0}:{type:"insertAfter",id:e.state.field(l.X)}),!0)}},{key:"Shift-Mod-Enter",run:function(e){var t=e.state.field(a.l),r=e.state.field(y.i).insertMenuOn;return!!t&&(t(r?{type:"openInsertMenu",id:e.state.field(l.X)}:{type:"insertBefore",id:e.state.field(l.X)}),!0)}},{key:"Shift-Alt-Enter",run:function(e){var t=e.state.field(a.l);return!!t&&(t({type:"splitBefore",id:e.state.field(l.X)}),!0)}},{key:"Alt-Enter",run:function(e){var t=e.state.field(a.l);return!!t&&(t({type:"splitAfter",id:e.state.field(l.X)}),!0)}},{key:"Alt-Backspace",run:function(e){var t=e.state.field(a.l);return!!t&&(!!d(e.state)&&(t({type:"mergeBefore",id:e.state.field(l.X)}),!0))}},{key:"Ctrl-Alt-d",run:function(e){var t=e.state.field(a.l);return!!t&&(!!p(e.state)&&(t({type:"mergeAfter",id:e.state.field(l.X)}),!0))}},{key:"Mod-.",run:r},{key:"Ctrl-Shift-p",run:r},{key:"Ctrl-Shift-ArrowDown",run:e},{key:"Ctrl-Shift-ArrowUp",run:t},{mac:"Cmd-Alt-ArrowDown",run:e},{mac:"Cmd-Alt-ArrowUp",run:t},{key:"Mod-Shift-Alt-ArrowDown",run:function(e){var t=e.state.field(a.l);return!(!t||(0,E.Z)(e.state.doc.toString()))&&(t({type:"duplicate",id:e.state.field(l.X),before:!1}),!0)}},{key:"Mod-Shift-Alt-ArrowUp",run:function(e){var t=e.state.field(a.l);return!(!t||(0,E.Z)(e.state.doc.toString()))&&(t({type:"duplicate",id:e.state.field(l.X),before:!0}),!0)}},{key:"Shift-Mod-u",run:function(e){var t=e.state.field(a.l);if(!t)return!1;if(!e.state.field(y.i).fileUploadsOn)return t({type:"showModal",modal:"login",modalProps:{loginReason:"files"},trigger:"keypress",source:"fileUploadKeyboardShortcut"}),!1;var r={nodeId:e.state.field(l.X),nodeMode:e.state.field(c.C),trigger:"keypress"};return t(T({type:"notebookFilePickerOpened",source:"nodeEditor"},r)),(0,h.Z)().then((function(e){t(T({type:"localFilesAttached",files:e,source:"nodeEditor"},r))})),!0}},{key:"Escape",run:function(e){if((0,o.g3)(e))return!0;var t=e.state.field(a.l);return!!t&&(t({type:"selectionBlur"}),!0)}},{key:"Shift-Alt-ArrowDown",mac:"Alt-Tab",run:function(e){var t=e.state.field(a.l);return!!t&&(t({type:"focusAfter",id:e.state.field(l.X)}),!0)}},{key:"Shift-Alt-ArrowUp",mac:"Shift-Alt-Tab",run:function(e){var t=e.state.field(a.l);return!!t&&(t({type:"focusBefore",id:e.state.field(l.X)}),!0)}},{key:"Mod-ArrowDown",run:function(e){var t=e.state.field(a.l);return!(!t||!p(e.state))&&(t({type:"focusAfter",id:e.state.field(l.X),selectStart:!0}),!0)}},{key:"Mod-ArrowUp",run:function(e){var t=e.state.field(a.l);return!(!t||!d(e.state))&&(t({type:"focusBefore",id:e.state.field(l.X),selectEnd:!0}),!0)}},{key:"ArrowRight",run:function(e){var t=e.state.field(y.i).insertMenuOn;return!(!(0,u.Z)(e.state)||t)&&$(e,(function(e,t){return(e+1)%t}))}},{key:"ArrowLeft",run:function(e){var t=e.state.field(y.i).insertMenuOn;return!(!(0,u.Z)(e.state)||t)&&$(e,(function(e,t){return(t+e-1)%t}))}}])}function F(e){return function(t){return t.state.field(y.i).prettierOn?(A(t).then((function(){return R(t,e)})),!0):R(t,e)}}function R(e,t){(0,n.Rn)(e),(0,n._B)(e);var r=e.state.field(a.l);return!!r&&(r({type:"commit",id:e.state.field(l.X),trigger:t}),!0)}function $(e,t){var r=e.state.field(y.i).tableOn,n=e.state.field(c.C),o=Object.keys(v.qz).filter((function(e){return r||"table"!==e})),i=o.findIndex((function(e){return e===n})),u=o[t(i,o.length)],s=e.state.field(a.l);return!!s&&(s({type:"setMode",id:e.state.field(l.X),source:"cellMenu",trigger:"keypress",mode:u}),!0)}},69441:function(e,t,r){r.d(t,{f:function(){return v},Z:function(){return m}});var n=r(14456),o=r(9606),i=r(2334),a=r(58489),u=r(63213),c=r(33494),l=r(25655);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t){return null!=t&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var y=new Set;var h=[];function v(e,t){!function(e){return y.has(e)}(e)?t():h.push(t)}var m=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dispatch=t,this._views=new Map,this._states=new Map,this._focusId=null,this._privateOwner=null,this._isSettingState=!1}var t,r,s;return t=e,(r=[{key:"setState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(this._isSettingState)throw this._isSettingState=!1,new Error("Reentrant editor setState call");try{this._isSettingState=!0;var r=!0,n=!1,o=void 0;try{for(var s,f=this._views[Symbol.iterator]();!(r=(s=f.next()).done);r=!0){var v=p(s.value,2),m=v[1];y.add(m)}}catch(ge){n=!0,o=ge}finally{try{r||null==f.return||f.return()}finally{if(n)throw o}}var w=!0,S=!1,x=void 0;try{for(var k,O=b(t)[Symbol.iterator]();!(w=(k=O.next()).done);w=!0){var j=p(k.value,2),C=j[0],_=j[1],P=this._views.get(C);P&&P.update(_)}}catch(ge){S=!0,x=ge}finally{try{w||null==O.return||O.return()}finally{if(S)throw x}}this._states=e.editorStates;var A=!0,I=!1,E=void 0;try{for(var M,T=this._views[Symbol.iterator]();!(A=(M=T.next()).done);A=!0){var D=p(M.value,2),F=D[1],R=F.state.field(a.X,!1);void 0!==R&&this._states.has(R)||this._disable(F)}}catch(ge){I=!0,E=ge}finally{try{A||null==T.return||T.return()}finally{if(I)throw E}}if(this._focusId!==e.focusId){if(this._focusId=e.focusId,null!==this._focusId){var $=g(this._states,this._views,this._focusId);$&&$.focus()}else if(d(document.activeElement,HTMLElement)){var U;document.activeElement.blur(),null===(U=window.getSelection())||void 0===U||U.removeAllRanges()}}else if(null!==this._focusId){var V=!0,L=!1,N=void 0;try{for(var B,q=t[Symbol.iterator]();!(V=(B=q.next()).done);V=!0){var z=B.value;if(z.scrollIntoView&&z.state.field(a.X)===this._focusId){var Z=this._views.get(z.state.field(i.A));Z&&!Z.hasFocus&&Z.focus()}}}catch(ge){L=!0,N=ge}finally{try{V||null==q.return||q.return()}finally{if(L)throw N}}}if(this._selectedSearchResult!==e.selectedSearchResult)if(e.selectedSearchResult){var H=g(this._states,this._views,e.selectedSearchResult.nodeId);if(H){var Y=e.selectedSearchResult,W=Y.nodeId,X=Y.nodeResultIndex,J=H.domAtPos(e.searchResults.get(W)[X].pos).node;d(J,HTMLElement)&&(0,c.zT)(J),this._selectedSearchResult=e.selectedSearchResult}}else this._selectedSearchResult=void 0;var G=(0,l.cE)(e)?e.owner:null;if(this._privateOwner!==G){this._privateOwner=G;var Q={effects:u.N.of(G)},K=!0,ee=!1,te=void 0;try{for(var re,ne=this._views.values()[Symbol.iterator]();!(K=(re=ne.next()).done);K=!0){var oe=re.value;oe.dispatch(Q)}}catch(ge){ee=!0,te=ge}finally{try{K||null==ne.return||ne.return()}finally{if(ee)throw te}}}}finally{this._isSettingState=!1;var ie=!0,ae=!1,ue=void 0;try{for(var ce,le=this._views[Symbol.iterator]();!(ie=(ce=le.next()).done);ie=!0){var se=p(ce.value,2),fe=se[1];y.delete(fe)}}catch(ge){ae=!0,ue=ge}finally{try{ie||null==le.return||le.return()}finally{if(ae)throw ue}}var de=h;h=[];var pe=!0,ye=!1,he=void 0;try{for(var ve,me=de[Symbol.iterator]();!(pe=(ve=me.next()).done);pe=!0){var be=ve.value;be()}}catch(ge){ye=!0,he=ge}finally{try{pe||null==me.return||me.return()}finally{if(ye)throw he}}}}},{key:"attach",value:function(e,t){if(this._views.has(e))throw new Error("Duplicate EditorView");var r=function(e,t){var r=w.get(e);if(!r){r=new Map;var n=!0,o=!1,a=void 0;try{for(var u,c=e[Symbol.iterator]();!(n=(u=c.next()).done);n=!0){var l=p(u.value,2)[1];r.set(l.field(i.A),l)}}catch(s){o=!0,a=s}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}w.set(e,r)}return r.get(t)}(this._states,e),u=new n.tk({state:r});if(t.insertBefore(u.dom,t.firstChild),this._views.set(e,u),r){var c=r.field(a.X)===this._focusId;u.dispatch({effects:[o.a.of(this.dispatch)],scrollIntoView:c}),c&&u.focus()}}},{key:"detach",value:function(e){var t=this._views.get(e);if(!t)throw new Error("EditorView not found");this._disable(t),t.destroy(),this._views.delete(e)}},{key:"_disable",value:function(e){e.dispatch({effects:[o.a.of(null)]})}},{key:"refocus",value:function(){if(null===this._focusId)return!1;var e=g(this._states,this._views,this._focusId);return!!e&&(e.hasFocus||e.focus(),e.inView||e.dispatch({scrollIntoView:!0}),!0)}},{key:"scrollIntoView",value:function(e){var t=g(this._states,this._views,e);return!!t&&(t.dispatch({scrollIntoView:!0}),!0)}},{key:"applyCommand",value:function(e,t){var r=this._views.get(e);if(!r)throw new Error("EditorView not found");return t(r)}}])&&f(t.prototype,r),s&&f(t,s),e}();function b(e){var t=new Map,r=!0,n=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=a.value,l=c.state.field(i.A);t.has(l)?t.get(l).push(c):t.set(l,[c])}}catch(s){n=!0,o=s}finally{try{r||null==u.return||u.return()}finally{if(n)throw o}}return t}function g(e,t,r){var n=e.get(r);return t.get(n.field(i.A))}var w=new WeakMap},3961:function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r.d(t,{i:function(){return o}});var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,o;return t=e,(r=[{key:"run",value:function(e){var t=this;return this._promise||(this._promise=new Promise((function(e,r){t.resolve=e,t.reject=r})),e({type:"workerTask",task:this})),this._promise}}])&&n(t.prototype,r),o&&n(t,o),e}()},58127:function(e,t,r){r.d(t,{Y:function(){return o}});var n=r(67294);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return!0},r=function(e){e.preventDefault(),e.stopPropagation()},o=function(e){r(e);var n=new Set(f);n.add(e.target),d(n),t(e)&&l(!0)},i=function(e){r(e);var t=new Set(f);t.delete(e.target),d(t),t.size||l(!1)},a=function(t){r(t),c&&(e(t),l(!1),d(new Set))},u=(0,n.useState)(!1),c=u[0],l=u[1],s=(0,n.useState)(new Set),f=s[0],d=s[1];return{isDraggingOver:c,dragAndDropEvents:{onDragOver:r,onDragEnter:o,onDragLeave:i,onDrop:a}}}},96386:function(e,t,r){r.d(t,{BY:function(){return i},_n:function(){return a},mD:function(){return c},E6:function(){return s},Do:function(){return f}});var n=r(72760);function o(e){var t=new Map(e.flatMap((function(e){return(0,n.WN)(e).map((function(t){return[t,e]}))})));return e.flatMap((function(e){var r=[],o=!0,i=!1,a=void 0;try{for(var u,c=(0,n.yL)(e)[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=u.value,s=t.get(l);s&&r.push({to:e,from:s})}}catch(f){i=!0,a=f}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}return r}))}function i(e){return u(e)}function a(e){return u(e,!0)}function u(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=new Map(e.map((function(e){return[e,[]]})));return o(e).forEach((function(e){return r.get(t?e.from:e.to).push(t?e.to:e.from)})),r}function c(e,t){return l(e,e,t,new Set,new Map)}function l(e,t,r,n,o){if(o.get(e))return n;o.set(e,!0),e!==t&&n.add(e);var i=!0,a=!1,u=void 0;try{for(var c,s=r.get(e)[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){l(c.value,t,r,n,o)}}catch(f){a=!0,u=f}finally{try{i||null==s.return||s.return()}finally{if(a)throw u}}return n}function s(e){var t=a(e),r=i(e);return new Map(e.map((function(e){var o=r.get(e)||[],i=t.get(e)||[];return[e,{node:e,up:o,down:i,indirectUp:c(e,r),indirectDown:c(e,t),isIsland:!o.length&&!i.length&&!(0,n.q8)(e)}]})))}function f(e,t){return e.node===t.node?"same":t.indirectDown.has(e.node)&&t.indirectUp.has(e.node)?"circular":t.down.includes(e.node)?"direct downstream":t.up.includes(e.node)?"direct upstream":t.indirectDown.has(e.node)?"indirect downstream":t.indirectUp.has(e.node)?"indirect upstream":"none"}},33042:function(e,t,r){r.d(t,{DY:function(){return o},$g:function(){return i},o4:function(){return a},t$:function(){return u}});var n=new WeakMap;function o(e,t){return e.nodes[i(e,t)]}function i(e,t){var r=n.get(e.nodes);void 0===r&&(r=new Map(e.nodes.map((function(e,t){return[e.id,t]}))),n.set(e.nodes,r));var o=r.get(t);return void 0===o?-1:o}function a(e,t){var r=i(e,t);return r<e.nodes.length-1?e.nodes[r+1].id:null}function u(e,t){var r=i(e,t);return r>0?e.nodes[r-1].id:null}},2102:function(e,t,r){r.d(t,{B:function(){return o}});var n=["bytes","KB","MB","GB"];function o(e){for(var t=0;e>=1e3;)e/=1e3,t++;return"".concat(Math.round(e)," ").concat(n[t])}},75030:function(e,t,r){var n;function o(e){return i().has(e)}function i(){return null!==n&&void 0!==n?n:n=function(){var e=document.createElement("iframe");document.body.append(e);var t=Object.getOwnPropertyNames(e.contentWindow).concat(Object.getOwnPropertyNames(EventTarget.prototype)).filter((function(e){try{return"web3"!==e&&"frameElement"!==e&&!/^webkit/i.test(e)&&!/^onmoz/i.test(e)&&null!=window[e]}catch(t){return!1}}));return e.remove(),new Set(t)}()}r.d(t,{q:function(){return o},r:function(){return i}})},19170:function(e,t,r){function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e){if(!e)return 0;var t=0,r=!0,n=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){t+=o(a.value,2)[1].length}}catch(c){n=!0,i=c}finally{try{r||null==u.return||u.return()}finally{if(n)throw i}}return t}function a(e,t){if(e&&t){var r=t.nodeId,n=t.nodeResultIndex,i=!0,a=!1,u=void 0;try{for(var c,l=e[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var s=o(c.value,2),f=s[0],d=s[1];if(r===f)break;n+=d.length}}catch(p){a=!0,u=p}finally{try{i||null==l.return||l.return()}finally{if(a)throw u}}return n}}r.d(t,{n:function(){return i},_:function(){return a}})},26836:function(e,t,r){function n(e,t){for(var r=e,n=0;t.has(r);)r=e+ ++n;return r}r.d(t,{Q:function(){return n}})},84236:function(e,t,r){r.d(t,{Om:function(){return c},XP:function(){return l},QI:function(){return s},VQ:function(){return m},O3:function(){return b},Ec:function(){return S},nq:function(){return x},a8:function(){return k},xm:function(){return O},$d:function(){return j}});var n=r(18231),o=r(92227);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){return null!=t&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t}function u(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){return"sql"===e||"table"===e}function l(e){var t=new Set,r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var u=i.value;Object.keys(u).map((function(e){return t.add(e)}))}}catch(c){n=!0,o=c}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return Array.from(t)}function s(e,t,r){var n=Object.create(null),o=!0,i=!1,a=void 0;try{for(var u,c=r[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=u.value,s=e.get(l);switch(s?s.type:b(t,l)){case"number":case"integer":n[l]=d;break;case"date":n[l]=p;break;case"object":n[l]=y;break;case"boolean":n[l]=h;break;case"buffer":n[l]=v;break;default:n[l]=f}}}catch(m){i=!0,a=m}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}return n}function f(e){return null===e||void 0===e?"":"number"===typeof e?d(e):a(e,Date)?p(e):"".concat(e)}function d(e){return 0===e?"0":e.toLocaleString("en-US")}function p(e){return(0,o.Z)(e,"Invalid Date")}function y(e){return JSON.stringify(e)}function h(e){return e?"TRUE":"FALSE"}function v(e){return"0x..."}function m(e,t,r){var n=Object.create(null),o=!0,i=!1,a=void 0;try{for(var u,c=r[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=u.value,s=e.get(l),f=s?s.type:b(t,l);"number"===f||"integer"===f||"bigint"===(null===s||void 0===s?void 0:s.databaseBaseType)||"decimal"===(null===s||void 0===s?void 0:s.databaseBaseType)?n[l]={textAlign:"right",fontVariantNumeric:"tabular-nums"}:"date"===f&&(n[l]={fontVariantNumeric:"tabular-nums"})}}catch(d){i=!0,a=d}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}return n}function b(e,t){var r,n=!0,o=!1,i=void 0;try{for(var u,c=e[Symbol.iterator]();!(n=(u=c.next()).done);n=!0){var l=u.value[t];if(null!==l&&void 0!==l)return a(l,Date)?"date":"undefined"===typeof l?"undefined":(r=l)&&"undefined"!==typeof Symbol&&r.constructor===Symbol?"symbol":typeof r}}catch(s){o=!0,i=s}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}}var g=["n","nn"],w=["in","nin"];function S(e){return g.includes(e)}function x(e){return w.includes(e)}function k(e,t){if(void 0!==e&&void 0!==t)switch(e){case"eq":return"string"===t?"is":"=";case"ne":return"string"===t?"is not":"\u2260";case"c":return"contains";case"nc":return"does not contain";case"in":return"is in";case"nin":return"is not in";case"lt":return"date"===t?"is before":"<";case"gt":return"date"===t?"is after":">";case"lte":return"date"===t?"is on or before":"<=";case"gte":return"date"===t?"is on or after":">=";case"n":return"is null";case"nn":return"is not null";default:return}}function O(e){if(!e)return[];var t,r=e.type,n=e.nullable;switch(r){case"boolean":t=["eq","ne"];break;case"string":t=["eq","ne","c","nc","in","nin"];break;case"number":case"integer":t=["eq","ne","lt","gt","lte","gte","in","nin"];break;case"date":t=["lt","gt","lte","gte"];break;default:return[]}return n?u(t).concat(["n","nn"]):t}function j(e,t){return(0,n.Bj)(e)[0].map((function(e){return e.trim()})).map((function(e){return{type:"primitive",value:"number"===(null===t||void 0===t?void 0:t.type)?+e:e}}))}},55818:function(e,t,r){function n(e){return e[0].toUpperCase()+e.substr(1)}function o(e,t){for(var r=0;r<t.length;r++)e=e.replaceAll("$".concat(r+1),t[r]);return e}r.d(t,{f:function(){return n},C:function(){return o}})},58671:function(e,t,r){r.d(t,{Z:function(){return l}});var n=r(564),o=r(61539),i=r(72760);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e){var t,r,a;try{(t=(0,i.Hj)(e)).input="table"===e.mode?(0,n.YD)({source:e.data.source,operations:e.data.operations}):e.value}catch(m){if(r=m,!(null!=(a=SyntaxError)&&"undefined"!==typeof Symbol&&a[Symbol.hasInstance]?a[Symbol.hasInstance](r):r instanceof a))throw m;var l=m.message,d="{throw new SyntaxError(".concat(JSON.stringify(l),");}");(t=(0,o.B1)(d)).input=d}if(null===t.body)return{type:"empty"};if("ImportDeclaration"===t.body.type){var p=t.body,y=p.source,h=p.specifiers,v=p.injections;return{type:"import",specifier:y.value,specifiers:h.map(s),injections:null===v||void 0===v?void 0:v.map(s)}}return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){u(e,t,r[t])}))}return e}({},(0,n.hp)(t),{type:f(t),name:(0,i.u2)(e),databaseClients:new Set(c(t.databaseClients.keys()).concat(c(t.tag?t.tag.databaseClients.keys():[]))),fileAttachments:new Set(c(t.fileAttachments.keys()).concat(c(t.tag?t.tag.fileAttachments.keys():[]))),secrets:new Set(c(t.secrets.keys()).concat(c(t.tag?t.tag.secrets.keys():[])))})}function s(e){return{imported:e.imported.name,local:e.local.name,mutable:e.mutable,view:e.view}}function f(e){var t=e.id;switch(null===t||void 0===t?void 0:t.type){case"MutableExpression":return"mutable";case"ViewExpression":return"viewof"}return"normal"}},9077:function(e,t,r){function n(e){return/^\s*$/.test(e)}r.d(t,{Z:function(){return n}})},24205:function(e,t,r){r.d(t,{dE:function(){return i},CL:function(){return a},d$:function(){return u},pf:function(){return c},mB:function(){return l},F5:function(){return s},M6:function(){return f},kg:function(){return d},Hh:function(){return p},yy:function(){return y},JB:function(){return h},Bv:function(){return v},fe:function(){return m},hO:function(){return b},tq:function(){return g},Nl:function(){return w},Hf:function(){return S},lA:function(){return x},hX:function(){return k},JS:function(){return O},Nz:function(){return j},dX:function(){return C}});var n=r(19671),o=r(25655),i=function(e,t){var r=e.notebook,i=e.currentUser;t.unlisted?(0,o.cg)(r)?(0,n.MR)((0,n.ym)({type:"notebook:manage:linkReshared",data:{},eventVersion:3,notebook:r,currentUser:i})):(0,n.MR)((0,n.ym)({type:"notebook:manage:linkSharingEnabled",data:{},eventVersion:3,notebook:r,currentUser:i})):(0,o.s9)(r)?(0,n.MR)((0,n.ym)({type:"notebook:manage:republish",data:{},eventVersion:1,notebook:r,currentUser:i})):(0,n.MR)((0,n.ym)({type:"notebook:manage:publish",data:{},eventVersion:5,notebook:r,currentUser:i}))},a=function(e){var t=e.notebook,r=e.currentUser;(0,o.s9)(t)?(0,n.MR)((0,n.ym)({type:"notebook:manage:unpublish",data:{},eventVersion:6,notebook:t,currentUser:r})):(0,n.MR)((0,n.ym)({type:"notebook:manage:linkSharingDisabled",data:{},eventVersion:3,notebook:t,currentUser:r}))},u=function(e){var t=e.notebook,r=e.currentUser;(0,n.MR)((0,n.ym)({type:"notebook:manage:trash",data:{},eventVersion:5,notebook:t,currentUser:r}))},c=function(e,t){var r=e.notebook,o=e.currentUser;t.slug?(0,n.MR)((0,n.ym)({type:"notebook:manage:slugSet",data:{},eventVersion:2,notebook:r,currentUser:o})):(0,n.MR)((0,n.ym)({type:"notebook:manage:slugsCleared",data:{},eventVersion:2,notebook:r,currentUser:o}))},l=function(e,t){var r=e.notebook,o=e.currentUser,i=t.license;r.model.license!==i&&(0,n.MR)((0,n.ym)({type:"notebook:edit:license",data:{license:i},eventVersion:2,notebook:r,currentUser:o}))},s=function(e,t){var r=e.notebook,o=e.currentUser,i=t.locked;(0,n.MR)((0,n.ym)({type:"notebook:manage:commentingLock",data:{locked:i},eventVersion:1,notebook:r,currentUser:o}))},f=function(e,t){var r=e.notebook,o=e.currentUser,i=t.source;(0,n.MR)((0,n.ym)({type:"notebook:manage:embedModalCopy",data:{trigger:"click",source:i},eventVersion:1,notebook:r,currentUser:o}))},d=function(e,t){var r=e.notebook,o=e.currentUser,i=t.trigger,a=t.source;(0,n.MR)((0,n.ym)({type:"notebook:manage:downloadNotebook",data:{trigger:i,source:a},eventVersion:2,notebook:r,currentUser:o}))},p=function(e,t){var r=e.notebook,o=e.currentUser,i=t.base,a=t.target,u=t.trigger,c=t.source;(0,n.MR)((0,n.ym)({type:"notebook:manage:suggestFailed",data:{from_id:a.id,to_id:i.id,base:(0,n.tb)(i,o),target:(0,n.tb)(a,o),trigger:u,source:c},eventVersion:4,notebook:r,currentUser:o}))},y=function(e,t){var r=e.notebook,o=e.currentUser,i=t.base,a=t.target,u=t.source,c=t.trigger;(0,n.MR)((0,n.ym)({type:"notebook:manage:suggest",data:{from_id:a.id,to_id:i.id,base:(0,n.tb)(i,o),target:(0,n.tb)(a,o),source:u,trigger:c},eventVersion:4,notebook:r,currentUser:o}))},h=function(e,t){var r=e.notebook,o=e.currentUser,i=t.source,a=t.trigger;(0,n.MR)((0,n.ym)({type:"notebook:manage:suggestionClosed",data:{base:(0,n.tb)(r.forkOf,o),target:(0,n.tb)(r,o),suggestionId:r.suggestionFrom.id,isSuggester:r.suggestionFrom.creator.id===o.id,source:i,trigger:a},eventVersion:1,notebook:r,currentUser:o}))},v=function(e,t){var r=e.notebook,o=e.currentUser,i=t.trigger,a=t.source,u=t.nodeId,c=t.nodeMode;(0,n.MR)((0,n.ym)({type:"notebook:manage:openNotebookFilePicker",data:{trigger:i,source:a,cellIds:u?[u]:[],nodeMode:c},eventVersion:1,notebook:r,currentUser:o}))},m=function(e,t){var r=e.notebook,o=e.currentUser,i=t.files,a=t.trigger,u=t.source,c=t.nodeId,l=t.nodeMode;i.length&&(0,n.MR)((0,n.ym)({type:"notebook:manage:attachFiles",data:{files:i.map((function(e){return{mimeType:e.type,size:e.size}})),trigger:a,source:u,cellIds:c?[c]:[],nodeMode:l},eventVersion:1,notebook:r,currentUser:o}))},b=function(e,t){var r=e.notebook,o=e.currentUser,i=t.name,a=r.files.get(i),u=a.status,c=a.size,l=a.mimeType;(0,n.MR)((0,n.ym)({type:"notebook:manage:deleteFile",data:{status:u,size:c,mimeType:l},eventVersion:1,notebook:r,currentUser:o}))},g=function(e,t){var r=e.notebook,o=e.currentUser,i=t.fileToReplace,a=t.fileToAttach;(0,n.MR)((0,n.ym)({type:"notebook:manage:replaceFile",data:{oldMimeType:i.mimeType,oldSize:i.size,oldStatus:i.status,newMimeType:a.type,newSize:a.size},eventVersion:1,notebook:r,currentUser:o}))},w=function(e,t){var r=e.notebook,o=e.currentUser,i=t.file,a=i.status,u=i.size,c=i.mimeType;(0,n.MR)((0,n.ym)({type:"notebook:manage:insertFile",data:{status:a,size:u,mimeType:c},eventVersion:1,notebook:r,currentUser:o}))},S=function(e,t){var r=e.notebook,o=e.currentUser,i=t.file,a=i.status,u=i.size,c=i.mimeType;(0,n.MR)((0,n.ym)({type:"notebook:manage:copyFileCode",data:{status:a,size:u,mimeType:c},eventVersion:1,notebook:r,currentUser:o}))},x=function(e,t){var r=e.notebook,o=e.currentUser,i=t.file,a=i.status,u=i.size,c=i.mimeType;(0,n.MR)((0,n.ym)({type:"notebook:manage:downloadFile",data:{status:a,size:u,mimeType:c},eventVersion:1,notebook:r,currentUser:o}))},k=function(e,t){var r=e.notebook,o=e.currentUser,i=t.source,a=t.trigger,u=t.resolutions;(0,n.MR)((0,n.ym)({type:"notebook:manage:dependenciesResolve",data:{source:i,trigger:a,count:u.length},eventVersion:1,notebook:r,currentUser:o}))},O=function(e,t){var r=e.notebook,o=e.currentUser,i=t.locked,a=t.bulk;(0,n.MR)((0,n.ym)({type:"notebook:manage:dependenciesToggleLock",data:{status:i?"locked":"unlocked",bulk:!!a},eventVersion:1,notebook:r,currentUser:o}))},j=function(e){var t=e.notebook,r=e.currentUser;(0,n.MR)((0,n.ym)({type:"notebook:manage:dependenciesUpgrade",eventVersion:1,notebook:t,currentUser:r}))},C=function(e,t){var r=e.notebook,o=e.currentUser,i=t.status,a=t.updatesAvailable;(0,n.MR)((0,n.ym)({type:"notebook:manage:dependenciesShowDetails",data:{status:i,updatesAvailable:a},eventVersion:1,notebook:r,currentUser:o}))}},21571:function(e,t,r){r.d(t,{Yx:function(){return s},C2:function(){return f},jp:function(){return d},KV:function(){return p}});var n=r(34051),o=r.n(n),i=r(602),a=r(19671);function u(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(l){return void r(l)}u.done?t(c):Promise.resolve(c).then(n,o)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){u(i,n,o,a,c,"next",e)}function c(e){u(i,n,o,a,c,"throw",e)}a(void 0)}))}}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=function(){var e=c(o().mark((function e(t,r,n){var u,c,l,s,f,d,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=t.notebook,c=u.id,l=u.authors,s=t.currentUser,f=r.authors,d=l.map((function(e){return e.id})),p=f.map((function(e){return e.id})),e.prev=3,e.next=6,(0,i.Fv)("/document/".concat(c,"/authors"),{authors:f.map((function(e){return{id:e.id,description:e.description}})),removedAuthors:d.filter((function(e){return!p.includes(e)}))});case 6:(0,a.MR)((0,a.a$)({type:"notebook:manage:setAuthors",data:{authors:f.length,approved:f.filter((function(e){return e.approved})).length,withDescription:f.filter((function(e){return e.description})).length},eventVersion:1,currentUser:s})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),n({type:"showErrorToast",message:"Oops, failed to set authors. Refresh and try again?",key:"setAuthors"});case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t,r,n){return e.apply(this,arguments)}}(),f=function(e,t){return{authors:t.authors}},d=function(){var e=c(o().mark((function e(t,r,n){var u,c,l,s,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=t.notebook,c=u.id,l=u.authors,s=t.currentUser,f=r.value,e.prev=1,e.next=4,(0,i.Fv)("/document/".concat(c,"/author/").concat(f?"accept":"reject"));case 4:(0,a.MR)((0,a.a$)({type:"notebook:manage:setAuthorAcceptance",data:{value:f,prevValue:null!==s&&l.some((function(e){var t=e.id,r=e.approved;return t===s.id&&!r}))},eventVersion:1,currentUser:s})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n({type:"showErrorToast",message:"Oops, failed to ".concat(f?"accept":"remove"," authorship. Refresh and try again?"),key:"setAuthorAcceptance"});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,r,n){return e.apply(this,arguments)}}(),p=function(e,t){var r=e.authors,n=t.currentUser,o=t.value;return o?{authors:r.map((function(e){return e.id===n.id?function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){l(e,t,r[t])}))}return e}({},e,{approved:o}):e}))}:{authors:r.filter((function(e){return e.id!==n.id}))}}},6025:function(e,t,r){r.d(t,{T:function(){return o},C:function(){return i}});var n=r(11163),o=function(e){var t=e.notebook.id;n.default.replace("/[at]/[...specifiers]","/d/".concat(t))},i=function(){return{autosave:!1}}},21312:function(e,t,r){r.d(t,{N:function(){return s},Y:function(){return f}});var n=r(34051),o=r.n(n),i=r(602),a=r(19671);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(l){return void r(l)}u.done?t(c):Promise.resolve(c).then(n,o)}function l(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s=function(){var e,t=(e=o().mark((function e(t,r,n){var u,c,s,f,d,p,y;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=t.notebook,c=t.currentUser,s=r.addTo,f=r.removeFrom,d=r.onDismiss,p=u.id,e.next=4,Promise.allSettled(l(s.map((function(e){return(0,i.Fv)("/collection/".concat(e.id,"/add"),{document_listing_id:p})}))).concat(l(f.map((function(e){return(0,i.Fv)("/collection/".concat(e.id,"/remove"),{document_listing_id:p})})))));case 4:y=e.sent,n({type:"collectionsUpdated",addedTo:s.filter((function(e){return y.some((function(t){return"fulfilled"===t.status&&t.value&&t.value.collection_id===e.id}))})),removedFrom:f.filter((function(e){return y.some((function(t){return"fulfilled"===t.status&&t.value&&t.value.collection_id===e.id}))})),orphaned:"collections"in u&&u.collections.length+s.length<=f.length}),y.some((function(e){return"fulfilled"!==e.status}))?n({type:"showErrorToast",message:"Oops, collections update failed. Try again?",key:"collections"}):(s.forEach((function(e){return(0,a.MR)((0,a.y6)({type:"collection:manage:addNotebookListing",data:{addedListingId:p},collection:e,currentUser:c,eventVersion:1}))})),f.forEach((function(e){return(0,a.MR)((0,a.y6)({type:"collection:manage:removeNotebookListing",data:{removedListingId:p},collection:e,currentUser:c,eventVersion:1}))}))),d(),n({type:"updatedNotebook"});case 9:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){c(i,n,o,a,u,"next",e)}function u(e){c(i,n,o,a,u,"throw",e)}a(void 0)}))});return function(e,r,n){return t.apply(this,arguments)}}(),f=function(e,t){var r=t.addedTo,n=t.removedFrom;return{collections:l(e.collections.filter((function(e){return!n.some((function(t){return t.id===e.id}))}))).concat(l(r.filter((function(t){return!e.collections.some((function(e){return e.id===t.id}))}))))}}},60066:function(e,t,r){r.d(t,{h:function(){return u},q:function(){return c}});var n=r(34051),o=r.n(n),i=r(602);function a(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(l){return void r(l)}u.done?t(c):Promise.resolve(c).then(n,o)}var u=function(){var e,t=(e=o().mark((function e(t,r,n){var a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.notebook.id,u=r.locked,e.prev=1,e.next=4,(0,i.Fv)("/document/".concat(a,"/commenting-lock"),{locked:u});case 4:n({type:"showSuccessToast",message:"Commenting ".concat(u?"locked":"unlocked","."),key:"commentingLock"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n({type:"showErrorToast",message:"Locking comments failed. Try again?",key:"commentingLock"});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){a(i,n,o,u,c,"next",e)}function c(e){a(i,n,o,u,c,"throw",e)}u(void 0)}))});return function(e,r,n){return t.apply(this,arguments)}}(),c=function(e,t){return{commentingLock:t.commentingLock}}},6022:function(e,t,r){r.d(t,{Sh:function(){return v},UE:function(){return m},A9:function(){return b},Mb:function(){return g},hz:function(){return w},u0:function(){return S},Q8:function(){return x},E:function(){return O},V5:function(){return j},dV:function(){return C},hx:function(){return _},e5:function(){return E},Fq:function(){return M},I5:function(){return T},m1:function(){return D}});var n=r(34051),o=r.n(n),i=r(602),a=r(88725),u=r(25655),c=r(36448);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(l){return void r(l)}u.done?t(c):Promise.resolve(c).then(n,o)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){f(e,t,r[t])}))}return e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||h(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(e){if("string"===typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function v(e){var t=new Map,r=!0,n=!1,o=void 0;try{for(var i,a=I(e)[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var u=i.value;if(!A(u)){var c=t.get(u.node_id);c?c.push(u):t.set(u.node_id,[u])}}}catch(l){n=!0,o=l}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}function m(e,t,r){var n=(0,c.Hw)(e),o=r&&(0,c.Hw)(r),i=t&&e.forkOf&&t.id===e.forkOf.owner.id,a=!0,l=!1,s=void 0;try{for(var f,d=e.comments[Symbol.iterator]();!(a=(f=d.next()).done);a=!0){var y=p(f.value,2),h=y[0],v=y[1].filter((function(t){return t.node_id<=e.saveVersion}));v.some((function(e){return!(0,u.Wg)(e)}))&&(n||o||i||t&&v.some((function(e){return e.user.id===t.id})))&&e.openComments.add(h)}}catch(m){l=!0,s=m}finally{try{a||null==d.return||d.return()}finally{if(l)throw s}}}var b=function(e,t){var r=e.comments,n=e.composingComments,o=e.openComments,i=t.comments;r=new Map(r);var a=!0,c=!1,l=void 0;try{for(var s,f=function(e,t){var i=t.value;if(A(i)){var a=!0,c=!1,l=void 0;try{for(var s,f=r[Symbol.iterator]();!(a=(s=f.next()).done);a=!0){var d=p(s.value,2),h=d[0],v=d[1],m=(v=y(v)).findIndex((function(e){return!(0,u.tO)(e)&&e.id===i.id}));-1!==m&&(v.splice(m,1),r.set(h,v),0===v.length&&o.has(h)&&!n.has(h)&&(o=new Set(o)).delete(h))}}catch(w){c=!0,l=w}finally{try{a||null==f.return||f.return()}finally{if(c)throw l}}return"continue"}var b=y(r.get(i.node_id)||[]),g=b.findIndex((function(e){return!(0,u.tO)(e)&&e.id===i.id}));-1===g&&(b.push(i),b.sort(P),r.set(i.node_id,b),o.has(i.node_id)||(o=new Set(o).add(i.node_id))),(0,u.Wg)(i)&&(b[g]=i,r.set(i.node_id,b))},d=I(i)[Symbol.iterator]();!(a=(s=d.next()).done);a=!0)f(0,s)}catch(h){c=!0,l=h}finally{try{a||null==d.return||d.return()}finally{if(c)throw l}}return{comments:r,openComments:o}},g=function(e,t){var r,n=e.composingComments,o=e.openComments,i=e.comments,a=t.nodeId;return(n=new Set(n)).delete(a),i.has(a)&&0!==(null===(r=i.get(a))||void 0===r?void 0:r.length)||(o=new Set(o)).delete(a),{composingComments:n,openComments:o}},w=function(e,t){var r=e.composingComments,n=e.openComments,o=t.nodeId;return{composingComments:new Set(r).add(o),openComments:new Set(n).add(o),selectionFocusId:null,selection:new Set}},S=function(e,t){var r=e.openComments,n=t.nodeId;return(r=new Set(r)).delete(n),{openComments:r}},x=function(e,t){var r=t.nodeId,n=e.expandedResolvedComments,o=e.openComments,i=(0,a.HS)(e,r).length;return n=new Set(n),0===i?n.add(r):n.delete(r),{openComments:new Set(o).add(r),expandedResolvedComments:n}},k=0,O=function(e,t){var r,n=e.comments,o=e.composingComments,i=e.openComments,a=t.nodeId,u=t.content,c=t.currentUser,l=y((n=new Map(n)).get(a)||[]);return l.push({status:"local",create_time:new Date,update_time:null,content:u,node_id:a,nonce:++k,user:c}),n.set(a,l),(o=new Set(o)).delete(a),n.has(a)&&0!==(null===(r=n.get(a))||void 0===r?void 0:r.length)||(i=new Set(i)).delete(a),{composingComments:o,openComments:i,comments:n}},j=function(e,t){var r=e.comments,n=t.nonce,o=t.id,i=t.createTime,a=t.updateTime;r=new Map(r);var c=!0,l=!1,s=void 0;try{for(var f,d=r[Symbol.iterator]();!(c=(f=d.next()).done);c=!0)for(var h=p(f.value,2),v=h[0],m=h[1],b=m.length-1;b>=0;b--){var g=m[b];if((0,u.tO)(g)&&g.nonce===n)return(m=y(m))[b]={status:"unresolved",id:o,content:g.content,node_id:g.node_id,create_time:i,update_time:a,user:g.user},r.set(v,m),{comments:r}}}catch(w){l=!0,s=w}finally{try{c||null==d.return||d.return()}finally{if(l)throw s}}},C=function(e,t){var r=e.comments,n=t.comment,o=y((r=new Map(r)).get(n.node_id));if((0,u.tO)(n))o=o.filter((function(e){return(0,u.tO)(e)&&e.nonce!==n.nonce}));else for(var i=0;i<o.length;i++){var a=o[i];(0,u.tO)(a)||a.id!==n.id||(o[i]=d({},a,{status:"deletePending"}))}return r.set(n.node_id,o),{comments:r}},_=function(e,t){var r=e.comments,n=e.composingComments,o=e.openComments,i=t.ids;r=new Map(r);var a=!0,c=!1,l=void 0;try{for(var s,f=function(e,t){var a=p(t.value,2),c=a[0],l=a[1];l=y(l);var s=!0,f=!1,d=void 0;try{for(var h,v=function(e,t){var r=t.value,n=l.findIndex((function(e){return!(0,u.tO)(e)&&e.id===r}));-1!==n&&l.splice(n,1)},m=i[Symbol.iterator]();!(s=(h=m.next()).done);s=!0)v(0,h)}catch(b){f=!0,d=b}finally{try{s||null==m.return||m.return()}finally{if(f)throw d}}r.set(c,l),0===l.length&&o.has(c)&&!n.has(c)&&(o=new Set(o)).delete(c)},d=r[Symbol.iterator]();!(a=(s=d.next()).done);a=!0)f(0,s)}catch(h){c=!0,l=h}finally{try{a||null==d.return||d.return()}finally{if(c)throw l}}return{comments:r,openComments:o}};function P(e,t){return+e.create_time-+t.create_time}function A(e){return e.deleted}function I(e){return e.map((function(e){return A(e)?e:d({},e,{status:e.resolved?"resolved":"unresolved"})}))}var E=function(){var e,t=(e=o().mark((function e(t,r,n){var a,u,c,l,s,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.comment,u=a.id,c=a.content,l=r.anonymous,s=r.reason,f={anonymous:l,reason:s,subject:{type:"document_comment",id:u,content:c}},e.prev=2,e.next=5,(0,i.Fv)("/report",f);case 5:n({type:"showSuccessToast",message:"Comment reported."}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),n({type:"showErrorToast",message:"Comment report failed.",key:"reportAbuse"});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){s(i,n,o,a,u,"next",e)}function u(e){s(i,n,o,a,u,"throw",e)}a(void 0)}))});return function(e,r,n){return t.apply(this,arguments)}}(),M=function(e,t){var r=e.comments,n=e.openComments,o=t.nodeId,i=y((r=new Map(r)).get(o)||[]).map((function(e){return(0,u.sH)(e)||(0,u.tO)(e)||(0,u.Wg)(e)?e:d({},e,{status:"resolvePending"})}));return r.set(o,i),(n=new Set(n)).delete(o),{comments:r,openComments:n}},T=function(e,t){var r=e.comments,n=t.ids;r=new Map(r);var o=!0,i=!1,a=void 0;try{for(var c,l=function(e,t){var o=p(t.value,2),i=o[0],a=o[1];a=y(a);var c=!0,l=!1,s=void 0;try{for(var f,h=function(e,t){var r=t.value,n=a.findIndex((function(e){return!(0,u.tO)(e)&&e.id===r}));-1!==n&&(a[n]=d({},a[n],{status:"resolved"}))},v=n[Symbol.iterator]();!(c=(f=v.next()).done);c=!0)h(0,f)}catch(m){l=!0,s=m}finally{try{c||null==v.return||v.return()}finally{if(l)throw s}}r.set(i,a)},s=r[Symbol.iterator]();!(o=(c=s.next()).done);o=!0)l(0,c)}catch(f){i=!0,a=f}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}return{comments:r}},D=function(e,t){var r=e.expandedResolvedComments,n=t.nodeId;return(r=new Set(r)).has(n)?r.delete(n):r.add(n),{expandedResolvedComments:r}}},47977:function(e,t,r){r.d(t,{q5:function(){return d},_E:function(){return p},AK:function(){return h},zX:function(){return v},GH:function(){return m},Xm:function(){return b},nD:function(){return g},kc:function(){return w},Tv:function(){return S}});var n=r(19671),o=r(4598),i=r(26836),a=r(95690),u=r(83839),c=r(91460),l=r(48453);function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){s(e,t,r[t])}))}return e}var d=function(e,t){var r=t.name,n=e.focusId,o=e.model.nodes,a=null!==n?n:o[o.length-1].id;return(0,l.Zs)({id:a,before:!1,notebook:e,values:["".concat((0,i.Q)("db",(0,u.e3)(o))," = DatabaseClient(").concat(JSON.stringify(r),")")]})},p=function(e,t){var r=e.notebook,o=e.currentUser,i=t.name;(0,n.MR)((0,n.ym)({type:"notebook:manage:insertDatabase",data:{name:i},eventVersion:1,notebook:r,currentUser:o}))};function y(e){var t=e.notebook,r=e.provider,n=e.name,a=e.mimeType,s=t.focusId,f=t.model.nodes,d=null!==s?s:f[f.length-1].id,p=['FileAttachment("'.concat(o.c[r].shorthand,"://").concat(n,'")').concat((0,c.dH)(a))];if("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===a){var y=(0,i.Q)("workbook",(0,u.e3)(f));p[0]="".concat(y," = ").concat(p[0]),p.push("".concat(y,".sheetNames"),"Inputs.table(\n  ".concat(y,'.sheet(0, {\n    headers: false,\n    // range: "A1:J10"\n  })\n)'))}return(0,l.Zs)({before:!1,id:d,notebook:t,values:p})}var h=function(e,t){return y({notebook:e,provider:t.provider,name:t.name,mimeType:t.mimeType})},v=function(e,t){var r=e.notebook,o=e.currentUser,i=t.provider,a=t.size,u=t.mimeType;(0,n.MR)((0,n.ym)({type:"notebook:manage:cloudFileSnippet",data:{provider:i,size:a,mimeType:u},notebook:r,currentUser:o,eventVersion:1}))},m=function(e,t){var r=t.provider,n=t.path,i=t.name,u=t.mimeType,l=e.model,s=new Set(l.resolutions.filter((function(e){return"cloud_file"===e.type})).map((function(e){return e.specifier}))),d=(0,c.Tw)(s,(0,c.Nw)(i||"".concat(o.c[r].shorthand,"File"))),p=y({notebook:e,provider:r,mimeType:u,name:d}),h={type:"resolve_dependency",specifier_type:"cloud_file",specifier:"".concat(o.c[r].shorthand,"://").concat(d),new_resolution:n};return f({},p,(0,a.v)(f({},e,p),[h]))},b=function(e,t){var r=e.notebook,o=e.currentUser,i=t.provider,a=t.mimeType,u=t.size;(0,n.MR)((0,n.ym)({type:"notebook:manage:insertCloudFile",data:{provider:i,mimeType:a,size:u},eventVersion:1,notebook:r,currentUser:o}))},g=function(e,t){var r=t.provider,n=t.name,i="".concat(o.c[r].shorthand,"://").concat(n);if(e.model.resolutions.find((function(e){return"cloud_file"===e.type&&e.specifier===i}))){var u={type:"resolve_dependency",specifier_type:"cloud_file",specifier:i,new_resolution:null};return(0,a.v)(e,[u])}},w=function(e,t){var r=e.notebook,o=e.currentUser,i=t.provider,a=t.size,u=t.mimeType;(0,n.MR)((0,n.ym)({type:"notebook:manage:removeCloudFile",data:{provider:i,size:a,mimeType:u},eventVersion:1,notebook:r,currentUser:o}))},S=function(e,t){var r=e.notebook,o=e.currentUser,i=t.provider,a=t.size,u=t.mimeType;(0,n.MR)((0,n.ym)({type:"notebook:manage:downloadCloudFile",data:{provider:i,size:a,mimeType:u},eventVersion:1,notebook:r,currentUser:o}))}},67220:function(e,t,r){r.d(t,{y:function(){return u},z:function(){return c}});var n=r(34051),o=r.n(n),i=r(602);function a(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(l){return void r(l)}u.done?t(c):Promise.resolve(c).then(n,o)}var u=function(){var e,t=(e=o().mark((function e(t,r,n){var a,u,c,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.notebook.id,u=r.description,c=r.onDismiss,e.prev=1,e.next=4,(0,i.Fv)("/document/".concat(a,"/description"),{description:u});case 4:l=e.sent,n({type:"descriptionUpdated",description:l.description}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),n({type:"showErrorToast",message:"Oops, setting notebook description failed. Try again?",key:"description"});case 11:c();case 12:case"end":return e.stop()}}),e,null,[[1,8]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){a(i,n,o,u,c,"next",e)}function c(e){a(i,n,o,u,c,"throw",e)}u(void 0)}))});return function(e,r,n){return t.apply(this,arguments)}}(),c=function(e,t){return{description:t.description}}},52054:function(e,t,r){r.d(t,{F2:function(){return S},l8:function(){return x},Hp:function(){return k},AV:function(){return O},GD:function(){return j},Sf:function(){return C}});var n=r(78120),o=r(14456),i=r(21684),a=r(74822),u=r(1864),c=r(58489),l=r(63213),s=r(30883),f=r(50826),d=r(53261),p=r(66421),y=r(25655),h=r(28100),v=r(83839);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function w(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e){return{changes:n.as.of(e.changes,e.length)}}function x(e,t,r,f){var p=e.id,h=e.value,v=e.mode,m=e.data,b=d.qz[v];return n.yy.create({extensions:[u.C.init((function(){return v}))].concat(w(i.Xl),[c.X.init((function(){return p})),s.i.init((function(){return t})),i.Hk.modeExtensions.of(b.extensions({settings:t,data:m})),a._.init((function(){return(0,y.Pu)(r).map((function(e){return e.name}))})),l.Z.init((function(){return f})),i.Hk.keymap.of(o.$f.of(w(b.keymap).concat(w(i.Bt)))),i.Hk.closeBrackets.of(t.closeBracketsOn?i._g:[])]),doc:h})}function k(e,t){e.editorStates=O(e,t)}function O(e,t){var r,n,o=e.model.nodes,i=e.owner,a=e.files,u=(0,y.cE)(e)?i:null,c={prettierOn:(0,y.wW)(t,i),closeBracketsOn:(0,y.CD)(t),autocompleteOn:(0,y.Im)(t),fileUploadsOn:(0,p.Yb)(t),spellcheckOn:(0,y.OA)(t),tableOn:(0,f.U)(t,"table_mode"),insertMenuOn:(0,f.U)(t,"insert_menu")},l=new Map(o.map((function(e){return[e.id,x(e,c,a,u)]}))),s=!0,d=!1,h=void 0;try{for(var m,b=o[Symbol.iterator]();!(s=(m=b.next()).done);s=!0){var g,w=m.value;l=(g=(0,v.Nv)({editorStates:l,transactions:r},w)).editorStates,r=g.transactions}}catch(S){d=!0,h=S}finally{try{s||null==b.return||b.return()}finally{if(d)throw h}}return l=(n=(0,v.Cv)({editorStates:l,transactions:r},o)).editorStates,r=n.transactions,l}function j(e){var t=new Map,r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var u=i.value,c=u.node_id,l=g(u,["node_id"]);t.has(c)?t.get(c).push(l):t.set(c,[l])}}catch(s){n=!0,o=s}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}function C(e,t,r){return null===r?t:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){b(e,t,r[t])}))}return e}({},t,(0,h.N)(e,{scrollIntoView:!0},r))}},91460:function(e,t,r){r.d(t,{uu:function(){return x},zJ:function(){return k},QT:function(){return j},eV:function(){return C},YJ:function(){return _},b1:function(){return P},GC:function(){return A},R$:function(){return I},pB:function(){return E},Nz:function(){return M},Tw:function(){return T},Nw:function(){return D},dH:function(){return $}});var n=r(34051),o=r.n(n),i=r(78120),a=r(53695),u=r(74822),c=r(33042),l=r(2102),s=r(88725),f=r(72760),d=r(25655),p=r(95690),y=r(28100),h=r(48453);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(l){return void r(l)}u.done?t(c):Promise.resolve(c).then(n,o)}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){b(e,t,r[t])}))}return e}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e){var t=e.status,r=e.name,n=e.create_time,o=e.url,i=e.download_url,a=e.size,u=e.mime_type,c=new Date(n);switch(t){case"pending":return{status:"pending",name:r,createTime:c,mimeType:u};case"deleted":return{status:"deleted",name:r,createTime:c,mimeType:u};case"private":return{status:"private",name:r,createTime:c,url:o,downloadUrl:i,size:a,mimeType:u};case"public":return{status:"public",name:r,createTime:c,url:o,downloadUrl:i,size:a,mimeType:u}}}function x(e){return new Map(e.map((function(e){return[e.name,S(e)]})))}var k=function(e,t){var r=e.editorStates,n=e.files,o=t.file,i=t.ownUpload;n=new Map(n);var a=S(o),u=a.name,c=n.get(u);if("local"!==(null===c||void 0===c?void 0:c.status)||i)void 0!==(null===c||void 0===c?void 0:c.blob)&&(a.blob=c.blob);else{var l=T(n,u);n.set(l,c),console.warn("renamed ".concat(u," \u21a6 ").concat(l))}n.set(u,a);var s=O(r,[],n);return{files:n,editorStates:s.editorStates,transactions:s.transactions}};function O(e,t,r){var n=e,o=(0,d.Pu)(r).map((function(e){return e.name})),i=!0,a=!1,c=void 0;try{for(var l,s=e[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var f,p=w(l.value,1)[0];n=(f=(0,y.N)({editorStates:n,transactions:t},{effects:u.C.of(o)},p)).editorStates,t=f.transactions}}catch(h){a=!0,c=h}finally{try{i||null==s.return||s.return()}finally{if(a)throw c}}return{editorStates:n,transactions:t}}var j=function(e,t){var r=t.files,n=t.nodeId,o=r.filter((function(e){return e.size<=s.D_}));if(o.length){var u=new Map(e.files),c=[],l=!0,f=!1,d=void 0;try{for(var p,h=o[Symbol.iterator]();!(l=(p=h.next()).done);l=!0){var v=p.value,m=T(u,D(v.name)),b={name:m,createTime:new Date,mimeType:v.type,status:"local",blob:v,size:v.size};u.set(m,b),c.push(b)}}catch(j){f=!0,d=j}finally{try{l||null==h.return||h.return()}finally{if(f)throw d}}if(void 0===n)return g({files:u},O(e.editorStates,[],u));var w,S,x=e.editorStates.get(n),k=x.changeByRange((function(e){var t=c.map((function(t){return F(t.name,t.mimeType,(0,a.yq)(x,e))})).join(", ");return{changes:{from:e.from,to:e.to,insert:t},range:i.jT.cursor(e.from+t.length)}}));e.editorStates;return{files:u,editorStates:(S=O((w=(0,y.N)(e,k,n)).editorStates,w.transactions,u)).editorStates,transactions:S.transactions}}},C=function(e,t,r){var n=t.files,o=!0,i=!1,a=void 0;try{for(var u,c=n[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var f=u.value;f.size>s.D_&&r({type:"showErrorToast",message:"Could not upload ".concat(f.name,": file exceeds the ").concat((0,l.B)(s.D_)," limit."),key:"upload:".concat(f.name)})}}catch(d){i=!0,a=d}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}},_=function(e,t){var r=t.fileToAttach,n=t.nodeId,o=t.fileToReplace,i=new Map(e.files),a=r,u=T(i,D(a.name));i.set(u,{name:u,createTime:new Date,mimeType:a.type,status:"local",blob:a,size:a.size});var l,s=e.editorStates,d=[];s=(l=O(s,d,i)).editorStates,d=l.transactions;var h=new Map;if(void 0!==n);else{var v=!0,m=!1,b=void 0;try{for(var S,x=e.editorStates[Symbol.iterator]();!(v=(S=x.next()).done);v=!0){var k=w(S.value,2),j=k[0],C=k[1],_=(0,f.Qc)(g({},(0,c.DY)(e.model,j),{value:C.doc.toString()})),P=o.name;_.fileAttachments.has(P)&&h.set(j,_.fileAttachments.get(P))}}catch(N){m=!0,b=N}finally{try{v||null==x.return||x.return()}finally{if(m)throw b}}}var A=[],I=!0,E=!1,M=void 0;try{for(var F,R=h[Symbol.iterator]();!(I=(F=R.next()).done);I=!0){var $,U=w(F.value,2),V=U[0],L=U[1];s=($=(0,y.N)({editorStates:s,transactions:d},{changes:L.map((function(e){return{from:e.start,to:e.end,insert:'"'.concat(u,'"')}}))},V)).editorStates,d=$.transactions,A.push({type:"modify_node",node_id:V,new_node_value:s.get(V).doc.toString()})}}catch(N){E=!0,M=N}finally{try{I||null==R.return||R.return()}finally{if(E)throw M}}return g({files:i},(0,p.v)(g({},e,{files:i,editorStates:s,transactions:d}),A))},P=function(e,t){var r=e.files,n=t.name,o=r.get(n);if("local"===o.status)return(r=new Map(r)).set(n,g({},o,{status:"pending"})),{files:r}},A=function(e,t){var r=e.files,n=e.editorStates,o=t.name,i=r.get(o);(r=new Map(r)).set(o,g({},i,{status:"local"===i.status?"deleted":"deletepending"}));var a=O(n,[],r);return{files:r,editorStates:a.editorStates,transactions:a.transactions}},I=function(e,t){var r=e.files,n=t.name,o=r.get(n);if("deletepending"===o.status)return(r=new Map(r)).set(n,g({},o,{status:"deleted"})),{files:r}},E=function(e,t){var r=t.file,n=e.focusId,o=e.model,i=null!==n?n:o.nodes[o.nodes.length-1].id;return(0,h.Zs)({id:i,before:!1,notebook:e,values:[F(r.name,r.mimeType)]})},M=function(){var e,t=(e=o().mark((function e(t,r,n){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.file,e.next=3,navigator.clipboard.writeText(F(i.name,i.mimeType));case 3:n({type:"showSuccessToast",message:"Copied to clipboard"});case 4:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){m(i,n,o,a,u,"next",e)}function u(e){m(i,n,o,a,u,"throw",e)}a(void 0)}))});return function(e,r,n){return t.apply(this,arguments)}}();function T(e,t){for(;e.has(t);)t=t.replace(/(?:@(\d+))?(?=\.|$)/,(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"@".concat(+t+1)}));return t}function D(e){return e.replace(/[\\"'`${}@\x00-\x09\x0b-\x19]+/g,"-")}function F(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"js",n="FileAttachment(".concat(JSON.stringify(e),")");return"md"===r?"".concat(R(t)?"!":"","[").concat(e,"](${await ").concat(n,".url()})"):"html"===r?R(t)?'<img alt="'.concat(e,'" src="${await ').concat(n,'.url()}">'):'<a href="${await '.concat(n,'.url()}">').concat(e,"</a>"):"".concat(n).concat($(t))}function R(e){return e&&e.startsWith("image/")}function $(e){if(R(e))return".image()";switch(e){case"application/json":return".json()";case"application/x-sqlite3":return".sqlite()";case"application/zip":return".zip()";case"text/csv":return".csv()";case"text/plain":return".text()";case"text/tab-separated-values":return".tsv()";case"application/xml":return".xml()";case"text/html":return".html()";case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":return".xlsx()"}return""}},47041:function(e,t,r){r.d(t,{cn:function(){return p},mX:function(){return y},Aq:function(){return h},$c:function(){return v},VH:function(){return b},T_:function(){return g},yv:function(){return w},N5:function(){return S},ib:function(){return x},ug:function(){return k},s0:function(){return O},vG:function(){return j},zq:function(){return C},I$:function(){return _},z1:function(){return P},L4:function(){return A},SS:function(){return I}});var n=r(78120),o=r(48373),i=r(33042),a=r(72760),u=r(84236),c=r(9077),l=r(95690),s=r(28100);function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){f(e,t,r[t])}))}return e}function p(e){var t=e.focusId,r=e.model,n=e.participants,o=e.editorStates;if(null!==t&&!n.some((function(e){return e.node_ids.includes(t)}))){var a=o.get(t);if(a){var l=a.doc.toString(),s=(0,i.DY)(r,t),f=s.mode,d=s.data,p=s.value;return(0,c.Z)(l)&&r.nodes.length>1&&(!(0,u.Om)(f)||null===(null===d||void 0===d?void 0:d.source.name))?{type:"remove_node",node_id:t}:l!==p?{type:"modify_node",new_node_value:l,node_id:t}:void 0}}}function y(e,t){if(null!==t){var r=e.length;e[r-1]!==t&&(e=(r<100?e:e.slice(100-r+1)).concat(t))}return e}function h(e,t,r){if(e.focusId!==t)return v(e,t,r)}function v(e,t,r){return d({focusId:t,focusStack:y(e.focusStack,t),selectionFocusId:null,selection:new Set,insertingId:void 0},(0,s.N)(e,{scrollIntoView:!0,selection:r},t))}function m(e,t,r){if(e.focusId!==t){var n=p(e),o=n&&(0,l.v)(e,[n]);return d({},o,h(d({},e,o),t,r))}}function b(e){return null!==e.focusId?(0,s.N)(e,{scrollIntoView:!0},e.focusId):void 0}var g=function(e,t){return m(e,t.id)},w=function(e,t){var r=t.id,n=void 0===r?e.focusId:r;if(e.focusId===n)return S(e)};function S(e){if(null!==e.focusId){var t=p(e);return d({},t&&(0,l.v)(e,[t]),{focusId:null})}}var x=function(e,t){var r=t.id,o=t.selectStart,a=e.model,u=e.model.nodes,c=(0,i.$g)(a,r);if(!(c>u.length-2))return m(e,u[c+1].id,o?n.jT.single(0):void 0)},k=function(e,t){var r=t.id,o=t.selectEnd,a=e.editorStates,u=e.model,c=e.model.nodes,l=(0,i.$g)(u,r);if(!(l<1)){var s=c[l-1].id;return m(e,s,o?n.jT.single(a.get(s).doc.length):void 0)}},O=function(e){var t=e.model.nodes,r=e.focusId,n=e.focusStack;return m(e,null!==r?r:n.length?n[n.length-1]:t[0].id)},j=function(e){var t=e.model.nodes,r=e.focusId,n=e.focusStack;return m(e,null!==r?r:n.length?n[n.length-1]:t[t.length-1].id)},C=function(e){var t=e.focusStack,r=t.length;if(r>1)return d({},m(e,t[r-2]),{focusStack:t.slice(0,-1)})},_=function(e,t){var r=t.name;r=r.trim().replace(/\s+/g," ");var n=e.model.nodes.find((function(e){return(0,a.WN)(e).includes(r)}));if(void 0!==n)return m(e,n.id)},P=function(e,t){var r=t.id,i=e.editorStates,a=(i.get(r).field(o.ei).find((function(e){return e.jumpToError}))||{}).jumpToError;if(a&&i.has(a.id)){var u=n.jT.single(Math.min(a.position,i.get(a.id).doc.length-1));return e.focusId===a.id?v(e,a.id,u):m(e,a.id,u)}},A=function(e,t){var r=t.id,n=t.after,o=e.model,a={insertingId:null===r?r:n?(0,i.o4)(o,r):r},u=S(d({},e,a));return n||!(null===u||void 0===u?void 0:u.model)||null===r||null===a.insertingId||(0,i.DY)(u.model,a.insertingId)||(a.insertingId=(0,i.o4)(o,r)),d({selectionFocusId:null,selection:new Set},a,u)},I=function(){return{insertingId:void 0}}},17152:function(e,t,r){r.d(t,{cL:function(){return y},L3:function(){return h},J1:function(){return v},Fe:function(){return m}});var n=r(34051),o=r.n(n),i=r(76267),a=r(82018),u=r(66421),c=r(25655),l=r(37724),s=r(11163),f=r(95757);function d(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(l){return void r(l)}u.done?t(c):Promise.resolve(c).then(n,o)}function p(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){d(i,n,o,a,u,"next",e)}function u(e){d(i,n,o,a,u,"throw",e)}a(void 0)}))}}var y=function(){return{isForking:!0}},h=function(){return{isForking:!1}},v=function(){var e=p(o().mark((function e(t,r,n){var i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.notebook,a=t.currentUser,!i.isForking){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,m(a,i,r,n);case 5:(u=e.sent)?s.default.push("/[at]/[...specifiers]","/d/".concat(u.id)):n({type:"forkFailed"});case 7:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}();function m(e,t,r,n){var s=r.trigger,d=r.source;return new Promise((function(r){function y(e){return h.apply(this,arguments)}function h(){return(h=p(o().mark((function i(u){var c;return o().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n({type:"forkPending"}),o.next=3,(0,a.R)({notebook:t,currentUser:e,dispatch:n,trigger:s,source:d,teamId:u});case 3:c=o.sent,r(c);case 5:case"end":return o.stop()}}),i)})))).apply(this,arguments)}e?(0,c.ws)(t)&&(0,c.p0)(t)?y(t.owner.id):(0,u.RS)(e)?n({type:"showModal",modal:"accountSelect",modalProps:{title:"Fork notebook",icon:i.Z,teams:(0,u.T1)(e),defaultAccount:t.owner,onSelectAccount:function(t){return y(t.id!==e.id?t.id:void 0)}}}):y(void 0):(n({type:"showModal",modal:"login",modalProps:{loginReason:"fork",loginAction:function(){l.y.setItem("forkId",t.id),l.y.setItem("fork",JSON.stringify({save_version:t.saveVersion,events:"model"in t?t.model.events.slice(t.saveVersion+1).map((function(e){return(0,f.e)(e)})):[]}))}},trigger:s,source:d}),r(void 0))}))}},3729:function(e,t,r){r.d(t,{n:function(){return s},X:function(){return f}});var n=r(34051),o=r.n(n),i=r(602),a=r(31788);function u(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(l){return void r(l)}u.done?t(c):Promise.resolve(c).then(n,o)}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var s=function(){var e,t=(e=o().mark((function e(t,r,n){var a,u,c,s,f,d,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.notebook,u=t.currentUser,c=r.version,e.next=3,(0,i.a8)("/document/".concat(a.id,"@").concat(c));case 3:s=e.sent,f=s.edit_unpublished,d=s.latest_version,p=l(s,["edit_unpublished","latest_version"]),n({type:"loadedVersion",body:p,editUnpublished:f,initialLatestVersion:d,currentUser:u});case 8:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){u(i,n,o,a,c,"next",e)}function c(e){u(i,n,o,a,c,"throw",e)}a(void 0)}))});return function(e,r,n){return t.apply(this,arguments)}}(),f=function(e,t){var r=t.initialLatestVersion;return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){c(e,t,r[t])}))}return e}({},(0,a.R)(e,t),{initialLatestVersion:r,autosave:!1})}},91398:function(e,t,r){r.d(t,{v:function(){return u},l:function(){return c}});var n=r(34051),o=r.n(n),i=r(602);function a(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(l){return void r(l)}u.done?t(c):Promise.resolve(c).then(n,o)}var u=function(){var e,t=(e=o().mark((function e(t,r,n){var a,u,c,l,s,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.notebook,u=a.like,c=a.id,l=t.currentUser,s=r.trigger,f=r.source,l){e.next=4;break}return n({type:"showModal",modal:"login",modalProps:{loginReason:"like"},trigger:s,source:f}),e.abrupt("return");case 4:return n({type:"liked",liked:!u}),e.prev=5,e.next=8,(0,i.Fv)("/document/".concat(c,"/like"),{like:!u});case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(5),n({type:"liked",liked:u}),n({type:"showErrorToast",message:u?"Oops, un-liking this notebook failed. Try again?":"Oops, liking this notebook failed. Try again?",key:"like"});case 14:case"end":return e.stop()}}),e,null,[[5,10]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){a(i,n,o,u,c,"next",e)}function c(e){a(i,n,o,u,c,"throw",e)}u(void 0)}))});return function(e,r,n){return t.apply(this,arguments)}}(),c=function(e,t){var r=e.likes,n=t.liked;return{like:n,likes:Math.max(r+(n?1:-1),0)}}},48453:function(e,t,r){r.d(t,{kT:function(){return v},TN:function(){return m},th:function(){return b},Zs:function(){return g},$T:function(){return w},BE:function(){return S},Vt:function(){return x},Od:function(){return k},aB:function(){return O},vi:function(){return j},A1:function(){return C},XM:function(){return _}});var n=r(78120),o=r(53582),i=r(33042),a=r(53261),u=r(95690),c=r(28100),l=r(52054),s=r(47041);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){d(e,t,r[t])}))}return e}function y(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function h(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e){var t=o.Z.of(e);return t.history=[],t}var m=function(e,t){var r=t.value;return(0,u.v)(e,[{type:"modify_title",new_node_value:r}])},b=function(e,t){var r=t.id,n={type:"modify_node",node_id:r,new_node_value:e.editorStates.get(r).doc.toString()},i=(0,u.v)(e,[n]),a=i.model,c=y(i,["model"]);return a===e.model&&((a=new o.Z(e.model)).history=e.model.history.concat(p({},n,{version:e.model.version}))),p({},c,{model:a})};function g(e){var t=e.notebook,r=e.id,o=e.before,a=e.values,c=t.model,l=o?r:(0,i.o4)(c,r),f=a.map((function(e){return{type:"insert_node",new_next_node_id:l,new_node_value:e,new_node_pinned:!0,new_node_mode:"js",new_node_data:null,new_node_name:null}})),d=(0,s.cn)(t);d&&f.push(d);var y=(0,u.v)(t,f),h=c.events.length+a.length-1;return p({},y,(0,s.Aq)(p({},t,y),h,n.jT.create([n.jT.cursor(y.editorStates.get(h).doc.length)])))}function w(e){var t=e.notebook,r=e.id,n=e.before,o=e.mode,c=void 0===o?"js":o,l=t.model,f=null===r||n?r:(0,i.o4)(l,r),d=(0,s.cn)(t),y=(0,u.v)(t,[p({type:"insert_node",new_next_node_id:f,new_node_value:"",new_node_pinned:!0,new_node_mode:c,new_node_data:null,new_node_name:""},a.qz[c].baseNodeOverrides)].concat(h(d?[d]:[])));return p({},y,(0,s.Aq)(p({},t,y),l.events.length))}var S=function(e,t){var r=t.id,n=t.mode;return w({notebook:e,id:r,before:!1,mode:void 0===n?"js":n})},x=function(e,t){var r=t.id,n=t.mode;return w({notebook:e,id:r,before:!0,mode:void 0===n?"js":n})},k=function(e,t){var r=t.id,n=t.focusAfter,o=t.focusBefore,a=e.model.nodes;if(a.length>1){var l=(0,u.v)(e,[{type:"remove_node",node_id:r}]);if(n||o){var s=(0,i.$g)(e.model,r)+(n?1:-1);l=p({},l,{focusId:a[Math.max(0,Math.min(a.length,s))].id})}return l}var f={changes:{from:0,to:e.editorStates.get(r).doc.length,insert:""}},d=(0,c.N)(e,f,r),y=d.transactions,h=d.editorStates,v=h.get(r);return(0,u.v)(p({},e,{transactions:y,editorStates:h}),[{type:"modify_node",node_id:r,new_node_value:v.doc.toString()}])},O=function(e,t){var r=t.id,n=(0,i.DY)(e.model,r).pinned;return(0,u.v)(e,[{type:n?"unpin_node":"pin_node",node_id:r}])},j=function(e,t){var r=t.id,n=e.model.nodes,o=(0,i.$g)(e.model,r);if(o!==n.length-1)return(0,l.Sf)(e,(0,u.v)(e,[{type:"move_node",node_id:r,new_next_node_id:o<n.length-2?n[o+2].id:null}]),r)},C=function(e,t){var r=t.id,n=e.model.nodes,o=(0,i.$g)(e.model,r);if(0!==o)return(0,l.Sf)(e,(0,u.v)(e,[{type:"move_node",node_id:r,new_next_node_id:n[o-1].id}]),r)},_=function(e,t){var r=t.copyright,n=t.license,o=e.model,i=[];if(o.copyright!==r&&i.push({type:"modify_copyright",new_node_value:r}),o.license!==n&&i.push({type:"modify_license",new_node_value:n}),i.length)return(0,u.v)(e,i)}},51133:function(e,t,r){r.d(t,{oc:function(){return f},$R:function(){return d},tR:function(){return p},_$:function(){return y}});var n=r(34051),o=r.n(n),i=r(602),a=r(27193),u=r(31788);function c(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(l){return void r(l)}u.done?t(c):Promise.resolve(c).then(n,o)}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var f=function(){return{isReverting:!0}},d=function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){l(e,t,r[t])}))}return e}({},(0,u.R)(e,t),{isReverting:!1,saveTime:new Date,autosave:!0})},p=function(){return{isReverting:!1}},y=function(){var e,t=(e=o().mark((function e(t,r,n){var u,c,l,f,d,p,y,h,v,m,b;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=t.notebook,c=u.id,l=u.model,f=u.isReverting,d=t.currentUser,p=t.page.pane,!f){e.next=3;break}return e.abrupt("return");case 3:if(y=r.remote,h=r.version,n({type:"showProcessingToast",key:"revert",message:y?"".concat((0,a.Ui)(l)," was reverted to version ").concat(h,"\u2026"):"Reverting ".concat((0,a.Ui)(l)," to version ").concat(h,"\u2026")}),e.prev=5,!y){e.next=12;break}return e.next=9,(0,i.a8)("/document/".concat(c,"@").concat(r.saveVersion));case 9:e.t0=e.sent,e.next=15;break;case 12:return e.next=14,(0,i.Fv)("/document/".concat(c,"/revert"),{version:h});case 14:e.t0=e.sent;case 15:v=e.t0,m=v.edit_unpublished,b=s(v,["edit_unpublished"]),n({type:"revertSucceeded",body:b,editUnpublished:m,currentUser:d}),n({type:"showSuccessToast",key:"revert",message:"".concat((0,a.Ui)(l)," was reverted to version ").concat(h,".")}),"history"===p&&n({type:"dismissPane"}),e.next=27;break;case 23:e.prev=23,e.t1=e.catch(5),n({type:"revertFailed"}),n({type:"showErrorToast",key:"revert",message:"".concat((0,a.Ui)(l)," ").concat(y?"was":"could not be"," reverted. Please reload").concat(y?"":" or try again",".")});case 27:case"end":return e.stop()}}),e,null,[[5,23]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){c(i,n,o,a,u,"next",e)}function u(e){c(i,n,o,a,u,"throw",e)}a(void 0)}))});return function(e,r,n){return t.apply(this,arguments)}}()},38559:function(e,t,r){r.d(t,{YU:function(){return C},Fz:function(){return _},oG:function(){return A},hf:function(){return E},IY:function(){return M},zI:function(){return T},QB:function(){return D},Pp:function(){return F},lc:function(){return R},tT:function(){return $},gL:function(){return U},J2:function(){return V},sA:function(){return L},sk:function(){return N},Rt:function(){return B},wW:function(){return q},$k:function(){return z}});var n=r(34051),o=r.n(n),i=r(78120),a=r(48152),u=r(19170),c=r(55818),l=r(95690),s=r(28100),f=r(47041);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(l){return void r(l)}u.done?t(c):Promise.resolve(c).then(n,o)}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t){return null!=t&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){y(e,t,r[t])}))}return e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||g(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){if(e){if("string"===typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}var w=28;function S(e){var t=e.searchTerm,r=e.content,n=e.caseInsensitive,o=void 0!==n&&n,i=e.wholeWord,a=void 0!==i&&i;h(t,RegExp)||(a&&(t=t.trim()),o&&(r=r.toLocaleLowerCase(),t=t.toLocaleLowerCase()));var u=[],c=-1;if(h(t,RegExp))for(var l;null!==(l=t.exec(r));)u.push({location:l.index,matchedText:l[0],captureGroups:l.slice(1)});else for(;c<r.length-1;){var s=r.indexOf(t,c+1);if(-1===s)break;if(c=s,a){if(s>0&&/\b/.test(r[s-1]))break;if(s+t.length<r.length&&/\b/.test(r[s+t.length]))break}u.push({location:s,matchedText:r.substr(s,t.length),captureGroups:[]})}return u}function x(e){var t=e.searchTerm;return e.regexSearch?new RegExp(t,"gu"):t}function k(e){for(var t=e.searchTerm,r=e.editorState,n=e.caseSensitiveSearch,o=e.wholeWordSearch,i=r.doc.toString(),a=[],u=[{location:0,matchedText:"\n",captureGroups:[]}].concat(b(S({content:i,searchTerm:"\n"})),[{location:i.length,matchedText:"\n",captureGroups:[]}]),c=0;c<u.length-1;c++){var l=u[c].location,s=u[c+1].location-1,f=i.substring(l,s+1);if(f){var d=S({content:f,searchTerm:t,caseInsensitive:!n,wholeWord:o}),p=!0,y=!1,h=void 0;try{for(var v,m=d[Symbol.iterator]();!(p=(v=m.next()).done);p=!0){var g=v.value,x=g.matchedText,k=g.location;if(x.length>=w)a.push({beforeText:"",termText:k>0?"\u2026".concat(x.substr(0,26),"\u2026"):"".concat(x.substr(0,27),"\u2026"),afterText:"",matchLength:x.length,captureGroups:g.captureGroups,pos:l+k});else{var O=f.substr(k,x.length),j=void 0,C=void 0;if(f.length<=w)j=f.substring(0,k),C=f.substring(k+x.length);else{var _=Math.floor(k+x.length/2);if(_-14<=0)j=f.substring(0,k),C="".concat(f.substring(k+x.length,27),"\u2026");else if(_+14>f.length)j="\u2026".concat(f.substring(f.length-w+1,k)),C=f.substring(k+x.length);else{var P=(w-x.length)/2-1,A=Math.floor(P),I=Math.ceil(P);j="\u2026".concat(f.substr(k-A,A)),C="".concat(f.substr(k+x.length,I),"\u2026")}}a.push({beforeText:j,termText:O,afterText:C,matchLength:x.length,captureGroups:g.captureGroups,pos:l+k})}}}catch(E){y=!0,h=E}finally{try{p||null==m.return||m.return()}finally{if(y)throw h}}}}return a.length?a:void 0}function O(e){var t=e.editorStates,r=e.transactions,n=e.selectedSearchResult,o=e.searchResultsVisible,i=e.searchResults,c=e.model.nodes;if(i&&0!==(0,u.n)(i))if(n){var l=!1,f=!1,d=!0,p=!1,y=void 0;try{for(var h,b=c[Symbol.iterator]();!(d=(h=b.next()).done);d=!0){var g=h.value.id,w=i.get(g);if(g===n.nodeId){if(l=!0,w&&n.nodeResultIndex<w.length){f=!0;break}}else if(l&&w){n={nodeId:g,nodeResultIndex:0},f=!0;break}}}catch(P){p=!0,y=P}finally{try{d||null==b.return||b.return()}finally{if(p)throw y}}l&&f||(n={nodeId:i.keys().next().value,nodeResultIndex:0})}else n=I(i,0);else n=void 0;var S=!0,x=!1,k=void 0;try{for(var O,j=t[Symbol.iterator]();!(S=(O=j.next()).done);S=!0){var C,_=m(O.value,1)[0];t=(C=(0,s.N)({editorStates:t,transactions:r},{effects:[a.YE.of((null===i||void 0===i?void 0:i.get(_))||null),a.j5.of(n||null),a.K5.of(o)]},_)).editorStates,r=C.transactions}}catch(P){x=!0,k=P}finally{try{S||null==j.return||j.return()}finally{if(x)throw k}}return v({},e,{editorStates:t,transactions:r,selectedSearchResult:n})}function j(e,t){if(!e.searchTerm)return e;var r,n=e.editorStates,o=e.searchTerm,i=e.caseSensitiveSearch,a=e.wholeWordSearch,u=e.regexSearch,c=e.searchResults,l=e.model.nodes;t||(t=Array.from(n.keys()));try{r=x({searchTerm:o,regexSearch:u})}catch(w){return O(v({},e))}var s=new Map,f=!0,d=!1,p=void 0;try{for(var y,h=l[Symbol.iterator]();!(f=(y=h.next()).done);f=!0){var m=y.value.id,b=n.get(m);if(b){var g=t.includes(m)?k({searchTerm:r,editorState:b,caseSensitiveSearch:i,wholeWordSearch:a}):c.get(m);g&&s.set(m,g)}}}catch(S){d=!0,p=S}finally{try{f||null==h.return||h.return()}finally{if(d)throw p}}return O(v({},e,{searchResults:s}))}var C=function(e,t){return j(e,t.nodeIds)},_=function(e,t){var r,n=t.searchTerm,o=e.editorStates,i=e.caseSensitiveSearch,a=e.wholeWordSearch,u=e.regexSearch,c=e.model.nodes;if(!n)return O(v({},e,{searchTerm:"",searchResults:void 0,selectedSearchResult:void 0}));try{r=x({searchTerm:n,regexSearch:u})}catch(g){return{searchTerm:n,searchResults:void 0,selectedSearchResult:void 0}}var l=new Map,s=!0,f=!1,d=void 0;try{for(var p,y=c[Symbol.iterator]();!(s=(p=y.next()).done);s=!0){var h=p.value.id,m=o.get(h);if(m){var b=k({searchTerm:r,editorState:m,caseSensitiveSearch:i,wholeWordSearch:a});b&&l.set(h,b)}}}catch(w){f=!0,d=w}finally{try{s||null==y.return||y.return()}finally{if(f)throw d}}return O(v({},e,{searchTerm:n,searchResults:l}))};function P(e,t){if(e.searchResults&&t){var r=e.editorStates,n=e.transactions,o=!0,i=!1,u=void 0;try{for(var c,l=r[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var f,d=m(c.value,1)[0];r=(f=(0,s.N)({editorStates:r,transactions:n},{effects:[a.j5.of(t)]},d)).editorStates,n=f.transactions}}catch(p){i=!0,u=p}finally{try{o||null==l.return||l.return()}finally{if(i)throw u}}return{editorStates:r,transactions:n,selectedSearchResult:t}}}var A=function(e,t){return P(e,t.selectedSearchResult)};function I(e,t){var r,n,o=0,i=!0,a=!1,u=void 0;try{for(var c,l=e[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var s=m(c.value,2),f=s[0],d=s[1];if(t<o+d.length){r=f,n=t-o;break}o+=d.length}}catch(p){a=!0,u=p}finally{try{i||null==l.return||l.return()}finally{if(a)throw u}}return{nodeId:r,nodeResultIndex:n}}var E=function(e){var t=e.searchResults,r=e.selectedSearchResult;if(t&&r){var n=(0,u.n)(t),o=(0,u._)(t,r);return P(e,I(t,o<n-1?o+1:0))}},M=function(e){var t=e.searchResults,r=e.selectedSearchResult;if(t&&r){var n=(0,u.n)(t),o=(0,u._)(t,r);return P(e,I(t,o>0?o-1:n-1))}},T=function(){var e,t=(e=o().mark((function e(t,r,n){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.page.pane,null===(a=document.getElementById("find-pane-input"))||void 0===a||a.focus(),"find"!==i){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,Promise.resolve();case 7:n({type:"togglePane",pane:"find"});case 8:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){p(i,n,o,a,u,"next",e)}function u(e){p(i,n,o,a,u,"throw",e)}a(void 0)}))});return function(e,r,n){return t.apply(this,arguments)}}(),D=function(e,t){var r=t.initialSearchTerm;if(void 0!==r)return _(e,{type:"setSearchTerm",searchTerm:r})},F=function(e,t){var r=e.editorStates,n=e.transactions,o=e.searchResultsVisible,u="pane"in t&&("find"===t.pane&&!o);if(u!==o){var c=!0,l=!1,d=void 0;try{for(var p,y=r[Symbol.iterator]();!(c=(p=y.next()).done);c=!0){var h,b=m(p.value,1)[0];r=(h=(0,s.N)({editorStates:r,transactions:n},{effects:[a.K5.of(u)]},b)).editorStates,n=h.transactions}}catch(O){l=!0,d=O}finally{try{c||null==y.return||y.return()}finally{if(l)throw d}}}if("dismissPane"===t.type&&o){var g=e.selectedSearchResult,w=e.searchResults;if(!w||!g)return(0,f.VH)(e);var S=w.get(g.nodeId)[g.nodeResultIndex],x=S.pos,k=S.matchLength;return v({},(0,f.$c)(v({},e,{editorStates:r,transactions:n}),g.nodeId,i.jT.create([i.jT.range(x,x+k)])),{searchResultsVisible:u})}return{editorStates:r,transactions:n,searchResultsVisible:u}},R=function(e){return{findOptionsInputExpanded:!e.findOptionsInputExpanded}},$=function(e){return j(v({},e,{caseSensitiveSearch:!e.caseSensitiveSearch,regexSearch:!1}))},U=function(e){return j(v({},e,{wholeWordSearch:!e.wholeWordSearch,regexSearch:!1}))},V=function(e){return j(v({},e,{regexSearch:!e.regexSearch,caseSensitiveSearch:!1,wholeWordSearch:!1}))},L=function(e,t){return{replaceTerm:t.replaceTerm}},N=function(e){var t=e.editorStates,r=e.transactions,n=e.selectedSearchResult,o=e.searchResults,i=e.replaceTerm;if(n&&o){t=new Map(t);var a,u=n.nodeId,f=n.nodeResultIndex,d=o.get(u)[f],p=d.pos,y=d.matchLength,h=d.captureGroups;return e.regexSearch&&(i=(0,c.C)(i,h)),t=(a=(0,s.N)({editorStates:t,transactions:r},{changes:[{from:p,to:p+y,insert:i}]},u)).editorStates,r=a.transactions,(0,l.v)(v({},e,{editorStates:t,transactions:r}),[{type:"modify_node",new_node_value:t.get(u).doc.toString(),node_id:u}])}},B=function(e,t,r){var n=e.notebook,o=n.selectedSearchResult,i=n.searchResults;if(o&&i){var a=(0,u.n)(i);r({type:"showSuccessToast",message:"Replaced ".concat(a," ").concat(1===a?"occurrence":"occurrences")})}},q=function(e){var t=e.editorStates,r=e.transactions,n=e.selectedSearchResult,o=e.searchResults,i=e.replaceTerm;if(n&&o){t=new Map(t);var a=!0,u=!1,f=void 0;try{for(var d,p=o[Symbol.iterator]();!(a=(d=p.next()).done);a=!0){var y,h=m(d.value,2),b=h[0],g=h[1];t=(y=(0,s.N)({editorStates:t,transactions:r},{changes:g.map((function(t){var r=t.pos,n=t.matchLength,o=t.captureGroups,a=i;if(e.regexSearch)for(var u=0;u<o.length;u++)a=i=(0,c.C)(a,o);return{from:r,to:r+n,insert:a}}))},b)).editorStates,r=y.transactions}}catch(P){u=!0,f=P}finally{try{a||null==p.return||p.return()}finally{if(u)throw f}}var w=[],S=!0,x=!1,k=void 0;try{for(var O,j=Array.from(o.keys())[Symbol.iterator]();!(S=(O=j.next()).done);S=!0){var C=O.value,_=t.get(C).doc.toString();w.push({type:"modify_node",new_node_value:_,node_id:C})}}catch(P){x=!0,k=P}finally{try{S||null==j.return||j.return()}finally{if(x)throw k}}return(0,l.v)(v({},e,{editorStates:t,transactions:r}),w)}},z=function(e){return{replaceInputExpanded:!e.replaceInputExpanded}}},99223:function(e,t,r){r.d(t,{qg:function(){return h},Kt:function(){return v},Uo:function(){return m},MP:function(){return b},AG:function(){return g},Fq:function(){return S},TW:function(){return x},sc:function(){return k},wP:function(){return j},WZ:function(){return C},vJ:function(){return _},BP:function(){return P},Sx:function(){return A},q6:function(){return I},bO:function(){return E},v2:function(){return M},SU:function(){return T},zq:function(){return F},fV:function(){return R},S2:function(){return $},Qs:function(){return U},dZ:function(){return V}});var n=r(53582),o=r(96386),i=r(33042),a=r(95690),u=r(28100),c=r(6022),l=r(52054),s=r(47041);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){d(e,t,r[t])}))}return e}function y(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var h=function(e){var t;if(null===e.selectionFocusId){var r=e.model.nodes[0].id;t={selectionFocusId:r,focusState:(0,s.mX)(e.focusStack,r)}}var n=p({selection:new Set(e.model.nodes.map((function(e){return e.id})))},t);return p({},n,(0,s.N5)(p({},e,n)))},v=function(e,t){var r=t.add,n=e.selectionFocusId;if(null!==n){var o=(0,i.$g)(e.model,n);if(o>=e.model.nodes.length-1)return;n=e.model.nodes[o+1].id}else n=e.focusStack.length?e.focusStack[e.focusStack.length-1]:e.model.nodes[0].id;return O(e,n,r)},m=function(e,t){var r=t.add,n=e.selectionFocusId;if(null!==n){var o=(0,i.$g)(e.model,n);if(o<=0)return;n=e.model.nodes[o-1].id}else n=e.focusStack.length?e.focusStack[e.focusStack.length-1]:e.model.nodes[e.model.nodes.length-1].id;return O(e,n,r)},b=function(e){return w(e,!0)},g=function(e){return w(e)};function w(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.selection,n=e.selectionFocusId,a=e.model.nodes;if(null!==n){var u=(t?o.BY:o._n)(a),c=Array.from((0,o.mD)((0,i.DY)(e.model,n),u),(function(e){return e.id}));return{selection:new Set([n].concat(y(r),y(c)))}}}var S=function(e){var t=e.focusId,r=e.selection,n=e.selectionFocusId;return null!==t?O(e,t):r.size>0?{selection:new Set}:null!==n?{selectionFocusId:null}:void 0},x=function(){return{selection:new Set,selectionFocusId:null}},k=function(e){var t=e.focusId;if(null!==t){var r={selectionFocusId:null,selection:new Set([t]),focusId:null};return p({},r,(0,s.N5)(p({},e,r)))}};function O(e,t,r){if(e.selectionFocusId!==t){var n={selectionFocusId:t,selection:r&&null!==e.selectionFocusId?new Set(e.selection).add(e.selectionFocusId).add(t):e.selection,focusStack:(0,s.mX)(e.focusStack,t)};return p({},n,(0,s.N5)(p({},e,n)))}}var j=function(e){if(null!==e.selectionFocusId)return(0,s.Aq)(e,e.selectionFocusId)},C=function(e){var t=e.selection,r=e.selectionFocusId;if(null!==r)return(t=new Set(t)).has(r)?t.delete(r):t.add(r),{selection:t}},_=function(e,t){var r=e.selection,n=t.id;return(r=new Set(r)).has(n)?r.delete(n):r.add(n),{selection:r}},P=function(e){var t=y(V(e)),r=t.filter((function(t){return!(0,i.DY)(e.model,t).pinned}));return(0,a.v)(e,r.length?r.map((function(e){return{type:"pin_node",node_id:e}})):t.map((function(e){return{type:"unpin_node",node_id:e}})))},A=function(e){var t=Array.from(V(e),(function(e){return{type:"remove_node",node_id:e}}));if(t.length<e.model.nodes.length)return(0,a.v)(e,t);var r=t.pop().node_id;return t.push({type:"modify_node",node_id:r,new_node_value:""}),p({},(0,a.v)(p({},e,(0,u.N)(e,{changes:{from:0,to:e.editorStates.get(r).doc.length,insert:""}},r)),t),{focusId:r,focusStack:[r],selection:new Set,selectionFocusId:null})},I=function(e,t){var r=t.before,n=V(e),o=[],u=new Set,c=null,l=!0,f=!1,d=void 0;try{for(var y,h=n[Symbol.iterator]();!(l=(y=h.next()).done);l=!0){var v=y.value,m=(0,i.DY)(e.model,v),b=e.model.events.length+o.length;o.push({type:"insert_node",new_next_node_id:r?v:(0,i.o4)(e.model,v),new_node_value:e.editorStates.get(v).doc.toString(),new_node_pinned:m.pinned,new_node_mode:m.mode,new_node_data:m.data,new_node_name:m.name}),v===e.selectionFocusId&&(c=b),e.selection.has(v)&&u.add(b)}}catch(g){f=!0,d=g}finally{try{l||null==h.return||h.return()}finally{if(f)throw d}}return p({},(0,a.v)(e,o),{selection:u,selectionFocusId:c,focusStack:(0,s.mX)(e.focusStack,c)})},E=function(e){for(var t=new Set(V(e)),r=(0,a.v)(e,Array.from(t,(function(t){return{type:"modify_node",node_id:t,new_node_value:e.editorStates.get(t).doc.toString()}}))),o=e.model.history.length,u=r.model.history.length;o<u;++o)t.delete(r.model.history[o].node_id);if(!t.size)return r;var c=new n.Z(r.model);c.history=r.model.history.slice();var l=!0,s=!1,f=void 0;try{for(var d,y=t[Symbol.iterator]();!(l=(d=y.next()).done);l=!0){var h=d.value;c.history.push({type:"modify_node",node_id:h,new_node_value:(0,i.DY)(c,h).value})}}catch(v){s=!0,f=v}finally{try{l||null==y.return||y.return()}finally{if(s)throw f}}return p({},r,{model:c})},M=function(e){if(null!==e.selectionFocusId)return(0,c.hz)(e,{nodeId:e.selectionFocusId})},T=function(e,t){var r=t.before,n=t.inherit,o=e.model,u=e.selectionFocusId;if(null!==u){var c=n?(0,i.DY)(o,u):null,l=(0,a.v)(e,[{type:"insert_node",new_next_node_id:r?u:(0,i.o4)(o,u),new_node_value:"",new_node_pinned:!c||c.pinned,new_node_mode:c?c.mode:"js",new_node_data:c?c.data:null,new_node_name:""===(null===c||void 0===c?void 0:c.name)?c.name:null}]);return p({},l,(0,s.Aq)(p({},e,l),o.events.length))}};function D(e,t){for(var r=[],n=V(e),o=e.model.nodes,i=o.length-1;i>=0;--i){var u=o[i].id;n.has(u)&&(r.push({type:"move_node",node_id:u,new_next_node_id:t}),t=u)}return(0,l.Sf)(e,(0,a.v)(e,r),e.selectionFocusId)}var F=function(e){for(var t=V(e),r=e.model.nodes,n=null,o=r.length-1;o>=0;--o)if(t.has(r[o].id)){n=o<r.length-2?r[o+2].id:null;break}return D(e,n)},R=function(e){var t=V(e),r=e.model.nodes,n=null;if(t.has(r[0].id)){for(var o=1;o<r.length;++o)if(!t.has(r[o].id)){n=r[o].id;break}}else for(var i=1;i<r.length;++i)if(t.has(r[i].id)){n=r[i-1].id;break}return D(e,n)},$=function(e,t){var r=e.notebook,n=t.clipboardData,o=V(r),i=[],a=[],u=!0,c=!1,l=void 0;try{for(var s,f=r.model.nodes[Symbol.iterator]();!(u=(s=f.next()).done);u=!0){var d=s.value;o.has(d.id)&&(i.push(d),a.push(r.editorStates.get(d.id).doc.toString()))}}catch(p){c=!0,l=p}finally{try{u||null==f.return||f.return()}finally{if(c)throw l}}n.setData("text/plain",a.join("\n\n")),n.setData("application/vnd.observablehq+json",JSON.stringify(i))},U=function(e,t){var r,n=t.nodes,o=null!==(r=e.selectionFocusId)&&void 0!==r?r:e.model.nodes[0].id,i=[],u=new Set,c=null,l=!0,f=!1,d=void 0;try{for(var y,h=n[Symbol.iterator]();!(l=(y=h.next()).done);l=!0){var v=y.value,m=e.model.events.length+i.length;i.push({type:"insert_node",new_next_node_id:o,new_node_value:v.value,new_node_pinned:v.pinned,new_node_mode:v.mode,new_node_data:v.data,new_node_name:v.name}),null===c&&(c=m),u.add(m)}}catch(b){f=!0,d=b}finally{try{l||null==h.return||h.return()}finally{if(f)throw d}}return p({},(0,a.v)(e,i),{selection:u,selectionFocusId:c,focusStack:(0,s.mX)(e.focusStack,c)})};function V(e){var t=e.selection,r=e.selectionFocusId;return t.size||null===r?t:new Set([r])}},99494:function(e,t,r){r.d(t,{I8:function(){return c},ns:function(){return l},eY:function(){return s},d1:function(){return f},S2:function(){return d},eN:function(){return p}});var n=r(19671),o=r(28100),i=r(48453);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){a(e,t,r[t])}))}return e}var c=function(e,t){var r=t.apply,n=t.mode,a=t.label,c=t.afterId;void 0===c&&(c=null!==e.focusId?e.focusId:e.model.nodes[e.model.nodes.length-1].id);var l,s=(0,i.$T)({notebook:e,mode:n,id:c,before:!1}),f=u({},e,s),d=f.focusId;return r({dispatch:function(e){return l=e},state:f.editorStates.get(d)},{label:a},0,0),u({},s,(0,o.N)(f,l,d))},l=function(e,t){var r=e.notebook,o=e.currentUser,i=t.label;(0,n.MR)((0,n.ym)({type:"notebook:manage:insertSnippet",data:{label:i},eventVersion:1,notebook:r,currentUser:o}))},s=function(e,t){var r=e.notebook,o=e.currentUser,i=t.id,a=t.source;(0,n.MR)((0,n.ym)({type:"notebook:cells:manage:acceptSnippet",data:{cellIds:[i],source:a},eventVersion:1,notebook:r,currentUser:o}))},f=function(e,t){var r=e.notebook,o=e.currentUser,i=t.id,a=t.trigger,u=t.source;(0,n.MR)((0,n.ym)({type:"notebook:cells:manage:requestSnippets",data:{cellIds:[i],trigger:a,source:u},eventVersion:1,notebook:r,currentUser:o}))},d=function(e,t){var r=e.notebook,o=e.currentUser,i=t.topic;(0,n.MR)((0,n.ym)({type:"notebook:view:snippetsDocsViewed",data:{topic:i},eventVersion:2,notebook:r,currentUser:o}))},p=function(e,t){var r=e.notebook,o=e.currentUser,i=t.query;(0,n.MR)((0,n.ym)({type:"notebook:view:snippetsFiltered",data:{query:i},eventVersion:1,notebook:r,currentUser:o}))}},3361:function(e,t,r){r.d(t,{M:function(){return c},Q:function(){return l}});var n=r(34051),o=r.n(n),i=r(602),a=r(27193);function u(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(l){return void r(l)}u.done?t(c):Promise.resolve(c).then(n,o)}var c=function(){var e,t=(e=o().mark((function e(t,r,n){var u,c,l,s,f,d,p,y;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=t.notebook,c=u.id,l=u.model,s=r.status,f=r.trigger,d=r.source,p="comments"===s,e.prev=2,e.next=5,(0,i.Fv)("/document/".concat(c,"/subscribe"),{status:s});case 5:y=e.sent,f&&n({type:"showSuccessToast",message:p?'You will now receive emails for comments on "'.concat((0,a.Ui)(l),'".'):'You will no longer receive emails for comments on "'.concat((0,a.Ui)(l),'".')}),n({type:"updateSubscriptionSucceeded",status:y.status,trigger:f,source:d}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),f&&n({type:"showErrorToast",message:"Oops, subscribing to the notebook comments failed. Try again?",key:"updateSubscription"});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){u(i,n,o,a,c,"next",e)}function c(e){u(i,n,o,a,c,"throw",e)}a(void 0)}))});return function(e,r,n){return t.apply(this,arguments)}}(),l=function(e,t){return{subscriptionState:t.status}}},8740:function(e,t,r){r.d(t,{$b:function(){return d},ky:function(){return p},BO:function(){return y},nK:function(){return h},ls:function(){return v},Hh:function(){return m},gd:function(){return b},G6:function(){return g},PZ:function(){return w}});var n=r(34051),o=r.n(n),i=r(602),a=r(88725),u=r(11163);function c(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(l){return void r(l)}u.done?t(c):Promise.resolve(c).then(n,o)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){c(i,n,o,a,u,"next",e)}function u(e){c(i,n,o,a,u,"throw",e)}a(void 0)}))}}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){s(e,t,r[t])}))}return e}var d=function(){return{isClosingSuggestion:!0}},p=function(){return{isClosingSuggestion:!1}},y=function(e,t){return{isClosingSuggestion:!1,suggestionFrom:t.suggestion}},h=function(){var e=l(o().mark((function e(t,r,n){var a,u,c,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.notebook,u=t.currentUser,c=r.source,l=r.trigger,n({type:"showProcessingToast",message:"Closing suggestion",key:"closeSuggestion"}),e.prev=2,e.next=5,(0,i.Fv)("/suggestion/".concat(a.suggestionFrom.id,"/close"));case 5:n({type:"closeSuggestionSucceeded",suggestion:f({},a.suggestionFrom,{closer:u,close_time:new Date}),source:c,trigger:l}),n({type:"showSuccessToast",message:"Suggestion closed",key:"closeSuggestion"}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),n({type:"closeSuggestionFailed"}),n({type:"showErrorToast",message:"Oops, closing the suggestion failed. Try again?",key:"closeSuggestion"});case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,r,n){return e.apply(this,arguments)}}(),v=function(){return{isSuggesting:!0}},m=function(){return{isSuggesting:!1}},b=function(){var e=l(o().mark((function e(t,r,n){var c,l,s,f,d,p,y,h,v,m,b;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.notebook,l=r.description,s=r.trigger,f=r.source,d=c.id,p=c.forkOf.id,y={id:c.id,owner:c.owner},h={id:c.forkOf.id,owner:c.forkOf.owner},e.prev=5,v={to_id:p,from_title:c.model.title,version:c.model.version,description:l},e.next=9,(0,i.Fv)("/document/".concat(d,"/suggest"),v);case 9:m=e.sent,n({type:"sendSuggestionSucceeded",base:y,target:h,trigger:s,source:f}),(b=(0,a.yY)(m))!==location.pathname?u.default.push(b):u.default.reload(),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(5),n({type:"sendSuggestionFailed",base:y,target:h,trigger:s,source:f}),n({type:"showErrorToast",message:"Oops, suggesting failed. Try again?"});case 19:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(t,r,n){return e.apply(this,arguments)}}(),g=function(){var e=l(o().mark((function e(t,r,n){var a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.notebook,e.prev=1,e.next=4,(0,i.Fv)("/suggestion/".concat(a.suggestionFrom.id,"/close-acknowledge"));case 4:u=e.sent,n({type:"suggestionFromUpdated",updatedSuggestionFrom:u}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),n({type:"showErrorToast",message:"Oops, acknowledging the suggestion was closed failed. Try again?"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,r,n){return e.apply(this,arguments)}}(),w=function(e,t){return{suggestionFrom:t.updatedSuggestionFrom}}},95690:function(e,t,r){r.d(t,{v:function(){return p}});var n=r(6917),o=r(1864),i=r(30883),a=r(33042),u=r(52054),c=r(28100),l=r(39978),s=r(83839),f=r(93536);function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){if(t.some((function(e){return"revert"===e.type})))throw new Error("Revert could not be processed.");var r=[],p=new Set,y=new Set,h=new Set,v=e.model.apply(t,(function(e){(0,l.v)(e,r),(0,l.O)(e,{inserts:p,removes:y,modes:h})}));if(!r.length)return{model:e.model,transactions:e.transactions,editorStates:e.editorStates};v.history=e.model.history.concat(r);var m=v.events.slice(e.model.version+1).filter((function(e){return"modify_node"===e.type||"mode_node"===e.type}));if(!p.size&&!y.size&&!h.size&&!m.length)return{model:v,transactions:e.transactions,editorStates:e.editorStates};var b,g=e.transactions,w=new Map(e.editorStates),S=new Map,x=e.editorStates.get(e.model.nodes[0].id).field(i.i),k=!0,O=!1,j=void 0;try{for(var C,_=p[Symbol.iterator]();!(k=(C=_.next()).done);k=!0){var P=C.value,A=(0,a.DY)(v,P);A&&w.set(P,(0,u.l8)(A,x,e.files,e.owner))}}catch(le){O=!0,j=le}finally{try{k||null==_.return||_.return()}finally{if(O)throw j}}var I=!0,E=!1,M=void 0;try{for(var T,D=y[Symbol.iterator]();!(I=(T=D.next()).done);I=!0){var F=T.value;w.delete(F),S.set(F,null),e.databaseResults.has(F)&&(b||(b=new Map(e.databaseResults)),b.delete(F))}}catch(le){E=!0,M=le}finally{try{I||null==D.return||D.return()}finally{if(E)throw M}}var R=new Set,$=!0,U=!1,V=void 0;try{for(var L,N=m[Symbol.iterator]();!($=(L=N.next()).done);$=!0){var B=L.value,q=B.node_id,z=B.new_node_value;if(R.add(q),w.has(q)){var Z,H=w.get(q);g=(Z=(0,c.N)({transactions:g,editorStates:w},(0,n.rN)(H,z),q)).transactions,w=Z.editorStates}}}catch(le){U=!0,V=le}finally{try{$||null==N.return||N.return()}finally{if(U)throw V}}if(e.model.nodes!==v.nodes){var Y,W=!0,X=!1,J=void 0;try{for(var G,Q=v.nodes[Symbol.iterator]();!(W=(G=Q.next()).done);W=!0){var K,ee=G.value;if(p.has(ee.id)||R.has(ee.id))w=(K=(0,s.Nv)({editorStates:w,transactions:g},ee)).editorStates,g=K.transactions}}catch(le){X=!0,J=le}finally{try{W||null==Q.return||Q.return()}finally{if(X)throw J}}w=(Y=(0,s.Cv)({editorStates:w,transactions:g},v.nodes)).editorStates,g=Y.transactions}var te=!0,re=!1,ne=void 0;try{for(var oe,ie=h[Symbol.iterator]();!(te=(oe=ie.next()).done);te=!0){var ae,ue=oe.value,ce=(0,a.DY)(v,ue);if(ce)g=(ae=(0,c.N)({transactions:g,editorStates:w},{effects:o.g.of(ce)},ue)).transactions,w=ae.editorStates}}catch(le){re=!0,ne=le}finally{try{te||null==ie.return||ie.return()}finally{if(re)throw ne}}return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){d(e,t,r[t])}))}return e}({model:v,editorStates:w,transactions:g},b?{databaseResults:b}:null,(0,f.a)(e,S))}},28100:function(e,t,r){r.d(t,{N:function(){return i}});var n=r(78120);function o(e,t){return null!=t&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t}function i(e,t,r){var i=e.editorStates,a=e.transactions,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r;void 0!==a&&0!==a.length||(a=[],i=new Map(i));var c=o(t,n.YW)?t:i.get(r).update(t);return i.set(u,c.state),a.push(c),{editorStates:i,transactions:a}}},39978:function(e,t,r){function n(e,t){"noop"!==e.type&&t.push(e)}function o(e,t){var r=t.inserts,n=t.removes,o=t.modes;switch(e.type){case"insert_node":r.add(e.node_id),n.delete(e.node_id);break;case"remove_node":r.delete(e.node_id),o.delete(e.node_id),n.add(e.node_id);break;case"mode_node":o.add(e.node_id)}}r.d(t,{v:function(){return n},O:function(){return o}})},83839:function(e,t,r){r.d(t,{Nv:function(){return p},Cv:function(){return y},e3:function(){return h}});var n=r(78120),o=r(6917),i=r(18680),a=r(72760),u=r(28100);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){l(e,t,r[t])}))}return e}function f(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){var r=e.editorStates,c=e.transactions;if("table"===t.mode)return{editorStates:r,transactions:c||[]};var l,d=(0,a.Qc)(t).references,p=r.get(t.id),y=p.toText(t.value),h=(0,o.hp)(p).reduce((function(e,t){return e.compose(t.changes)}),n.as.empty(y.length)),v=d.map((function(e){var t=e.start,r=e.end,n=e.id,o=f(e,["start","end","id"]);return s({start:h.mapPos(t,1),end:h.mapPos(r,-1)},n?{id:s({},n,{start:h.mapPos(n.start,1),end:h.mapPos(n.end,1)})}:{},o)}));return c=(l=(0,u.N)({transactions:c,editorStates:r},{effects:[i.RK.of(v)]},t.id)).transactions,{editorStates:r=l.editorStates,transactions:c}}function y(e,t){var r=e.editorStates,n=e.transactions,o=h(t),a=!0,c=!1,l=void 0;try{for(var s,f=r[Symbol.iterator]();!(a=(s=f.next()).done);a=!0){var p,y=d(s.value,1)[0];n=(p=(0,u.N)({transactions:n,editorStates:r},{effects:[i.Px.of(o)]},y)).transactions,r=p.editorStates}}catch(v){c=!0,l=v}finally{try{a||null==f.return||f.return()}finally{if(c)throw l}}return{editorStates:r,transactions:n}}function h(e){return new Set(e.flatMap(a.WN))}},93536:function(e,t,r){function n(e,t){var r,n=e.hoverId,o=e.focusStack,i=e.focusId,a=e.dragId,u=e.dropId,c=e.selectionFocusId,l=e.selection,s={};o.some((function(e){return t.has(e)}))&&(s.focusStack=o.filter((function(e){return null!==t.get(e)})).map((function(e){return null!==(r=t.get(e))&&void 0!==r?r:e})));var f=!0,d=!1,p=void 0;try{for(var y,h=l[Symbol.iterator]();!(f=(y=h.next()).done);f=!0){var v=y.value;if(t.has(v)){var m=t.get(v);s.selection||(s.selection=new Set(l)),s.selection.delete(v),null!==m&&s.selection.add(m)}}}catch(g){d=!0,p=g}finally{try{f||null==h.return||h.return()}finally{if(d)throw p}}if(null!==n&&t.has(n)&&(s.hoverId=t.get(n)),null!==i&&t.has(i)&&(s.focusId=t.get(i)),null!==c&&t.has(c)&&(s.selectionFocusId=t.get(c)),null!==a&&t.has(a)&&(s.dragId=t.get(a)),null===s.dragId)s.dropId=void 0;else if(void 0!==u&&null!==u&&t.has(u)){var b=t.get(u);s.dropId=null===b?void 0:b}return s}r.d(t,{a:function(){return n}})},31788:function(e,t,r){r.d(t,{R:function(){return l}});var n=r(53582),o=r(52054);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){a(e,t,r[t])}))}return e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){var r=t.body,i=t.editUnpublished,a=t.currentUser,l=e.model,s=n.Z.of(r),f=c(l.patch(s,l.nodes.concat(s.nodes).map((function(e){var t=e.id;return[t,t]}))),1)[0];return s.history=new Array(l.history.length).concat(f),{model:s,editorStates:(0,o.AV)(u({},e,{model:s}),a),saveVersion:r.version,saveSubversion:0,editUnpublished:i,focusId:null,focusStack:[],dragId:null,dropId:void 0,hoverId:null}}},94677:function(e,t,r){r.d(t,{D:function(){return rt},$:function(){return nt}});var n=r(88725),o=r(66421),i=r(21571),a=r(6025),u=r(78120),c=r(730),l=r(27193),s=r(25655),f=r(28100);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){for(var r=new Map,n=0;n<t.length;n++)for(var o=t[n],i=o.node_ids,a=o.selections,d=o.avatar_url,y=0;y<i.length;y++){var h=i[y],v=a[y];if(null!==h&&v){if(r.has(h)||r.set(h,[]),(0,s.kG)(h,e))continue;var m=e.editorStates.get(h);if(m){var b=m.doc.length,g=!0,w=!1,S=void 0;try{for(var x,k=v.ranges[Symbol.iterator]();!(g=(x=k.next()).done);g=!0){var O=x.value;O.head>b&&(O.head=b),O.anchor>b&&(O.anchor=b)}}catch(W){w=!0,S=W}finally{try{g||null==k.return||k.return()}finally{if(w)throw S}}}r.get(h).push(c._O.of({selection:u.jT.fromJSON(v),avatar:d,name:(0,l.KY)(t[n]),order:n}))}}var j=!0,C=!1,_=void 0;try{for(var P,A=e.participants[Symbol.iterator]();!(j=(P=A.next()).done);j=!0){var I=P.value.node_ids,E=!0,M=!1,T=void 0;try{for(var D,F=I[Symbol.iterator]();!(E=(D=F.next()).done);E=!0){var R=D.value;null===R||r.has(R)||r.set(R,[c._O.of(null)])}}catch(W){M=!0,T=W}finally{try{E||null==F.return||F.return()}finally{if(M)throw T}}}}catch(W){C=!0,_=W}finally{try{j||null==A.return||A.return()}finally{if(C)throw _}}var $=e.editorStates,U=e.transactions,V=!0,L=!1,N=void 0;try{for(var B,q=r[Symbol.iterator]();!(V=(B=q.next()).done);V=!0){var z,Z=p(B.value,2),H=Z[0],Y=Z[1];if($.has(H))U=(z=(0,f.N)({transactions:U,editorStates:$},{effects:Y},H)).transactions,$=z.editorStates}}catch(W){L=!0,N=W}finally{try{V||null==q.return||q.return()}finally{if(L)throw N}}return{participants:t,transactions:U,editorStates:$}}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){h(e,t,r[t])}))}return e}var m=r(21312),b=r(60066),g=r(6022),w=r(21684),S=r(30883),x=r(50826);function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var j=r(47977);function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var P=r(67220),A=r(95690);function I(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var E=r(33042),M=r(47041);function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){T(e,t,r[t])}))}return e}var F=r(52054),R=r(91460);function $(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U(e,t,r,n){var o=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){$(e,t,r[t])}))}return e}({editor:0,worker:0,comments:0,table:0,total:0},e.get(r));return o.total+=n-o[t],0===o.total?e.delete(r):(o[t]=n,e.set(r,o)),e}var V=r(3729),L=r(91398);function N(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){N(e,t,r[t])}))}return e}var q=function(e,t){var r,n,o,i,a,c=t.beforeId,l=t.afterId,s=e.editorStates.get(c),d=e.editorStates.get(l),p=s.doc.toString(),y=d.doc.toString();p.length<y.length?(r=c,n=l,o=i=0,a=p):(r=l,n=c,o=i=p.length,a=y);var h=(0,f.N)(e,{changes:{from:o,to:i,insert:a}},n),v=h.transactions,m=h.editorStates,b=(0,A.v)(B({},e,{transactions:v,editorStates:m}),[{type:"remove_node",node_id:r},{type:"modify_node",node_id:n,new_node_value:m.get(n).doc.toString()}]),g={selection:u.jT.single(p.length)},w=(0,f.N)(b,g,n);return B({},b,w,(0,M.Aq)(B({},e,b,w),n))},z=r(48453),Z=r(51133),H=r(6917),Y=r(53582),W=r(1864),X=r(58489),J=r(39978),G=r(83839),Q=r(93536);function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ee(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return K(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){if(t.some((function(e){return"revert"===e.type})))throw new Error("Revert could not be processed.");var r=[],n=new Set,o=new Set,i=new Set,a=te(e.model.merge(t,(function(e){(0,J.v)(e,r),(0,J.O)(e,{inserts:n,removes:o,modes:i})})),2),u=a[0],l=a[1];u===e.model&&(u=new Y.Z(u)),u.history=e.model.history.concat(r);var s=t.filter((function(e){return"modify_node"===e.type||"mode_node"===e.type})),d=(0,F.GD)(s);if(!l.size&&!n.size&&!o.size&&!i.size&&!d.size)return{model:u,editorStates:e.editorStates,transactions:e.transactions};var p=e.transactions,y=e.files,h=new Map(e.editorStates),v=new Map(l),m=e.editorStates.get(e.model.nodes[0].id).field(S.i),b=!0,g=!1,w=void 0;try{for(var x,k=l[Symbol.iterator]();!(b=(x=k.next()).done);b=!0){var O=te(x.value,2),j=O[0],C=O[1];if(!o.has(C)){n.delete(C);var _,P={effects:[c._O.of(null),X.y.of(C)]};p=(_=(0,f.N)({transactions:p,editorStates:h},P,j,C)).transactions,h=_.editorStates}}}catch(Ne){g=!0,w=Ne}finally{try{b||null==k.return||k.return()}finally{if(g)throw w}}var A,I=!0,M=!1,T=void 0;try{for(var D,R=n[Symbol.iterator]();!(I=(D=R.next()).done);I=!0){var $=D.value,U=(0,E.DY)(u,$);U&&(h.set($,(0,F.l8)(U,m,y,e.owner)),d.delete($))}}catch(Ne){M=!0,T=Ne}finally{try{I||null==R.return||R.return()}finally{if(M)throw T}}var V=!0,L=!1,N=void 0;try{for(var B,q=o[Symbol.iterator]();!(V=(B=q.next()).done);V=!0){var z=B.value;h.delete(z),l.has(z)||v.set(z,null),d.delete(z),e.databaseResults.has(z)&&(A||(A=new Map(e.databaseResults)),A.delete(z))}}catch(Ne){L=!0,N=Ne}finally{try{V||null==q.return||q.return()}finally{if(L)throw N}}var Z=u.events.slice(t[t.length-1].version+1).filter((function(e){return"modify_node"===e.type||"mode_node"===e.type})),K=(0,F.GD)(Z),re=!0,ne=!1,oe=void 0;try{for(var ie,ae=h[Symbol.iterator]();!(re=(ie=ae.next()).done);re=!0){var ue,ce=te(ie.value,2),le=ce[0],se=ce[1],fe=(0,H.VL)(se),de=K.get(le)||[],pe=fe.length-de.length;if(pe>0)p=(ue=(0,f.N)({transactions:p,editorStates:h},(0,H.r)(se,fe.slice(0,pe)),le)).transactions,h=ue.editorStates}}catch(Ne){ne=!0,oe=Ne}finally{try{re||null==ae.return||ae.return()}finally{if(ne)throw oe}}var ye=!0,he=!1,ve=void 0;try{for(var me,be=d[Symbol.iterator]();!(ye=(me=be.next()).done);ye=!0){var ge,we=te(me.value,2),Se=we[0],xe=we[1],ke=h.get(Se),Oe=xe.map((function(e){return e.new_node_value}));p=(ge=(0,f.N)({transactions:p,editorStates:h},(0,H.cK)(ke,Oe),Se)).transactions,h=ge.editorStates}}catch(Ne){he=!0,ve=Ne}finally{try{ye||null==be.return||be.return()}finally{if(he)throw ve}}if(e.model.nodes!==u.nodes){var je,Ce=!0,_e=!1,Pe=void 0;try{for(var Ae,Ie=u.nodes[Symbol.iterator]();!(Ce=(Ae=Ie.next()).done);Ce=!0){var Ee,Me=Ae.value;if(n.has(Me.id)||d.has(Me.id))h=(Ee=(0,G.Nv)({editorStates:h,transactions:p},Me)).editorStates,p=Ee.transactions}}catch(Ne){_e=!0,Pe=Ne}finally{try{Ce||null==Ie.return||Ie.return()}finally{if(_e)throw Pe}}h=(je=(0,G.Cv)({editorStates:h,transactions:p},u.nodes)).editorStates,p=je.transactions}var Te=!0,De=!1,Fe=void 0;try{for(var Re,$e=i[Symbol.iterator]();!(Te=(Re=$e.next()).done);Te=!0){var Ue,Ve=Re.value,Le=(0,E.DY)(u,Ve);if(Le)p=(Ue=(0,f.N)({transactions:p,editorStates:h},{effects:W.g.of(Le)},Ve)).transactions,h=Ue.editorStates}}catch(Ne){De=!0,Fe=Ne}finally{try{Te||null==$e.return||$e.return()}finally{if(De)throw Fe}}return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){ee(e,t,r[t])}))}return e}({model:u,editorStates:h},A?{databaseResults:A}:null,{transactions:p},(0,Q.a)(e,v))}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){oe(e,t,r[t])}))}return e}function ae(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ne(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ne(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){return!(0,s.ws)(e)&&!1===e.editUnpublished&&t.some((function(e){return"noop"!==e.type}))?{editUnpublished:!0}:void 0}var le=r(38559),se=r(99223);function fe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function de(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){fe(e,t,r[t])}))}return e}function pe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){pe(e,t,r[t])}))}return e}var he=r(53261);function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function me(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){me(e,t,r[t])}))}return e}function ge(e){return function(e){if(Array.isArray(e))return ve(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return ve(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ve(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var we=r(59119);function Se(e,t){var r=(0,we.qz)(e);if("Cell"===r.topNode.type.name&&r.topNode.firstChild&&["NamedBlockCell","NamedExpressionCell","NamedClassCell","NamedFunctionCell"].includes(r.topNode.firstChild.type.name)){var n=r.topNode.firstChild.getChild("VariableDefinition");if(n)return n;var o=r.topNode.firstChild.getChild("QualifiedVariableDefinition");if(o)return t?o:o.getChild("VariableDefinition")}return null}function xe(e){var t=(0,we.qz)(e);if("Cell"===t.topNode.type.name&&t.topNode.firstChild&&["NamedBlockCell","NamedExpressionCell"].includes(t.topNode.firstChild.type.name)){var r=t.topNode.firstChild.getChild("Equals");if(null===r||void 0===r?void 0:r.nextSibling)return r.nextSibling}return null}function ke(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){ke(e,t,r[t])}))}return e}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ce(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _e(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Ce(e,t,r[t])}))}return e}function Pe(e){return function(e){if(Array.isArray(e))return je(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return je(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return je(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ae(e,t,r){var n=r.editorStates.get(e.id).doc.toString();return(0,A.v)(r,Pe(e.value!==n?[{type:"modify_node",node_id:e.id,new_node_value:n}]:[]).concat([{type:"modify_name",node_id:e.id,new_node_name:t}]))}function Ie(e,t,r){var n=function(e,t,r){var n=r.editorStates,o=r.transactions,i=n.get(e.id),a=Se(i,!1);if(a){var u=t?null:xe(i),c=null===u?a.to:u.from;return(0,f.N)({editorStates:n,transactions:o},{changes:{from:a.from,to:c,insert:t}},e.id)}if(t)return(0,f.N)({editorStates:n,transactions:o},{changes:{from:0,to:0,insert:"".concat(t," = ")}},e.id);return{editorStates:n,transactions:o}}(e,t,r);return _e({},n,(0,A.v)(_e({},r,n),[{type:"modify_node",node_id:e.id,new_node_value:n.editorStates.get(e.id).doc.toString()}]))}var Ee=r(99494);function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Te(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function De(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Te(e,t,r[t])}))}return e}function Fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||$e(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Re(e){return function(e){if(Array.isArray(e))return Me(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||$e(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $e(e,t){if(e){if("string"===typeof e)return Me(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Me(e,t):void 0}}function Ue(e,t){var r,n=t.id,o=t.before,i=e.editorStates.get(n),a=i.selection.ranges,c=i.doc,l=[],s=!0,d=!1,p=void 0;try{for(var y,h=a[Symbol.iterator]();!(s=(y=h.next()).done);s=!0){var v=y.value,m=v.from,b=v.to;l.push([m,b])}}catch(re){d=!0,p=re}finally{try{s||null==h.return||h.return()}finally{if(d)throw p}}var g=[],w=0,S=!0,x=!1,k=void 0;try{for(var O,j=a[Symbol.iterator]();!(S=(O=j.next()).done);S=!0){var C=O.value,_=C.from,P=C.to;g.push([w,_]),w=P}}catch(re){x=!0,k=re}finally{try{S||null==j.return||j.return()}finally{if(x)throw k}}g.push([w,c.length]);for(var I=g.length-1-+!o;I>=+o;--I){var T,D=g[I];/^\s*$/.test((T=c).sliceString.apply(T,Re(D)))&&(l.push(D),g.splice(I,1))}for(var F=0,R=-1,$=0;$<g.length;++$){var U=g[$][1]-g[$][0];U>R&&(R=U,F=$)}for(var V=0;V<g.length;++V)V!==F&&l.push(g[V]);for(var L=g.map((function(e){return(r=c).sliceString.apply(r,Re(e))})),N=(0,E.DY)(e.model,n),B=N.pinned,q=N.mode,z=N.data,Z=(0,E.o4)(e.model,n),H=[],Y=n,W=0;W<L.length;++W)if(W!==F){var X=e.model.version+H.push({type:"insert_node",new_next_node_id:W<F?n:Z,new_node_value:L[W],new_node_pinned:B,new_node_mode:q,new_node_data:z,new_node_name:"js"===q?null:""});(o&&0===W||!o&&W===L.length-1)&&(Y=X)}var J={changes:l.map((function(e){var t=Fe(e,2);return{from:t[0],to:t[1]}}))},G=(0,f.N)(e,J,n),Q=G.transactions,K=G.editorStates;H.push({type:"modify_node",node_id:n,new_node_value:L[F]});var ee=(0,A.v)(De({},e,{transactions:Q,editorStates:K}),H),te=(0,f.N)(ee,{selection:u.jT.single(o?ee.editorStates.get(Y).doc.length:0)},Y);return De({},ee,te,(0,M.Aq)(De({},e,ee,te),Y))}var Ve=r(3361),Le=r(8740);function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ne(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ne(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var qe=r(48373),ze=r(58671),Ze=r(72760);function He(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){He(e,t,r[t])}))}return e}function We(e,t,r){return"RuntimeError"===r.name?function(e,t,r){var n=e.model,o=(0,E.DY)(n,t),i=r.input;if(!i)return{id:t,message:r.message,position:0};var a=(0,Ze.Qc)(o).references.find((function(e){return i===(0,Ze.m8)(e)}));if(!a)return null;var u={id:t,message:r.message,position:a.start},c=n.nodes.find((function(e){return(0,Ze.WN)(e).includes(i)}));c&&(u.jumpToError={isJumpToError:!0,id:c.id,position:0});return u}(e,t,r):"SyntaxError"===r.name?function(e,t,r){if(void 0===r.message)return null;var n=/^[\s\S]+\((\d+):(\d+)\)$/m.exec(r.message);if(!n)return null;var o=+n[1],i=+n[2];return{id:t,message:r.message,position:Je(e,{id:t,line:o,column:i})}}(e,t,r):void 0!==r.stack?function(e,t,r){for(var n,o,i=e.editorStates,a=null,u=r.stack.split("\n"),c=u.length-1;c>-1;c--){var l=u[c];if(n=/observablehq-(\d+):(\d+):(\d+)/.exec(l))if(+n[1]===t){var s=+n[2]-1,f=+n[3]-1;a={id:t,message:r.message,position:Je(e,Xe(e,{id:t,line:s,column:f}))}}else{if(!i.has(+n[1]))break;var d=+n[2]-1,p=+n[3]-1;o={isJumpToError:!0,id:+n[1],position:Je(e,Xe(e,{id:+n[1],line:d,column:p}))}}}return a&&Ye({},a,{jumpToError:o})}(e,t,r):null}function Xe(e,t){var r=t.id,n=t.line,o=t.column,i=e.model,a=(0,E.DY)(i,r),u=(0,ze.Z)(a);return"import"===u.type||"empty"===u.type?{id:r,line:1,column:0}:Ye({id:r},u.sourcemap.translate({line:n,column:o}))}function Je(e,t){var r=t.id,n=t.line,o=t.column,i=e.editorStates.get(r);return Math.min(i.doc.line(Math.min(n,i.doc.lines)).from+o,i.doc.length-1)}function Ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||et(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ke(e){return function(e){if(Array.isArray(e))return Ge(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||et(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function et(e,t){if(e){if("string"===typeof e)return Ge(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ge(e,t):void 0}}function tt(e,t,r){e.has(t)||e.set(t,new Set),e.get(t).add(r)}function rt(e){var t=e.initialNotebook,r=e.initialCurrentUser,i=e.initialCollection,a=e.initialSafe,u=void 0!==a&&a,c=e.initialAutosave,l=void 0===c||c,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},f=s.isCompare,d=void 0!==f&&f,p=s.saveVersion,y=void 0===p?t.version:p,h=s.baseNotebook,v=t.version<=n.Lr&&(0,o.mG)(t)?0:null,m=(0,R.uu)(t.files),b={autosave:l,clientState:"closed",initialCollection:i,authors:t.authors,collections:t.collections,commentingLock:t.commenting_lock,comments:(0,g.Sh)(t.comments),composingComments:new Set,creator:t.creator,databaseResults:new Map,defaultThumbnail:t.default_thumbnail,description:t.description,dragId:null,dropId:void 0,editUnpublished:t.edit_unpublished,editorStates:new Map,expandedResolvedComments:new Set,files:m,focusStack:null===v?[]:[v],focusId:v,selection:new Set,selectionFocusId:null,forkOf:t.fork_of,forks:t.forks,isFullscreen:!1,heights:new Map,hoverId:null,id:t.id,initialAutosave:l,initialLatestVersion:t.latest_version,insertingId:void 0,like:t.like,likes:t.likes,model:(0,z.kT)(t),openComments:new Set,owner:t.owner,participants:[],publishLevel:t.publish_level,publishTime:t.publish_time,publishVersion:t.publish_version,roles:t.roles,safe:u,saveSubversion:0,saveTime:t.update_time||new Date,saveVersion:y,sharing:t.sharing,slug:t.slug,subscriptionState:t.subscription||"default",suggestionFrom:t.suggestion_from,suggestionsTo:t.suggestions_to,thumbnail:t.thumbnail,trashed:t.trashed,workerTasks:new Set,replaceTerm:"",wholeWordSearch:!1,caseSensitiveSearch:!1,regexSearch:!1,searchTerm:"",selectedSearchResult:void 0,searchResults:void 0,searchResultsVisible:!1,replaceMessage:void 0,isForking:!1,isPublishing:!1,isReverting:!1,isUnpublishing:!1,isClosingSuggestion:!1,isSuggesting:!1,isUpdatingTrash:!1,isMerging:!1,isCompare:d};return(0,F.Hp)(b,r),(0,g.UE)(b,r,h),b}var nt={blur:M.yv,cellHeight:function(e,t){var r=e.heights,n=t.heights;r=new Map(r);var o=!0,i=!1,a=void 0;try{for(var u,c=n[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=u.value,s=l.id,f=l.height;U(r,l.type,s,f)}}catch(d){i=!0,a=d}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}return{heights:r}},clientStateChanged:function(e,t){var r,n=t.clientState;if("aborted"===e.clientState&&"aborted"!==n)throw new Error("Cannot recover an aborted client.");return v({clientState:n},("reopening"===(r=n)||"closed"===r||"aborted"===r)&&y(v({},e,{clientState:n}),[]))},closeSuggestion:Le.$b,closeSuggestionFailed:Le.ky,closeSuggestionSucceeded:Le.BO,cloudFileSnippet:j.AK,closeInsertMenu:M.SS,collectionsUpdated:m.Y,commentComposeCancel:g.Mb,commentComposeOpen:g.hz,commentCreated:g.E,commentDeleted:g.dV,commentSaveConfirmed:g.V5,commentingLockSaved:b.q,commentsDeleteConfirmed:g.hx,commentsUpdated:g.A9,commit:z.th,currentUserUpdated:function(e,t){var r=e.editorStates,n=e.model.nodes,i=e.owner,a=e.transactions,u=t.updatedCurrentUser,c=r.get(n[0].id).field(S.i),l=(0,s.wW)(u,i),d=(0,s.Im)(u),p=(0,s.CD)(u),y=(0,s.OA)(u),h=(0,o.Yb)(u),v=(0,x.U)(u,"table_mode"),m=(0,x.U)(u,"insert_menu");if(l!==c.prettierOn||d!==c.autocompleteOn||p!==c.closeBracketsOn||h!==c.fileUploadsOn||y!==c.spellcheckOn){var b=[S.C.of({prettierOn:l,autocompleteOn:d,closeBracketsOn:p,fileUploadsOn:h,spellcheckOn:y,tableOn:v,insertMenuOn:m})];p!==c.closeBracketsOn&&b.push(w.Hk.closeBrackets.reconfigure(p?w._g:[]));var g=!0,k=!1,j=void 0;try{for(var C,_=r[Symbol.iterator]();!(g=(C=_.next()).done);g=!0){var P,A=O(C.value,1)[0];r=(P=(0,f.N)({editorStates:r,transactions:a},{effects:b},A)).editorStates,a=P.transactions}}catch(I){k=!0,j=I}finally{try{g||null==_.return||_.return()}finally{if(k)throw j}}return{editorStates:r,transactions:a}}},databaseResults:function(e,t){var r=t.databaseResults,n=new Map(e.databaseResults),o=!0,i=!1,a=void 0;try{for(var u,c=r[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=_(u.value,2),s=l[0],f=l[1];null===f?n.delete(s):"pending"in f&&n.has(s)?n.get(s).pending=!0:n.set(s,f)}}catch(d){i=!0,a=d}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}return{databaseResults:n}},descriptionUpdated:P.z,disableAutosave:a.C,dismissPane:le.Pp,dragEnded:function(e){var t=e.dragId,r=e.dropId;return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){I(e,t,r[t])}))}return e}({},void 0!==r&&(0,A.v)(e,[{type:"move_node",node_id:t,new_next_node_id:r}]),{dragId:null,dropId:void 0})},dragStarted:function(e,t){return{dragId:t.id}},dragged:function(e,t){var r=e.dropId,n=t.id;return r===n?void 0:{dropId:n}},duplicate:function(e,t){var r=t.id,n=t.before,o=void 0!==n&&n,i=e.editorStates.get(r),a=i.selection,u=i.doc,c=(0,E.DY)(e.model,r),l=c.pinned,s=c.mode,d=c.data,p=c.name,y=o?r:(0,E.o4)(e.model,r),h=e.model.version+1,v=e,m=(0,A.v)(v,[{type:"insert_node",new_next_node_id:y,new_node_value:"",new_node_pinned:l,new_node_mode:s,new_node_data:d,new_node_name:p},{type:"modify_node",node_id:r,new_node_value:u.toString()}]),b=D({},v,m),g=(0,f.N)(b,{changes:[{from:0,to:0,insert:u}],selection:a},h),w=D({},b,g);return D({},m,g,(0,M.Aq)(w,h))},edit:function(e,t){var r=e.editorStates,n=t.id,o=t.state;if(r.get(n)!==o){var i=new Map(r);return i.set(n,o),{editorStates:i}}},enterSafe:function(){return{safe:!0}},exitSafe:function(){return{safe:!1}},enterFullscreen:function(){return{isFullscreen:!0}},exitFullscreen:function(){return{isFullscreen:!1}},fileDeleteSucceeded:R.R$,fileMarkedForDeletion:R.GC,fileReplaced:R.YJ,focus:M.T_,focusAfter:M.ib,focusBefore:M.ug,focusDefinition:M.I$,focusError:M.z1,focusFirst:M.s0,focusLast:M.vG,focusUndo:M.zq,hideComments:g.u0,hover:function(e,t){var r=t.id;if(e.hoverId!==r)return{hoverId:r}},insertAfter:z.BE,insertBefore:z.Vt,insertCloudFile:j.GH,insertDatabase:j.q5,insertFile:R.pB,insertSnippet:Ee.I8,liked:L.l,loadedVersion:V.X,localFileUploadSucceeded:R.b1,localFilesAttached:R.QT,merge:q,mergeAfter:function(e,t){var r=t.id,n=e.model,o=(0,E.$g)(n,r)+1;if(!(o>=n.nodes.length))return q(e,{type:"merge",beforeId:r,afterId:n.nodes[o].id})},mergeBefore:function(e,t){var r=t.id,n=e.model,o=(0,E.$g)(n,r)-1;if(!(o<0))return q(e,{type:"merge",beforeId:n.nodes[o].id,afterId:r})},moveDown:z.vi,moveUp:z.A1,openInsertMenu:M.L4,presence:function(e,t){return y(e,t.participants)},relicense:z.XM,remoteFileUpdated:R.zJ,remove:z.Od,removeCloudFile:j.nD,replaceAll:le.wW,replaceCurrent:le.sk,resolveComments:g.Fq,resolveCommentsConfirmed:g.I5,resolveDependencies:function(e,t){var r=t.resolutions.map((function(e){return{type:"resolve_dependency",specifier_type:e.type,specifier:e.specifier,new_resolution:e.value}}));return(0,A.v)(e,r)},revertFailed:Z.tR,revertRequested:Z.oc,revertSucceeded:Z.$R,saveConfirmed:function(e,t){var r,n=t.saveVersion,o=t.saveSubversion,i=t.saveTime,a=t.edits,u=t.events,c=e.editorStates,l=u.filter((function(e){return"modify_node"===e.type||"mode_node"===e.type})),s=(0,F.GD)(l),d=!0,p=!1,y=void 0;try{for(var h,v=s[Symbol.iterator]();!(d=(h=v.next()).done);d=!0){var m=ue(h.value,2),b=m[0],g=m[1];if(c.has(b)){var w,S=c.get(b),x=g.map((function(e){return e.new_node_value}));r=(w=(0,f.N)({transactions:r,editorStates:c},(0,H.r)(S,x),b)).transactions,c=w.editorStates}}}catch(R){p=!0,y=R}finally{try{d||null==v.return||v.return()}finally{if(p)throw y}}var k=(0,F.GD)(a),O=!0,j=!1,C=void 0;try{for(var _,P=k[Symbol.iterator]();!(O=(_=P.next()).done);O=!0){var A=ue(_.value,2),I=A[0],E=A[1];if(c.has(I)){var M,T=c.get(I);r=(M=(0,f.N)({transactions:r,editorStates:c},(0,H.b4)(T,new Array(E.length),E.length),I)).transactions,c=M.editorStates}}}catch(R){j=!0,C=R}finally{try{O||null==P.return||P.return()}finally{if(j)throw C}}var D={saveVersion:n,saveSubversion:o,saveTime:i,editorStates:c,transactions:r};return ie({},D,ce(ie({},e,D),u))},saveReceived:function(e,t){var r=t.events,n=t.edits,o=t.saveVersion,i=t.saveTime,a=t.saveSubversion,u=re(e,r),c=u.editorStates,l=u.transactions,s=u.model,d=ae(u,["editorStates","transactions","model"]),p=(0,F.GD)(n),y=!0,h=!1,v=void 0;try{for(var m,b=p[Symbol.iterator]();!(y=(m=b.next()).done);y=!0){var g=ue(m.value,2),w=g[0],S=g[1];if(c.has(w)){var x,k=c.get(w),O=S.map(F.F2);l=(x=(0,f.N)({transactions:l,editorStates:c},(0,H.b4)(k,O,0),w)).transactions,c=x.editorStates}}}catch(C){h=!0,v=C}finally{try{y||null==b.return||b.return()}finally{if(h)throw v}}var j=ie({editorStates:c,transactions:l,saveVersion:o,saveTime:i,saveSubversion:a,model:s},d);return ie({},j,ce(ie({},e,j),r))},selectionAll:se.qg,selectionBlur:se.Fq,selectionClear:se.TW,selectionComment:se.v2,selectionCut:se.Sx,selectionDelete:se.Sx,selectionDuplicate:se.q6,selectionFocusAfter:se.Kt,selectionFocusBefore:se.Uo,selectionUpstream:se.MP,selectionDownstream:se.AG,selectionFocusEnter:se.wP,selectionFocusToggle:se.WZ,selectionInsert:se.SU,selectionMoveDown:se.zq,selectionMoveUp:se.fV,selectionPaste:se.Qs,selectionPin:se.BP,selectionPromote:se.sc,selectionRun:se.bO,selectionToggle:se.vJ,sendSuggestion:Le.ls,sendSuggestionFailed:Le.Hh,setAuthorAcceptance:i.KV,setAuthors:i.C2,setChartVisibility:function(e,t){var r=t.id,n=t.value,o=(0,E.DY)(e.model,r);if("table"===o.mode||"sql"===o.mode){var i=(0,A.v)(e,[{type:"modify_data",node_id:r,new_node_data:de({},o.data,{ui:de({},o.data.ui,{showCharts:n})})}]);return de({},i,(0,M.Aq)(de({},e,i),r))}},setDataSource:function(e,t){var r=t.id,n=t.source,o=(0,E.DY)(e.model,r);if("sql"===o.mode){var i=e.editorStates.get(r).doc.toString(),a=(0,A.v)(e,ge(o.value!==i?[{type:"modify_node",node_id:r,new_node_value:i}]:[]).concat([{type:"modify_data",node_id:r,new_node_data:be({},o.data,{source:n})}]));return be({},a,(0,M.Aq)(be({},e,a),r))}var u=(0,A.v)(e,[{type:"modify_data",node_id:r,new_node_data:be({},o.data,{source:n,operations:he.f3.operations})}]);return be({},u,(0,M.Aq)(be({},e,u),r))},setDataOperations:function(e,t){var r=t.id,n=t.operations,o=(0,E.DY)(e.model,r);if("table"===o.mode){var i=o.data,a=(0,A.v)(e,[{type:"modify_data",node_id:r,new_node_data:ye({},o.data,{operations:{select:n.select||i.operations.select,from:n.from||i.operations.from,filter:n.filter||i.operations.filter,sort:n.sort||i.operations.sort,slice:n.slice||i.operations.slice}})}]);return ye({},a,(0,M.Aq)(ye({},e,a),r))}},setMode:function(e,t){var r=t.id,n=t.mode,o=e.editorStates.get(r).field(W.C);if(n!==o){var i,a=(0,E.DY)(e.model,r),u=e.editorStates.get(r).doc.toString(),c=a.name;if(a.value!==u&&(i=(0,A.v)(e,[{type:"modify_node",node_id:r,new_node_value:u}])),"js"===o){var l=Oe({},e,i).editorStates.get(r),s=Se(l,!1);c=s?l.doc.sliceString(s.from,s.to):"";var d=Se(l,!0),p=xe(l);d&&p&&(i=Oe({},i,(0,f.N)(Oe({},e,i),{changes:{from:d.from,to:p.from,insert:""}},a.id)))}if("table"===o||"table"===n){var y=Oe({},e,i).editorStates.get(r).doc.length;y&&(i=Oe({},i,(0,f.N)(Oe({},e,i),{changes:{from:0,to:y,insert:""}},r)))}else"js"===n&&c&&Oe({},e,i).editorStates.get(r).doc.length&&(i=Oe({},i,(0,f.N)(Oe({},e,i),{changes:{from:0,to:0,insert:"".concat(c," = ")}},r)));return i=Oe({},i,(0,A.v)(Oe({},e,i),[Oe({type:"mode_node",node_id:r,new_node_value:Oe({},e,i).editorStates.get(r).doc.toString(),new_node_pinned:a.pinned},"js"===n?{new_node_mode:n,new_node_data:null,new_node_name:null}:"sql"===n?{new_node_mode:n,new_node_data:he.JT,new_node_name:c}:"table"===n?{new_node_mode:n,new_node_name:c,new_node_value:"",new_node_data:he.f3}:{new_node_mode:n,new_node_data:null,new_node_name:c})])),i=Oe({},i,(0,f.N)(Oe({},e,i),{effects:W.g.of((0,E.DY)(Oe({},e,i).model,r))},r)),Oe({},i,(0,M.Aq)(Oe({},e,i),r))}},setName:function(e,t){var r=t.id,n=t.name,o=(0,E.DY)(e.model,r),i=("js"===o.mode?Ie:Ae)(o,n,e);return _e({},i,(0,M.Aq)(_e({},e,i),r))},selectNextSearchResult:le.hf,selectPreviousSearchResult:le.IY,selectSearchResult:le.oG,setReplaceTerm:le.sA,setSearchTerm:le.Fz,showComments:g.Q8,showFindPane:le.QB,splitAfter:function(e,t){return Ue(e,{id:t.id,before:!1})},splitBefore:function(e,t){return Ue(e,{id:t.id,before:!0})},suggestionFromUpdated:Le.PZ,synced:function(e,t){var r=t.events,i=t.edits,a=t.saveVersion,c=t.saveSubversion,l=t.saveTime,s=re(e,r),d=s.editorStates,p=s.transactions,h=s.model,v=ae(s,["editorStates","transactions","model"]),m=!0,b=!1,g=void 0;try{for(var w,S=i[Symbol.iterator]();!(m=(w=S.next()).done);m=!0){var x,k=w.value,O=k.node_id,j=k.value;if(d.has(O))p=(x=(0,f.N)({transactions:p,editorStates:d},(0,H.cK)(d.get(O),[j]),O)).transactions,d=x.editorStates}}catch(E){b=!0,g=E}finally{try{m||null==S.return||S.return()}finally{if(b)throw g}}var C=ie({saveVersion:a,saveSubversion:c},r.length||i.length?{saveTime:l}:null,{editorStates:d,transactions:p,model:h},v);if(C=ie({},C,y(ie({},e,C),e.participants)),a<=n.Lr&&(0,o.mG)(e)){var _=h.nodes[0],P=C.editorStates,A=C.transactions;if(0===P.get(_.id).doc.length){var I="md"===_.mode?{changes:{from:0,to:0,insert:"# Untitled"},selection:u.jT.single(2,10)}:{changes:{from:0,to:0,insert:"md`# Untitled`"},selection:u.jT.single(5,13)};C=ie({},C,(0,f.N)({editorStates:P,transactions:A},I,_.id))}}return ie({},C,ce(ie({},e,C),r))},title:z.TN,toggleCaseSensitiveSearch:le.tT,togglePane:le.Pp,togglePin:z.aB,toggleRegexSearch:le.J2,toggleResolvedComments:g.m1,toggleWholeWordSearch:le.gL,updateSearchResults:le.YU,updateSubscriptionSucceeded:Ve.Q,workerErrors:function(e,t){var r=t.errors,n=e.editorStates,o=e.transactions,i=e.model,a=new Map,u=new Map,c=!0,l=!1,s=void 0;try{for(var d,p=i.nodes[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var y=d.value,h=n.get(y.id).field(qe.ei);h.length&&a.set(y.id,new Set);var v=!0,m=!1,b=void 0;try{for(var g,w=h[Symbol.iterator]();!(v=(g=w.next()).done);v=!0){var S=g.value;if(!S.isJumpToError){var x=S.jumpToError;tt(u,y.id,S),x&&tt(u,y.id,x)}}}catch(re){m=!0,b=re}finally{try{v||null==w.return||w.return()}finally{if(m)throw b}}}}catch(re){l=!0,s=re}finally{try{c||null==p.return||p.return()}finally{if(l)throw s}}var k=!0,O=!1,j=void 0;try{for(var C,_=r[Symbol.iterator]();!(k=(C=_.next()).done);k=!0){var P=Qe(C.value,2),A=P[0],I=P[1];if(u.delete(A),I){var M=We(e,A,I);if(M){tt(u,A,M);var T=M.jumpToError;T&&tt(u,A,T)}}}}catch(re){O=!0,j=re}finally{try{k||null==_.return||_.return()}finally{if(O)throw j}}var D=!0,F=!1,R=void 0;try{for(var $,U=u[Symbol.iterator]();!(D=($=U.next()).done);D=!0){var V=Qe($.value,2)[1],L=!0,N=!1,B=void 0;try{for(var q,z=V[Symbol.iterator]();!(L=(q=z.next()).done);L=!0){var Z=q.value;tt(a,Z.id,Z)}}catch(re){N=!0,B=re}finally{try{L||null==z.return||z.return()}finally{if(N)throw B}}}}catch(re){F=!0,R=re}finally{try{D||null==U.return||U.return()}finally{if(F)throw R}}var H=!0,Y=!1,W=void 0;try{for(var X,J=a[Symbol.iterator]();!(H=(X=J.next()).done);H=!0){var G,Q=Qe(X.value,2),K=Q[0],ee=Q[1],te=(0,E.DY)(i,K);if(te&&"table"!==te.mode)n=(G=(0,f.N)({editorStates:n,transactions:o},{effects:[qe.Cw.of(Ke(ee))]},K)).editorStates,o=G.transactions}}catch(re){Y=!0,W=re}finally{try{H||null==J.return||J.return()}finally{if(Y)throw W}}return{editorStates:n,transactions:o}},workerGoodbye:function(e){var t=e.heights;t=new Map(t);var r=!0,n=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var u=Be(i.value,2),c=u[0];0!==u[1].worker&&U(t,"worker",c,0)}}catch(l){n=!0,o=l}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return{heights:t}},workerTask:function(e,t){var r=e.safe,n=e.workerTasks,o=t.task;if(!r)return n.add(o),{workerTasks:n};o.reject(new Error("no worker in safe mode"))}}},30169:function(e,t,r){r.d(t,{k:function(){return o}});var n=r(19671),o=function(e,t){var r=e.currentUser,o=e.notebook;switch(t.modal){case"setSlug":(0,n.MR)((0,n.ym)({type:"notebook:view:slugModal",data:{isSlugSet:!!o.slug},eventVersion:1,notebook:o,currentUser:r}))}}}}]);
