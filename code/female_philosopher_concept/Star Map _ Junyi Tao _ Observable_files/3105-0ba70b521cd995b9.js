"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3105],{23105:function(e,n,r){r.d(n,{r2:function(){return re},pg:function(){return xe},c1:function(){return ce},FS:function(){return pe},vR:function(){return he}});var t=r(85893),s=r(8385),o=r(88725),i=r(11163),l=r(25091),a=function(e){var n=e.notebook;return{onSelect:function(){i.default.replace((0,o.Bi)(n)+"/safe")},children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.Z,{className:"mr2 h1 w1"}),"View in safe mode"]})}},c=r(95357),u=r(76267),d=r(87769),h=r(46564),m=r(52155),f=r(15706),b=r(92946),p=r(22027),x=r(84749),v=r(81685),g=r(5163),j=r(11846),y=r(84193),w=r(86384),N=r(43164),k=r(83065),S=r(54239),O=r(66421),F=function(e){var n=e.notebook,r=e.dispatch;return(0,O.rY)(n)?{onSelect:function(){return r({type:"trashRequested",trashed:!1,relocate:!1})},children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(S.Z,{className:"mr2 h1 w1"}),"Put back"]})}:null},Z=r(14903),P=r(2239),C=r(21013),L=r(67294),A=function(e){var n=e.notebook,r=e.dispatch;return(0,O.fW)(n)?{onSelect:function(){return r({type:"showModal",modal:"setNotebookThumbnail"})},disabled:!1,children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(C.Z,{className:"mr2 h1 w1"}),"Set preview image\u2026"]})}:null},U=r(85340),M=r(77061),T=r(28555),E=r(49282),R=r(602),I=r(14151),_=r(12447),q=r(16691),z=r(74873),B=r(70915),Y=r(93514),G=r(27193),$=r(25655),D=r(62990),X=r(36448),H=r(80835),W=r(65538),V=r(7483);function J(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function K(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function Q(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){K(e,n,r[n])}))}return e}function ee(e,n){if(null==e)return{};var r,t,s=function(e,n){if(null==e)return{};var r,t,s={},o=Object.keys(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||(s[r]=e[r]);return s}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function ne(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,s,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(t=r.next()).done)&&(o.push(t.value),!n||o.length!==n);i=!0);}catch(a){l=!0,s=a}finally{try{i||null==r.return||r.return()}finally{if(l)throw s}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return J(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var re={fontSize:"2rem"};function te(e,n){var r,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return(0,t.jsx)("span",{className:"black bg-lightest-yellow",children:e})},o=0,i=0,l=[],a=new RegExp(n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi");if(!e)return null;for(;null!==(r=a.exec(e));)r.index!==o&&l.push(e.substring(o,r.index)),l.push(L.cloneElement(s(r[0]),{key:++i})),o=r.index+r[0].length;return o!==e.length&&l.push(e.substring(o)),l}function se(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\u2026";return n+=1,(e=e.trim()).length<=n?e:(e=e.substr(0,n-r.length)).substr(0,e.lastIndexOf(" "))+r}var oe=function(e){var n=e.notebook,r=ne((0,R.h_)("/document/".concat(n.id)),1)[0];return r&&r.fork_of?(0,t.jsxs)("div",{className:"mw5 pa2 pr3 f7 fw5",children:[(0,t.jsx)("div",{className:"mb1 gray",children:"Fork of"}),(0,t.jsx)(y.Z,{href:(0,o.Bi)(r.fork_of),children:(0,t.jsx)("a",{className:"no-underline dark-gray hover-blue",children:(0,G.Ui)(r.fork_of)})}),(0,t.jsx)("span",{className:"mid-gray",children:" by "}),(0,t.jsx)(y.Z,{href:(0,X.GN)(r.fork_of.owner),children:(0,t.jsx)("a",{className:"no-underline dark-gray hover-blue",children:(0,X.RX)(r.fork_of.owner)})})]}):r?(0,t.jsx)("div",{className:"flex mw5 pa2 f7 fw5 gray items-center",children:(0,t.jsx)("span",{children:"Fork information isn\u2019t available: parent notebook may be trashed or private."})}):(0,t.jsxs)("div",{className:"flex mw5 pa2 f7 fw5 gray items-center",children:[(0,t.jsx)(p.Z,{className:"mr2 blue"}),(0,t.jsx)("span",{children:"Loading\u2026"})]})},ie=function(e){var n=e.notebook;return(0,t.jsx)(H.u,{label:(0,t.jsx)(oe,{notebook:n}),children:(0,t.jsxs)("span",{className:"nowrap",children:["\xa0",(0,t.jsx)(u.F,{title:"This notebook is a fork",className:"dib v-btm moon-gray"})]})})},le=function(e){var n=e.notebook,r=e.url,s=e.format,i=void 0===s?"grid":s,l=(0,_.GS)("(max-width: 640px)");return(0,t.jsx)(y.Z,{href:r,children:(0,t.jsx)("a",{"aria-label":(0,o.$h)(n),tabIndex:-1,children:(0,t.jsx)(V.p,{className:"relative ba b--silver hover-b--light-gray hover-light-shadow br2 overflow-hidden\n           ".concat("grid"===i?"thumbnail-grid":"thumbnail-list"),style:"grid"===i?{width:"100%",paddingTop:"62.5%",backgroundImage:n.thumbnail?"none":"var(--checkerboard)"}:{width:l?72:108,height:66,backgroundImage:n.thumbnail?"none":"var(--checkerboard)"},hash:n.thumbnail})})})},ae=(0,W.$)((function(e){return{currentUser:e.currentUser}}),(function(e){return{dispatch:e}}))((function(e){var n=e.notebook,r=e.currentUser,s=e.dispatch,o={currentUser:r,notebook:n,dispatch:function(e){s({type:"selectNotebook",notebook:n}),s(e)}},i={collections:(0,w.b)(o)};return(0,t.jsx)(E._i,{actions:i,buttonType:"list"})})),ce=function(e){var n=e.collection,r=e.format,i=e.hideMeta,l=void 0!==i&&i,a=e.index,u=e.notebook,d=e.currentUser,h=e.query,f=e.saveListingSelectionEvent,p=void 0===f?function(){}:f,v=e.light,g=void 0!==v&&v,j=e.maxTitleLength,w=void 0===j?85:j,N=n?(0,B.L7)(u,n):(0,o.Bi)(u),k=u.owner,S=u.creator,F=u.publishTime,Z=u.publishLevel,P=u.saveTime,C=u.commentCount,L=u.likes,A=u.forked,U=F||P,M=(0,G.Ui)(u),T=n&&n.ordered,E=g?"white":"near-black",R=null===d||void 0===d?void 0:d.teams.some((function(e){return(0,O.pb)(e)}));return(0,t.jsxs)("div",{"data-cy":"notebook-listing",className:"".concat(l?"":"pt2"," ").concat("grid"===r?"":" mb2 flex items-center"," relative"),onClick:p,children:[T&&"grid"!==r&&void 0!==a&&(0,t.jsxs)("div",{className:"mr2 f6 fw6",children:[a+1,"."]}),(0,t.jsx)(le,{url:N,notebook:u,format:r}),(0,t.jsxs)("div",{className:"flex".concat("list"===r?"-auto":" justify-between"," items-center"),children:[(0,t.jsxs)("div",{className:"".concat("grid"===r?"pt2":"pl3"," flex-auto"),children:[(0,t.jsxs)("div",{style:{paddingBottom:2},className:"f6 fw6 no-underline ".concat(E," hover-blue lh-f7"),children:[(0,t.jsx)(y.Z,{href:N,children:(0,t.jsx)("a",{className:"break-word",title:M,children:h?te(M,h):se(M,w)})}),A?(0,t.jsx)(ie,{notebook:u}):(0,$.s9)({publishLevel:Z})?null:"\xa0",!l&&(0,$.ws)({publishLevel:Z})?(0,t.jsx)("span",{title:"Private",children:(0,t.jsx)(x.Z,{className:"dib v-btm moon-gray"})}):!l&&(0,$.cg)({publishLevel:Z})?(0,t.jsx)("span",{title:"Shared",children:(0,t.jsx)(b.ZP,{className:"dib v-btm moon-gray"})}):null]}),(0,t.jsxs)("div",{className:"flex pt1 f7 fw5".concat(l?" items-center":""),children:[(0,$.p0)(u)?(0,t.jsx)(y.Z,{href:(0,X.GN)(k),children:(0,t.jsxs)("a",{className:"inline-flex relative pr1 mr2 flex-shrink-0 items-center",style:{width:24,height:24},children:[(0,t.jsx)(s.q,{user:S,size:24,className:"absolute br-100"}),(0,t.jsx)(s.q,{user:k,size:12,style:{right:-6,bottom:-4},className:"absolute bg-white ba b--white br-100 bw1"})]})}):(0,t.jsx)(y.Z,{href:(0,X.GN)(k),children:(0,t.jsx)("a",{className:"inline-flex pr1 mr1 items-center",children:(0,t.jsx)(s.q,{user:k,size:24,className:"br-100"})})}),(0,t.jsxs)("div",{className:"flex-auto ".concat(l?"items-center":""),children:[(0,$.p0)(u)?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(y.Z,{href:(0,X.GN)(S),children:(0,t.jsx)("a",{className:"inline-flex no-underline dark-gray hover-blue items-center",children:(0,X.RX)(S)})}),(0,t.jsx)("span",{className:"mh1 mid-gray",children:"in"}),(0,t.jsx)(y.Z,{href:(0,X.GN)(k),children:(0,t.jsx)("a",{className:"inline-flex no-underline dark-gray hover-blue items-center",children:(0,X.RX)(k)})})]}):(0,t.jsx)(y.Z,{href:(0,X.GN)(k),children:(0,t.jsx)("a",{className:"inline-flex no-underline dark-gray hover-blue items-center",children:(0,X.RX)(k)})}),!l&&(0,t.jsxs)("div",{className:"gray",style:{paddingTop:2},children:[(0,t.jsx)("span",{title:(0,D.mr)(U),className:"nowrap",children:(0,D.LN)(U)}),(L>0||C>0)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"ph1 light-gray",children:"\u2022"}),L>0&&(0,t.jsxs)("span",{className:"mr2 nowrap",children:[(0,t.jsx)(m.Z,{className:"v-top moon-gray",style:{width:14,height:14,marginRight:-1}})," ",(0,Y.C)(L)]}),C>0&&(0,t.jsxs)("span",{className:"mr2 nowrap",children:[(0,t.jsx)(c.L,{className:"v-top moon-gray",style:{width:16,height:16,marginRight:-1}})," ",(0,Y.C)(C)]})]})]})]})]})]}),!l&&R&&"grid"===r&&(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)(ae,{notebook:u})})]}),R&&"list"===r&&(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)(ae,{notebook:u})})]})},ue=function(e){var n=e.user,r=e.currentUser;return(0,t.jsx)(y.Z,{href:(0,X.GN)(n),children:(0,t.jsx)("a",{className:"mr1 no-underline dark-gray hover-blue",children:r&&n.id===r.id?"You":(0,X.RX)(n)})})},de=function(e){var n=e.notebook,r=e.currentUser,s=function(e){var n=e.publishTime,r=e.lastPublishTime;return(0,$.s9)({publishLevel:h})?r>n?"republished":"published":(0,$.cg)({publishLevel:h})?r>n?"reshared":"shared":null},o=n.publishTime,i=n.lastPublishTime,l=n.lastEditor,a=n.publisher,c=n.saveVersion,u=n.lastEditTime,d=n.publishVersion,h=n.publishLevel,m=o||u,f=(0,q.L)(m),b=(0,I.d)((0,L.useCallback)((function(){return i?(0,D.LN)(i,f):""}),[i,f])),p=(0,I.d)((0,L.useCallback)((function(){return i?(0,D.mr)(i):""}),[i])),x=(0,I.d)((0,L.useCallback)((function(){return(0,D.LN)(u,f)}),[u,f])),v=(0,I.d)((0,L.useCallback)((function(){return(0,D.mr)(u)}),[u]));return d&&c!==d?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ue,{user:l,currentUser:r}),(0,t.jsx)("span",{className:"mr1",children:"edited"}),(0,t.jsxs)("span",{title:(0,D.mr)(u),className:"mr1",children:[" ","".concat(x,",")," "]}),a.id!==l.id?(0,t.jsx)(ue,{user:a,currentUser:r}):null,(0,t.jsx)("span",{className:"mr1",children:s(n)}),(0,t.jsx)("span",{title:(0,D.mr)(i),children:b})]}):i?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ue,{user:a,currentUser:r}),(0,t.jsx)("span",{className:"mr1",children:s(n)}),(0,t.jsx)("span",{title:p,children:b})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ue,{user:l,currentUser:r}),(0,t.jsx)("span",{className:"mr1",children:"edited"}),(0,t.jsx)("span",{title:v,children:x})]})},he=function(e){var n=e.notebook;if((0,$.dI)(n))return(0,t.jsx)(t.Fragment,{children:"Trashed"});var r={className:"mr1 moon-gray",height:13,width:13},s=null;(0,O.yF)(n)&&((0,$.hv)(n)?s=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.Z,Q({},r)),"You"]}):(0,$.PW)(n)?s=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.Z,Q({},r)),"Shared"]}):(0,$.nt)(n)&&(s=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j.Z,Q({},r)),"Team"]})));var o=null;return(0,$.cg)(n)?o=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b.ZP,Q({},r)),"Published (unlisted)"]}):(0,$.s9)(n)&&(o=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.Z,Q({},r)),"Published"]})),s&&o?(0,t.jsxs)(t.Fragment,{children:[s,(0,t.jsx)("span",{className:"mh1 silver",children:"\u2022"}),o]}):(0,t.jsxs)(t.Fragment,{children:[s,o]})},me=function(e){var n=e.notebook,r=n.openSuggestionCount,s=n.likes,o=n.commentCount;return(0,t.jsxs)(t.Fragment,{children:[r>0?(0,t.jsxs)("div",{className:"dib",title:"This notebook is a suggestion",children:[(0,t.jsx)(f.g,{className:"v-top ml2 moon-gray",style:{width:14,height:14,marginRight:-1}})," ",(0,Y.C)(r)]}):null,n.likes>0?(0,t.jsxs)("div",{className:"dib",children:[(0,t.jsx)(m.Z,{className:"v-top ml2 moon-gray",style:{width:14,height:14,marginRight:-1}})," ",(0,Y.C)(s)]}):null,o>0?(0,t.jsxs)("div",{className:"dib",children:[(0,t.jsx)(c.L,{className:"v-top ml2 moon-gray",style:{width:16,height:16,marginRight:-1}})," ",(0,Y.C)(o)]}):null]})},fe=(0,W.$)((function(e){return{currentUser:e.currentUser}}),(function(e){return{dispatch:e}}))((function(e){var n=e.notebook,r=e.currentUser,s=e.dispatch,o=n.trashed,i={currentUser:r,notebook:n,dispatch:function(e){s({type:"selectNotebook",notebook:n}),s(e)}},l=o?{Putback:F(i)}:Q({},(0,$.ws)(n)?{Publish:(0,k.OZ)(i)}:{Publish:{Republish:(0,k.u8)(i),settings:(0,k.dZ)(i),unpublish:(0,T.h)(i)}},{Share:(0,Z.X)(i),Fork:(0,N.A)(i),divider_1:null,collections:(0,w.b)(i),divider_2:null,View:{safeMode:a(i)},Settings:{slug:(0,P.t)(i),thumbnail:A(i),divider_1:null,transfer:(0,U.M)(i,{relocate:!1})},Delete:{trash:(0,M.q)(i,{relocate:!1})}});return(0,t.jsx)(E._i,{actions:l,buttonType:"list"})})),be=function(e){var n=e.index,r=e.notebook,i=e.collection,l=e.format,a=e.query,c=e.reorder,u=e.isMinimal,d=e.light,m=void 0!==d&&d,f=e.showMenu,b=void 0===f||f,p=m?"white":"near-black",x=i?(0,B.L7)(r,i):(0,o.Bi)(r),v=(0,$.dI)(r),g=(0,G.Ui)(r),j=b&&(!v||(0,O.c)(r)),w=(0,_.GS)("(max-width: 640px)"),N=i&&i.ordered,k=(0,L.useRef)(null);return(0,z.z)({index:n,ref:k,dataSelector:"collection-order",onDrop:c,disabled:!N}),(0,t.jsx)("div",{"data-cy":"notebook-listing",className:"flex-auto relative pt2 ".concat("list"===l?"pb2":"mb2"),children:(0,t.jsxs)("div",{className:"".concat("list"===l?"flex items-center":""),children:[N&&void 0!==n&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{"aria-label":"Drag to reorder",className:"pv2 pr2 moon-gray hover-dark-gray bg-transparent bn tooltipped tooltipped-e",ref:k,style:{cursor:"grab",lineHeight:0},children:(0,t.jsx)(h.Z,{style:{width:14}})}),(0,t.jsxs)("div",{className:"mr2 f6 fw6",children:[n+1,"."]})]}),(w||!u)&&(0,t.jsx)(le,{url:x,notebook:r,format:l}),(0,t.jsxs)("div",{className:"".concat("list"!==l||!w&&u?"":"ml3"," flex-auto"),children:["grid"===l&&(0,t.jsxs)("div",{className:"pt2 flex items-center justify-between f7 fw5 lh-f7 gray",children:[(0,t.jsx)("div",{className:"flex truncate flex-wrap items-center",children:(0,t.jsx)(he,{notebook:r})}),(0,t.jsx)("div",{className:"fw6 moon-gray flex-no-shrink",children:(0,t.jsx)(me,{notebook:r})})]}),(0,t.jsxs)("div",{className:"unified"===u?"flex justify-between items-end":"relative",children:[(0,t.jsx)("div",{className:"".concat(u?"mr2":"mr4"),children:(0,t.jsxs)("div",{className:"f6 fw6 no-underline ".concat(p," hover-blue lh-f7"),children:[(0,t.jsx)(y.Z,{href:x,children:(0,t.jsx)("a",{className:"v-mid break-word",title:g,children:a?te(g,a):se(g,85)})}),r.forked&&(0,t.jsx)(ie,{notebook:r})]})}),"unified"===u&&(0,t.jsx)(s.q,{user:r.owner,size:16,className:"br-100"}),j&&"grid"===l&&(0,t.jsx)("div",{className:"absolute top-0 right-0 nt3 nr2",children:(0,t.jsx)(fe,{notebook:r})})]}),(0,t.jsxs)("div",{className:"flex pr4 mt1 f7 fw5 gray lh-f7 flex-wrap items-center",children:[!u&&"list"===l&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(he,{notebook:r}),(0,t.jsx)("span",{className:"ph1 light-gray",children:"\u2022"})]}),(0,t.jsx)(de,Q({},e)),"list"===l&&!u&&(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("span",{className:"ml1",children:[" ",(0,t.jsx)(me,{notebook:r})," "]})})]})]}),j&&!u&&"list"===l&&(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)(fe,{notebook:r})})]})})},pe=function(e){var n=e.format,r=(0,_.GS)("(max-width: 640px)");return(0,t.jsx)("div",{className:"relative flex-auto",children:(0,t.jsxs)("div",{className:"".concat("list"===n?"flex items-center ":" "," pv2 br2 "),children:[(0,t.jsx)("div",{className:"ba b--silver br2",style:Q({},"grid"===n?{paddingTop:"62.5%"}:{width:r?72:108,height:66},{backgroundImage:"var(--checkerboard)"})}),(0,t.jsxs)("div",{className:"truncate ".concat("list"===n?"ml3":""),children:[(0,t.jsx)("span",{className:"db flex pr4 f6 fw4 black",children:(0,t.jsx)("div",{style:{paddingBottom:2},className:"truncate pt2 mr2 lh-f6",children:(0,t.jsx)("span",{className:"near-white bg-near-white",children:"~~~~~~~~~~"})})}),(0,t.jsx)("div",{className:"flex pb2 f7 fw4 lh-f7",children:(0,t.jsx)("span",{className:"near-white bg-near-white",children:"~~~~~~~~~~"})})]})]})})},xe=function(e){var n=e.notebook,r=e.type,s=ee(e,["notebook","type"]);return"reader"!==r&&"notebook_owner"===n.type?(0,t.jsx)(be,Q({notebook:n},s)):(0,t.jsx)(ce,Q({notebook:n},s))}},7483:function(e,n,r){r.d(n,{p:function(){return l}});var t=r(85893);r(67294);function s(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function o(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){s(e,n,r[n])}))}return e}function i(e,n){if(null==e)return{};var r,t,s=function(e,n){if(null==e)return{};var r,t,s={},o=Object.keys(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||(s[r]=e[r]);return s}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}var l=function(e){var n=e.hash,r=e.className,s=e.style,l=i(e,["hash","className","style"]);return(0,t.jsx)("div",o({},l,{className:"".concat(r),style:o({},s,{backgroundImage:n?"none":"var(--checkerboard)"}),children:n&&(0,t.jsx)("img",{alt:"thumbnail",className:"absolute top-0 left-0 w-100 h-100",style:{objectFit:"cover"},loading:"lazy",src:"https://".concat("static.observableusercontent.com","/thumbnail/").concat(n,".jpg")})}))}},86384:function(e,n,r){r.d(n,{b:function(){return i}});var t=r(85893),s=r(54329),o=r(66421),i=(r(67294),function(e){var n=e.notebook,r=e.currentUser,i=e.dispatch;return r&&((0,o.Zs)(r,n)||(0,o.mc)(r,n))?{onSelect:function(){return i({type:"showModal",modal:"collections",modalProps:{collectionListing:n}})},children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.Z,{className:"mr2 h1 w1"}),"collections"in n&&n.collections.length>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"nowrap",children:"In collections"}),(0,t.jsx)("span",{className:"ml2 f7 mid-gray bg-light-silver br2",style:{padding:"2px 4.5px"},children:n.collections.length})]}):(0,t.jsx)("span",{className:"nowrap",children:"Add to collections\u2026"})]})}:null})},83065:function(e,n,r){r.d(n,{OZ:function(){return u},u8:function(){return d},dZ:function(){return h}});var t=r(85893),s=r(34119),o=r(92946),i=r(74080),l=r(66421),a=r(25655),c=r(87769),u=function(e){var n=e.notebook,r=e.dispatch;return(0,l.zB)(n)?{onSelect:function(){r({type:"showModal",modal:"publishConfirmation"})},tooltip:(0,a.Ag)(n),disabled:!(0,i.ur)(n),children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Z,{className:"mr2 h1 w1"}),"Publish\u2026"]})}:null},d=function(e){var n=e.notebook,r=e.dispatch;return(0,l.zB)(n)?{onSelect:function(){r({type:"publishRequested",unlisted:"shared"===n.publishLevel})},tooltip:(0,a.Ag)(n),disabled:!(0,i.K3)(n),children:(0,t.jsxs)(t.Fragment,{children:[(0,a.s9)(n)?(0,t.jsx)(c.Z,{className:"mr2 h1 w1"}):(0,t.jsx)(o.ZP,{className:"mr2 h1 w1"}),"Republish"]})}:null},h=function(e){var n=e.notebook,r=e.dispatch;return(0,l.zB)(n)?{onSelect:function(){r({type:"showModal",modal:"publishConfirmation"})},tooltip:(0,a.Ag)(n),children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.Z,{className:"mr2 h1 w1"}),"Publish settings\u2026"]})}:null}},14903:function(e,n,r){r.d(n,{X:function(){return i}});var t=r(85893),s=r(66421),o=(r(67294),r(2537)),i=function(e){var n=e.notebook,r=e.currentUser,i=e.dispatch;return r&&(0,s.yF)(n)?{onSelect:function(){return i({type:"showModal",modal:"sharing"})},tooltip:"Share with others",children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.Z,{className:"mr2 h1 w1"})," Share\u2026"]})}:null}},2239:function(e,n,r){r.d(n,{t:function(){return i}});var t=r(85893),s=r(66421),o=(r(67294),r(18794)),i=function(e){var n=e.notebook,r=e.dispatch;return(0,s.mO)(n)?{onSelect:function(){return r({type:"showModal",modal:"setSlug"})},disabled:!1,children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.Z,{className:"mr2 h1 w1"}),"Set URL\u2026"]})}:null}},85340:function(e,n,r){r.d(n,{M:function(){return l}});var t=r(85893),s=r(66421);r(67294);function o(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var i=function(e){return(0,t.jsxs)("svg",function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){o(e,n,r[n])}))}return e}({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e,{children:[(0,t.jsx)("circle",{cx:"11",cy:"3",r:"2",stroke:"currentColor",strokeWidth:"2"}),(0,t.jsx)("circle",{cx:"5",cy:"9",r:"2",stroke:"currentColor",strokeWidth:"2"}),(0,t.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.85575 7.93168C9.40222 7.35772 10.1737 7 11.0288 7C12.6856 7 14.0288 8.34315 14.0288 10H16.0288C16.0288 7.23858 13.7902 5 11.0288 5C9.80797 5 8.68935 5.43753 7.82117 6.16433C8.30621 6.6469 8.66815 7.2531 8.85575 7.93168Z",fill:"currentColor"}),(0,t.jsx)("path",{d:"M9 16C9 13.7909 7.20914 12 5 12C2.79086 12 1 13.7909 1 16",stroke:"currentColor",strokeWidth:"2"})]}))},l=function(e){var n=e.notebook,r=e.currentUser,o=e.dispatch,l=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{relocate:!0}).relocate,a=(0,s.T1)(r),c=(0,s.ev)(r,n);if(null===r||!(0,s.S)(n)||0===a.length)return null;var u=a.filter((function(e){return!c.some((function(n){return e.id===n.id}))}));return{onSelect:function(){return o({type:"showModal",modal:"accountSelect",modalProps:{title:"Transfer notebook",icon:i,onSelectAccount:function(e){o({type:"transfer",newOwner:e,relocate:l})},exclude:n.owner,teams:a,restrictedTeams:u,restrictedMessage:"Only team owners can transfer public or shared notebooks into this team."}})},disabled:n.owner.id===r.id&&0===c.length,children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i,{className:"mr2 h1 w1"}),"Transfer\u2026"]})}}},77061:function(e,n,r){r.d(n,{q:function(){return i}});var t=r(85893),s=r(66421),o=r(8433),i=function(e){var n=e.notebook,r=e.dispatch,i=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{relocate:!0}).relocate;return(0,s.c)(n)?{onSelect:function(){return r({type:"showModal",modal:"trash",modalProps:{relocate:i}})},children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.Z,{className:"mr2 h1 w1"}),"Move to trash\u2026"]})}:null}},28555:function(e,n,r){r.d(n,{h:function(){return l}});var t=r(85893),s=r(74080),o=r(66421),i=r(4647),l=function(e){var n=e.notebook,r=e.dispatch;return(0,o._l)(n)?{onSelect:function(){return r({type:"showModal",modal:"unpublish"})},disabled:!(0,s.JJ)(n),children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.Z,{className:"mr2 h1 w1"})," Unpublish\u2026"]})}:null}},74873:function(e,n,r){r.d(n,{z:function(){return c}});var t=r(67294);function s(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function o(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,s,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(t=r.next()).done)&&(o.push(t.value),!n||o.length!==n);i=!0);}catch(a){l=!0,s=a}finally{try{i||null==r.return||r.return()}finally{if(l)throw s}}return o}}(e,n)||l(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,n){if(e){if("string"===typeof e)return s(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,n):void 0}}var a=function(){};function c(e){var n=e.index,r=e.ref,s=e.dataSelector,l=e.onDrop,c=e.onMove,u=void 0===c?a:c,d=e.disabled,h=void 0!==d&&d,m=o(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.threshold,r=void 0===n?75:n,s=e.speed,o=void 0===s?4:s,i=(0,t.useState)(null),l=i[0],a=i[1],c=(0,t.useState)(null),u=c[0],d=c[1];return(0,t.useEffect)((function(){null===u?a(null):u<r?a(-1):u>window.innerHeight-r?a(1):a(null)}),[u,r]),(0,t.useEffect)((function(){var e,n=function(r){var t=performance.now()-r,s=-1===l&&0===window.scrollY,i=1===l&&document.body.scrollHeight-window.scrollY<=window.innerHeight;null===l||s||i||(window.scrollBy(0,t*l*o),e=window.requestAnimationFrame(n))};if(null!==l)return e=window.requestAnimationFrame(n),function(){return window.cancelAnimationFrame(e)}}),[l,o]),[u,d]}(),2)[1];(0,t.useEffect)((function(){if(!h&&r&&r.current){var e,t,o=r.current,a=function(e){for(var n=1/0,r=null,s=null,o=0;o<t.length;o++){var i=t[o],l=Math.abs(e-i.top),a=Math.abs(e-i.bottom);l<n&&(n=l,r=i.index),a<n&&(n=a,r=t.length>o+1?t[o+1].index:null,s=i.index)}return{next:r,previous:s}},c=function(){var e=!0,n=!1,r=void 0;try{for(var t,s=document.querySelectorAll(".show-before,.show-after")[Symbol.iterator]();!(e=(t=s.next()).done);e=!0){t.value.classList.remove("show-before","show-after")}}catch(o){n=!0,r=o}finally{try{e||null==s.return||s.return()}finally{if(n)throw r}}},d=function(){removeEventListener("pointermove",b,!0),removeEventListener("pointerup",p,!0)},f=function(r){l&&void 0!==n&&(t=function(){var e=s.split("-").map((function(e,n){return 0===n?e:e.charAt(0).toUpperCase()+e.substring(1)})).join("");return i(document.querySelectorAll("[data-".concat(s,"]"))).map((function(n){var r=n.getBoundingClientRect();return{index:+(n.dataset[e]||0),top:r.top+window.scrollY,bottom:r.bottom+window.scrollY}}))}(),e=r.clientY,addEventListener("pointermove",b,!0),addEventListener("pointerup",p,!0))},b=function(n){var r=n.pageY,t=n.clientY;null!==e&&Math.abs(r-e)>10&&(u(n),function(e){var n,r=a(e),t=r.next,o=r.previous;if(c(),null!==t)null===(n=document.querySelector("[data-".concat(s,'="').concat(t,'"]')))||void 0===n||n.classList.add("show-before");else if(o){var i;null===(i=document.querySelector("[data-".concat(s,'="').concat(o,'"]')))||void 0===i||i.classList.add("show-after")}}(r),m(t))},p=function(r){if(l&&void 0!==n){var s=r.pageY,o=a(s),i=o.next,u=o.previous;l(n,i,u),m(null),c(),d(),e=null,t=[]}};return o.addEventListener("pointerdown",f),function(){o.removeEventListener("pointerdown",f),d()}}}),[n,r,s,h,u,l,m])}},65538:function(e,n,r){r.d(n,{$:function(){return o},z:function(){return s.zt}});var t=r(54924),s=r(14416),o=(0,t.S)()}}]);
