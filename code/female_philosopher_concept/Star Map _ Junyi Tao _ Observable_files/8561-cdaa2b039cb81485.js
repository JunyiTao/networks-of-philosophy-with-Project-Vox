"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8561],{82469:function(e,n,a){var r=a(85893),t=a(15295);n.Z=function(e){var n=e.children,a=e.singleScreen,i=void 0!==a&&a;return(0,r.jsxs)("div",{className:"w-100 mw-max-width ph4-l ph3 center ".concat(i?"flex flex-column":""),style:i?{minHeight:"calc(100vh - 8rem)"}:{},children:[(0,r.jsx)("div",{className:i?"flex-grow-1":"",style:i?{}:{minHeight:"calc(100vh - 24rem)"},children:n}),(0,r.jsx)(t.$,{minimal:i})]})}},20882:function(e,n,a){a.d(n,{Y:function(){return u}});var r=a(85893),t=a(11233),i=a(602),c=a(44754),s=a(67294);function l(e,n){(null==n||n>e.length)&&(n=e.length);for(var a=0,r=new Array(n);a<n;a++)r[a]=e[a];return r}function o(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var a=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,t,i=[],c=!0,s=!1;try{for(a=a.call(e);!(c=(r=a.next()).done)&&(i.push(r.value),!n||i.length!==n);c=!0);}catch(l){s=!0,t=l}finally{try{c||null==a.return||a.return()}finally{if(s)throw t}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return l(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return l(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var d=/^[a-z\d](?:[a-z\d]|-(?=[a-z\d])){0,38}$/,u=function(e){var n=e.title,a=e.name,l=e.placeholder,u=e.initialLogin,m=e.serverError,p=e.autoFocus,f=e.onLoginChange,h=e.onLoginValid,b=(0,s.useRef)(),y=o((0,c.G)(u||"",200),3),v=y[0],x=y[1],g=y[2],j=(0,s.useState)("empty"),N=j[0],w=j[1],k=o((0,i.h_)(g?"/users-exist?login=".concat(g.toLocaleLowerCase()):null),1)[0];return(0,s.useEffect)((function(){var e=g.toLowerCase();if(e)if(e.match(d)){if(k){var n=o(k,1),a=o(n[0],2)[1];w(!0===a||"unavailable"===a?"conflict":"valid")}}else w("invalid");else w("empty")}),[g,w,k]),(0,s.useEffect)((function(){var e=g.toLowerCase();e&&e===b.current&&h("valid"===N)}),[N,g,h]),(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:"flex mt4 flex-column items-stretch",children:[(0,r.jsx)("label",{className:"pb2 f5 fw5 dark-gray",htmlFor:"login",children:n}),(0,r.jsxs)("div",{className:"flex items-stretch br2 ba ".concat(m||"invalid"===N||"conflict"===N?"b--dark-pink":"b--black-10"),children:[(0,r.jsx)("div",{className:"pa2 pr0 pr1 dark-gray bg-near-white br b--black-10 br2 br--left",onClick:function(){document.querySelector("#login").focus()},children:"observablehq.com/@"}),(0,r.jsx)(t.Z,{id:"login",name:"login",autoComplete:"off",maxLength:255,autoFocus:p,className:"pa2 black flex-auto bn",style:{boxShadow:"none"},onChange:function(e){var n=e.target.value,a=n.toLowerCase();b.current=a,f(a),x(n)},value:v,placeholder:l})]}),(0,r.jsx)("div",{className:"h2",children:"LOGIN_CONFLICT"===m||"conflict"===N?(0,r.jsx)("div",{className:"mt1 f7 fw5 dark-pink",children:v===u?"This is your current ".concat(a,"."):"That ".concat(a," is already taken.")}):"LOGIN_INVALID"===m||"invalid"===N?(0,r.jsxs)("div",{className:"mt1 f7 fw5 dark-pink",children:["A ",a," can only include alphanumberic characters or single hyphens, can\u2019t start or end with a hyphen, and should be less than 40 characters long."]}):null})]})})}},8423:function(e,n,a){a.d(n,{q:function(){return r},X:function(){return t}});var r=function(e){return e.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2})},t=function(e){return e.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:2})}},98153:function(e,n,a){a.d(n,{$3:function(){return r},Uz:function(){return t},Ao:function(){return i},F0:function(){return c},j3:function(){return s}});var r={monthly:15,yearly:12,enterprise_monthly:40,enterprise_yearly:40};function t(e,n){var a=e.endsWith("ly")?e:"".concat(e,"ly");return"basic"===n?a:"enterprise_".concat(a)}var i={yearly:"Teams (Yearly)",monthly:"Teams (Monthly)",enterprise_yearly:"Enterprise (Yearly)",enterprise_monthly:"Enterprise (Monthly)"},c=function(e){return"enterprise_yearly"===e||"enterprise_monthly"===e};function s(e,n){var a=r[e];if(!c(e))return a*n;var t=0;return n>25&&(t+=40*(Math.min(n,75)-25)),n>75&&(t+=15*(n-75)),1e3+t}},30099:function(e,n,a){a.d(n,{A:function(){return t}});var r=a(97894);function t(){return(0,r.loadStripe)("pk_live_A5hiyxHhT8FK6EIWYFZMuHo8")}r.loadStripe.setLoadParameters({advancedFraudSignals:!1})},38561:function(e,n,a){a.r(n),a.d(n,{NEW_TEAM_PARAMS_KEY:function(){return V},__N_SSP:function(){return R},default:function(){return Y}});var r=a(34051),t=a.n(r),i=a(85893),c=a(82469),s=a(6204),l=a(34351),o=a(65988),d=a.n(o),u=a(37497),m=a(11233),p=a(33090),f=a(17905),h=a(23869),b=a(20882),y=a(602),v=a(12447),x=a(8423),g=a(98153),j=a(30099),N=a(67294);function w(e,n){return e.tiers.includes(n)}var k=function(e){var n=e.tier,a=e.interval,r=e.selected,t=e.setSelected,c=e.label,s=e.headnote,l=e.bulletPoints,o=e.footnote,d=(0,x.X)(g.$3[(0,g.Uz)(a,n)]);return(0,i.jsxs)("button",{onClick:function(){return t(n)},className:"bg-white pa3 ba br3 pointer flex ".concat(r===n?"b--blue":"b--silver"),style:r===n?{boxShadow:"0px 0px 0px 3px var(--faint-blue)",outline:"none"}:{outline:"none"},children:[(0,i.jsx)(p.E,{checked:r===n,readOnly:!0}),(0,i.jsxs)("div",{className:"tl flex flex-column",style:{gap:"10px"},children:[(0,i.jsx)("div",{className:"fw5",children:c}),(0,i.jsxs)("div",{className:"flex items-center mt2",children:[(0,i.jsx)("div",{className:"f2 mr2 serif",children:d}),(0,i.jsxs)("div",{className:"mid-gray",children:["per editor/month",o?"*":""]})]}),s?(0,i.jsx)("div",{className:"mid-gray",children:s}):(0,i.jsx)(i.Fragment,{}),l.map((function(e,a){return(0,i.jsxs)("div",{className:"mid-gray flex lh-copy",children:[(0,i.jsx)(h.Z,{className:"mr1 flex-none",style:{color:r===n?"var(--blue)":""}}),(0,i.jsx)("span",{children:e})]},a)})),o?(0,i.jsxs)("div",{className:"gray mt3",children:["* ",o]}):(0,i.jsx)(i.Fragment,{})]})]})},S=function(e){var n=e.interval,a=e.selected,r=e.setSelected,t=e.tier,c=e.label;return(0,i.jsxs)("button",{className:"flex b--none bg-white pointer flex items-center ph0",onClick:function(){return r(n)},children:[(0,i.jsx)(p.E,{className:"pv1",checked:a===n,readOnly:!0}),(0,i.jsxs)("div",{className:"dib flex items-center",children:[c,"basic"===t&&"yearly"===n&&(0,i.jsx)("span",{className:"bg-washed-green pa1 green ml1 f7 br2",children:"20% discount"})]})]})};var _=function(e){var n=e.coupon,a=e.loginValid,r=e.setLoginValid,t=e.currentUser.email,c=(0,N.useState)(""),s=c[0],l=c[1],o=(0,N.useState)(),p=o[0],h=o[1],x=(0,N.useState)(""),g=x[0],_=x[1],C=(0,N.useState)("basic"),F=C[0],L=C[1],E=(0,N.useState)("yearly"),O=E[0],T=E[1];return(0,i.jsxs)("div",{className:d().dynamic([["aa0d74c7120ab28b",[v.pp]]])+" mw6-ns center-ns ph0-ns ph2 pt3 pb5 mt5-ns",children:[(0,i.jsx)("h1",{className:d().dynamic([["aa0d74c7120ab28b",[v.pp]]])+" ma0 f3 fw7 near-black",children:"Create your team"}),(0,i.jsxs)("div",{className:d().dynamic([["aa0d74c7120ab28b",[v.pp]]])+" pv2 mt1 mb4 f5 dark-gray lh-copy",children:["Team accounts include unlimited public and private team notebooks, multiplayer editing, shared secrets and database connections, unlimited free viewers and email support."," ",(0,i.jsxs)("a",{href:"/@observablehq/getting-started-with-teams",target:"_blank",rel:"noopener noreferrer",className:d().dynamic([["aa0d74c7120ab28b",[v.pp]]])+" inline-flex light-blue hover-blue items-center lh-solid link",children:["Learn more",(0,i.jsx)(f.Z,{})]})]}),(0,i.jsx)("div",{className:d().dynamic([["aa0d74c7120ab28b",[v.pp]]])+" flex-ns mt0 mb2 justify-between items-start items-stretch dark-gray",children:(0,i.jsxs)("div",{className:d().dynamic([["aa0d74c7120ab28b",[v.pp]]])+" mr4-ns flex-auto",children:[(0,i.jsx)("div",{className:d().dynamic([["aa0d74c7120ab28b",[v.pp]]])+" mb2",children:(0,i.jsx)("label",{htmlFor:"name",className:d().dynamic([["aa0d74c7120ab28b",[v.pp]]])+" f5 fw5 dark-gray",children:"Team name"})}),(0,i.jsx)("div",{className:d().dynamic([["aa0d74c7120ab28b",[v.pp]]])+" flex items-stretch",children:(0,i.jsx)(m.Z,{id:"name",name:"name",maxLength:255,autoFocus:!0,className:"flex-auto",onChange:function(e){return _(e.target.value)},value:g,placeholder:"Enter a name for your team"})}),(0,i.jsx)(b.Y,{title:"Team URL",name:"team URL",placeholder:"Enter a URL for your team",autoFocus:!1,serverError:p,onLoginChange:function(e){l(e),0===e.length&&r(!1),h(void 0)},onLoginValid:r}),(0,i.jsxs)("div",{className:d().dynamic([["aa0d74c7120ab28b",[v.pp]]])+" mt3",children:[(0,i.jsx)("div",{className:d().dynamic([["aa0d74c7120ab28b",[v.pp]]])+" pb2 f5 fw5",children:"Tier"}),(0,i.jsxs)("div",{className:d().dynamic([["aa0d74c7120ab28b",[v.pp]]])+" dark-gray pb3",children:["For a full comparison of features, see"," ",(0,i.jsxs)("a",{href:"/pricing",target:"_blank",rel:"noopener noreferrer",className:d().dynamic([["aa0d74c7120ab28b",[v.pp]]])+" inline-flex f6 fw5 light-blue hover-blue items-center lh-solid link",children:["our pricing page",(0,i.jsx)(f.Z,{})]})]}),(0,i.jsxs)("div",{className:d().dynamic([["aa0d74c7120ab28b",[v.pp]]])+" mb4 price-grid",children:[(0,i.jsx)(k,{tier:"basic",interval:O,selected:F,setSelected:L,label:"Teams",bulletPoints:["Private collaborative workspace","Unlimited editors per notebook","Unlimited free team viewers"]}),(0,i.jsx)(k,{tier:"enterprise",interval:O,selected:F,setSelected:L,label:"Enterprise",headnote:"Everything in Teams, plus:",bulletPoints:["Advanced security and authentication","Dedicated support","Onboarding help"],footnote:"25 editor minimum"})]}),(0,i.jsx)("div",{className:d().dynamic([["aa0d74c7120ab28b",[v.pp]]])+" pt3 pb2 f5 fw5",children:"Billing cycle"}),"enterprise"===F&&(0,i.jsx)("div",{className:d().dynamic([["aa0d74c7120ab28b",[v.pp]]])+" mb2 lh-copy",children:"Pick monthly billing if your team size will fluctuate throughout the year. Pick yearly billing if you\u2019d prefer a fixed, budgeted plan."}),(0,i.jsx)(S,{interval:"yearly",selected:O,setSelected:T,tier:F,label:"Pay yearly"}),(0,i.jsx)(S,{interval:"monthly",selected:O,setSelected:T,tier:F,label:"Pay monthly"}),(0,i.jsxs)("div",{className:d().dynamic([["aa0d74c7120ab28b",[v.pp]]])+" gray f7 mt3",children:["enterprise"===F&&"Starting at $40/month per editor. ","All dollar amounts are in USD."]})]}),(0,i.jsx)("div",{className:d().dynamic([["aa0d74c7120ab28b",[v.pp]]])+" pt3 pb2 f5 fw5 mt4",children:"One month free trial"}),(0,i.jsx)("div",{className:d().dynamic([["aa0d74c7120ab28b",[v.pp]]])+" dark-gray lh-copy",children:"Your first 30 days are free. You can cancel at any point during that time without being charged."}),n&&w(n,F)?(0,i.jsxs)("div",{className:d().dynamic([["aa0d74c7120ab28b",[v.pp]]])+" mt4",children:[(0,i.jsx)("span",{className:d().dynamic([["aa0d74c7120ab28b",[v.pp]]])+" pb2 fw5 dark-gray lh-copy",children:(0,i.jsxs)("strong",{className:d().dynamic([["aa0d74c7120ab28b",[v.pp]]]),children:[(0,i.jsx)("span",{role:"img","aria-label":"heart",className:d().dynamic([["aa0d74c7120ab28b",[v.pp]]]),children:"\ud83d\udc96"})," ","Coupon:"," "]})}),(0,i.jsxs)("span",{className:d().dynamic([["aa0d74c7120ab28b",[v.pp]]]),children:[n.name," (",n.percent_off,"% off)"]})]}):null,(0,i.jsx)("div",{className:d().dynamic([["aa0d74c7120ab28b",[v.pp]]])+" mt4",children:(0,i.jsx)(u.KM,{disabled:!a,onClick:function(){var e,a,r={action:"newsubscription",email:t,success_url:"https://observablehq.com".concat("/team/new?session_id={CHECKOUT_SESSION_ID}&login=".concat(s,"&name=").concat(encodeURIComponent(g))),cancel_url:"https://observablehq.com".concat("/team/new",n?"?coupon=".concat(n):""),cycle:(e=F,a=O,"enterprise"===e?"monthly"===a?"enterprise_monthly":"enterprise_yearly":"monthly"===a?"monthly":"yearly")};n&&w(n,F)&&(r.discounts=[{coupon:n.id}]),(0,y.Fv)("/team/session",r).then((function(e){(0,j.A)().then((function(n){return n.redirectToCheckout({sessionId:e.id})}))}))},text:"Add payment details"})})]})}),(0,i.jsx)(d(),{id:"aa0d74c7120ab28b",dynamic:[v.pp],children:".price-grid.__jsx-style-dynamic-selector{display:grid;\ngrid-gap:10px 10px;\n-webkit-align-items:stretch;\n-webkit-box-align:stretch;\n-ms-flex-align:stretch;\nalign-items:stretch}\n@media screen and (max-width:30em) {.price-grid.__jsx-style-dynamic-selector{grid-template-columns:repeat(1, 1fr)}}\n@media ".concat(v.pp," {.price-grid.__jsx-style-dynamic-selector{grid-template-columns:repeat(2, 1fr)}}")})]})},C=a(95689),F=a(65878),L=a(19671),E=a(37724),O=a(9008),T=a(11163),U=a(40042),P=a(98843),A=a(97559);function I(e,n,a,r,t,i,c){try{var s=e[i](c),l=s.value}catch(o){return void a(o)}s.done?n(l):Promise.resolve(l).then(r,t)}function D(e){return function(){var n=this,a=arguments;return new Promise((function(r,t){var i=e.apply(n,a);function c(e){I(i,r,t,c,s,"next",e)}function s(e){I(i,r,t,c,s,"throw",e)}c(void 0)}))}}function Z(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function M(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{},r=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),r.forEach((function(n){Z(e,n,a[n])}))}return e}var R=!0,V="newTeam",Y=(0,F.Z)((function(e){var n=(0,A.M)(P.f,e);return(0,i.jsx)(U.z,{store:n,children:(0,i.jsx)(z,M({},e))})})),z=(0,U.$)((function(e){return{currentUser:e.currentUser}}),(function(e){return{dispatch:e}}))((function(e){var n=e.currentUser,a=e.coupon,r=e.stripeToken,o=void 0===r?null:r,d=e.login,u=e.name,m=e.dispatch,p=(0,T.useRouter)(),f=(0,N.useState)(!1),h=f[0],b=f[1],v=(0,N.useState)(o),x=v[0],g=v[1];function j(){return(j=D(t().mark((function e(a,r,i){var c,s,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,y.Fv)("/team/new",{login:r,name:i,stripe_token:a});case 3:if(c=e.sent,(0,L.MR)((0,L.gv)({type:"team:manage:create",data:{},eventVersion:2,currentUser:n,team:c})),ga("send","event","Conversions","Team creation"),s=E.y.getItem(V),E.y.removeItem(V),!s){e.next=32;break}if(!(l=JSON.parse(s)).notebookId){e.next=21;break}return e.prev=11,e.next=14,(0,y.Fv)("/document/".concat(l.notebookId,"/transfer"),{user:c.id});case 14:return e.next=16,(0,y.Fv)("/document/".concat(l.notebookId,"/roles"),{roles:[{user_id:c.id,role:"editor"}],invitations:[]});case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(11),console.error("transfer failed",e.t0);case 21:if(!l.members){e.next=30;break}return e.prev=22,e.next=25,Promise.all(l.members.map((function(e){return(0,y.Fv)("/team/".concat(c.id,"/invite"),e)})));case 25:e.next=30;break;case 27:e.prev=27,e.t1=e.catch(22),console.error("new team invitation failed",e.t1);case 30:return p.replace("/@".concat(c.login)),e.abrupt("return");case 32:p.replace("/team/@".concat(c.login,"/settings")),e.next=41;break;case 35:e.prev=35,e.t2=e.catch(0),console.error(e.t2),m({type:"showErrorToast",message:"Oops, team creation failed. Please try again.",key:"newTeam"}),b(!1),g(null);case 41:case"end":return e.stop()}}),e,null,[[0,35],[11,18],[22,27]])})))).apply(this,arguments)}return(0,N.useEffect)((function(){o&&function(e,n,a){j.apply(this,arguments)}(o,d,u)}),[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(O.default,{children:(0,i.jsx)("title",{children:"Create your team / Observable"})}),(0,i.jsx)(l.Z,{}),(0,i.jsx)(s.Z,{}),(0,i.jsxs)(c.Z,{children:[x?(0,i.jsx)("div",{className:"mw6 center mt5",children:(0,i.jsx)("p",{className:"f4 fw7 black-70 lh-copy",children:"Creating team\u2026"})}):(0,i.jsx)(_,{coupon:a,loginValid:h,setLoginValid:b,currentUser:n}),(0,i.jsx)(C.F1,{})]})]})}))}}]);
