(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9898],{17993:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[at]/[...specifiers]",function(){return n(85646)}])},88188:function(e,t,n){"use strict";var r=n(85893);n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.Z=function(e){return(0,r.jsxs)("svg",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2"},e,{children:[(0,r.jsx)("path",{d:"M3 15V1",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M13 15V1",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M15 3L1 3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M15 13L1 13",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("line",{x1:"5",y1:"10",x2:"10",y2:"10"}),(0,r.jsx)("line",{x1:"5",y1:"7",x2:"9",y2:"7"})]}))}},5675:function(e,t,n){"use strict";n.d(t,{z:function(){return a}});var r=n(85893),o=n(8433),i=n(66421),s=n(36448),c=n(93452),a=function(e){var t=e.notebook,n=e.dispatch;return(0,r.jsx)(c.On,{title:"Notebook is in the trash",icon:o.Z,description:"Notebooks can\u2019t be edited from the trash. ".concat((0,i.rY)(t)?" To edit this notebook, first put it back from the trash.":" Only team owners can remove published or shared notebooks from the trash."),onCancel:function(){history.length>2?history.back():location.replace((0,s.GN)(t.owner))},cancelText:(0,i.rY)(t)?"Leave in trash":"Back",onConfirm:function(){n({type:"trashRequested",trashed:!1})},confirmText:"Move out of trash",isConfirming:t.isUpdatingTrash})}},77419:function(e,t,n){"use strict";n.d(t,{bd:function(){return p},p1:function(){return b},wd:function(){return g}});var r=n(34051),o=n.n(r),i=n(85893),s=n(10198),c=n(27193),a=n(88725),l=n(72760),u=n(25655),d=o().mark(v),m=512,h=new Set(["Paragraph","ATXHeading2","ATXHeading3","ATXHeading4","ATXHeading5"]),f=new Set(["EmphasisMark","LinkMark","LinkLabel","URL","HeaderMark"]),p=function(e){var t=e.notebook,n=t.model,r=t.thumbnail,o=t.saveTime,s=t.publishTime,d=(0,c.Ui)(n),h=function(e){var t="",n=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var c=i.value,a=(0,l.Qc)(c),u=a.body,d=a.tag;if(u){var h,f,p="TemplateLiteral"===u.type&&"md"===(null===d||void 0===d?void 0:d.input)?u.quasis:"TaggedTemplateExpression"===u.type&&"md"===(null===(h=u.tag)||void 0===h?void 0:h.name)?null===(f=u.quasi)||void 0===f?void 0:f.quasis:null,b=null===p||void 0===p?void 0:p.map((function(e){return e.value.raw})).join(" "),g=!0,x=!1,y=void 0;try{for(var k,w=v(b)[Symbol.iterator]();!(g=(k=w.next()).done);g=!0){if((t+=j(k.value)+" ").length>m)return t.slice(0,m).trim()}}catch(S){x=!0,y=S}finally{try{g||null==w.return||w.return()}finally{if(x)throw y}}}}}catch(S){r=!0,o=S}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return t.trim()||null}(n.nodes),f=t.authors.length?t.authors:[t.owner],p=(0,a.UW)(t);return(0,i.jsxs)(i.Fragment,{children:[(0,u.cg)(t)?(0,i.jsx)("meta",{name:"robots",content:"noindex"}):null,(0,i.jsx)("meta",{property:"og:type",content:"article"}),(0,i.jsx)("meta",{property:"og:url",content:"".concat("https://observablehq.com").concat(p)}),(0,i.jsx)("meta",{property:"og:site_name",content:"Observable"}),(0,i.jsx)("meta",{name:"twitter:site",content:"@observablehq"}),(0,i.jsx)("meta",{name:"title",content:d}),(0,i.jsx)("meta",{property:"og:title",content:d}),h&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("meta",{name:"description",content:h}),(0,i.jsx)("meta",{property:"og:description",content:h})]}),r&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("meta",{property:"og:image",content:(0,a.Nl)(r)}),(0,i.jsx)("meta",{name:"twitter:card",content:"summary_large_image"})]}),(0,i.jsx)("meta",{name:"author",content:f.map((function(e){return(0,c.KY)(e)})).join(", ")}),f.map((function(e){return(0,i.jsx)("meta",{name:"article:author",content:"".concat("https://observablehq.com","/@").concat(e.login)},e.login)})),s&&(0,i.jsx)("meta",{property:"article:published_time",content:s.toISOString()}),(0,i.jsx)("meta",{property:"article:modified_time",content:o.toISOString()})]})},b=function(e){var t=e.collection,n=t.description,r=t.thumbnail,o=t.owner,s=t.owner.login,l=t.slug,u=t.update_time,d=(0,c.Ui)(t);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("meta",{property:"og:type",content:"article"}),(0,i.jsx)("meta",{property:"og:url",content:"".concat("https://observablehq.com","/collection/@").concat(s,"/").concat(l)}),(0,i.jsx)("meta",{property:"og:site_name",content:"Observable"}),(0,i.jsx)("meta",{name:"twitter:site",content:"@observablehq"}),(0,i.jsx)("meta",{name:"title",content:d}),(0,i.jsx)("meta",{property:"og:title",content:d}),n&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("meta",{name:"description",content:n}),(0,i.jsx)("meta",{property:"og:description",content:n})]}),r&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("meta",{property:"og:image",content:(0,a.Nl)(r)}),(0,i.jsx)("meta",{name:"twitter:card",content:"summary_large_image"})]}),(0,i.jsx)("meta",{name:"author",content:(0,c.KY)(o)}),(0,i.jsx)("meta",{name:"article:author",content:"".concat("https://observablehq.com","/@").concat(s)}),(0,i.jsx)("meta",{property:"article:modified_time",content:u.toISOString()})]})},g=function(e){var t=e.user,n=t.avatar_url,r=t.bio,o=t.login,s=(0,c.KY)(t),a="Recent notebooks by ".concat(s);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("meta",{property:"og:type",content:"profile"}),(0,i.jsx)("meta",{property:"og:url",content:"".concat("https://observablehq.com","/@").concat(o)}),(0,i.jsx)("meta",{property:"og:site_name",content:"Observable"}),(0,i.jsx)("meta",{name:"twitter:site",content:"@observablehq"}),(0,i.jsx)("meta",{name:"title",content:a}),(0,i.jsx)("meta",{property:"og:title",content:a}),(0,i.jsx)("meta",{property:"description",content:r}),(0,i.jsx)("meta",{property:"og:description",content:r}),n&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("meta",{property:"og:image",content:n}),(0,i.jsx)("meta",{name:"twitter:card",content:"summary"})]}),(0,i.jsx)("meta",{property:"profile:last_name",content:s}),(0,i.jsx)("meta",{property:"profile:username",content:o})]})};function x(e){for(var t,n=s.E2.startParse(e);!(t=n.advance()););return t}function v(e){var t;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return");case 2:t=x(e).cursor();case 3:if(!t.next()){n.next=9;break}if(!h.has(t.name)){n.next=7;break}return n.next=7,e.slice(t.from,t.to);case 7:n.next=3;break;case 9:case"end":return n.stop()}}),d)}function j(e){var t=e,n=x(e).cursor();for(n.lastChild();n.prev();)f.has(n.name)&&(t=t.slice(0,n.from)+t.slice(n.to));return t.trim()}},85646:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return Qt},default:function(){return Jt}});var r=n(85893),o=n(62806),i=n(82029),s=n(33724),c=n(87),a=n(31115),l=n(67294);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,c=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(a){c=!0,o=a}finally{try{s||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var m=n(12447),h=n(74080),f=n(19671),p=n(27193),b=n(88725),g=n(8802),x=n(25655),v=n(9008),j=n(11163),y=n(4242),k=n(23342),w=n(97559),S=n(65988),O=n.n(S),N=n(42019),L=n(602),C=n(70915),P=n(65062),U=n(41664),T=n(37497),F=n(17905),_=n(74878),E=n(23869),Z=n(54329),A=n(89905);function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,c=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(a){c=!0,o=a}finally{try{s||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var q=function(e){var t=e.notebook,n=e.collection,o=e.currentUser,i=e.formatTitleInCollection,s=(0,l.useState)(!1),c=s[0],a=s[1],u=R((0,L.h_)(c?"/collection/@".concat(n.owner.login,"/").concat(n.slug):null),1)[0],d=u?u.listings:[];return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-start mt3",children:[(0,r.jsx)(T.hU,{colorless:!0,icon:_.Z,onClick:function(){a(!c)},className:"align-start mh2",style:c?{transform:"rotate(90deg)",padding:0}:{padding:0}}),(0,r.jsx)(U.default,{href:(0,C.WG)(n),children:(0,r.jsxs)("a",{className:"flex no-underline mid-gray hover-blue db pr2",onClick:function(){(0,f.MR)((0,f.a$)({type:"collectionRequested",data:{trigger:"click",source:"collectionsSidebar"},eventVersion:1,currentUser:o}))},children:[(0,r.jsx)("div",{className:"break-word",title:(0,p.Ui)(n),children:i(n)}),(0,r.jsxs)("span",{className:"mh1",children:[" (",n.listing_count,") "]}),(0,r.jsx)(F.Z,{className:"flex-shrink-0"})]})})]}),c?d.map((function(e,o){return(0,r.jsx)(l.Fragment,{children:"collection"===e.listing_type?(0,r.jsx)(U.default,{href:(0,C.WG)(e),children:(0,r.jsxs)("a",{className:"flex items-top no-underline mid-gray hover-blue ml4 pl2 mt3 db pr1",children:[(0,r.jsx)("div",{className:"break-word",title:(0,p.Ui)(e),children:i(e)}),(0,r.jsxs)("span",{className:"mh1 align-start",children:["(",e.listing_count,")"]}),(0,r.jsx)(F.Z,{className:"flex-shrink-0"})]})}):e.id===t.id?(0,r.jsxs)("div",{className:"flex near-black items-center mt3 ml2 near-black",children:[(0,r.jsx)(E.Z,{className:"pa2"}),(0,r.jsx)("span",{className:"break-word",children:i(e)})]}):(0,r.jsx)(U.default,{href:"".concat((0,b.Bi)(e),"?collection=@").concat(n.owner.login,"/").concat(n.slug),children:(0,r.jsx)("a",{className:"no-underline mid-gray hover-blue ml4 pl2 mt3 db pr2",title:(0,p.Ui)(e),children:(0,r.jsx)("div",{className:"break-word",children:i(e)})})})},o)})):null]})},V=function(e){var t=e.notebook,n=e.currentCollection,o=e.currentUser,i=t.collections;return i.length>1?(0,r.jsxs)("div",{className:"ph2 mt3 bt b--silver",children:[(0,r.jsx)("div",{className:"ph2 mt3 near-black",children:"Also listed in\u2026"}),i.map((function(e){return e.id!==n.id&&(0,r.jsx)(U.default,{href:"".concat((0,b.Bi)(t),"?collection=@").concat(e.owner.login,"/").concat(e.slug),children:(0,r.jsx)("a",{className:"no-underline hover-blue",onClick:function(){(0,f.MR)((0,f.ym)({type:"notebook:view:changeCurrentCollection",data:{trigger:"click",source:"collectionsSidebar"},eventVersion:1,notebook:t,currentUser:o}))},children:(0,r.jsxs)("div",{className:"flex items-start ph2 mv3",children:[(0,r.jsx)(Z.Z,{className:"mr2 flex-shrink-0",style:{marginTop:1}}),(0,r.jsx)("div",{title:(0,p.Ui)(e),className:"mr1 f6 fw5 lh-title break-word",children:(0,p.Ui)(e)})]})})},e.id)}))]}):null},D=(0,y.$j)((function(e){return{notebook:e.notebook,currentUser:e.currentUser}}),(function(e){return{dispatch:e}}))((function(e){var t=e.notebook,n=e.currentUser,o=e.dispatch,i=(0,N.h)(t),s=function(e){var t=(0,p.go)((0,p.Ui)(e)),n=new RegExp("(?:^".concat(t,"\\s*[-:/])|(?:[-:/]\\s*").concat(t,"$)"));return function(e){var t=(0,p.Ui)(e);return t.replace(n,"").trim()||t}}(i),c=R((0,L.h_)("/collection/@".concat(i.owner.login,"/").concat(i.slug),{fallbackData:t.initialCollection}),1)[0],a=c?c.listings:[];return(0,r.jsxs)("div",{className:O().dynamic([["c9f199d64d625bcd",[m.pp,P.Lv+15,P.Lv]]])+" fixed self-start bg-near-white overflow-y-auto pane z-1 br3 br--right",children:[(0,r.jsxs)("div",{className:O().dynamic([["c9f199d64d625bcd",[m.pp,P.Lv+15,P.Lv]]])+" pv3",children:[(0,r.jsxs)("div",{className:O().dynamic([["c9f199d64d625bcd",[m.pp,P.Lv+15,P.Lv]]])+" flex justify-between items-start ph2 mb1",children:[(0,r.jsx)("div",{className:O().dynamic([["c9f199d64d625bcd",[m.pp,P.Lv+15,P.Lv]]])+" flex items-start ",children:(0,r.jsx)(U.default,{href:(0,C.WG)(i),children:(0,r.jsxs)("a",{onClick:function(){(0,f.MR)((0,f.a$)({type:"collectionRequested",data:{trigger:"click",source:"collectionsSidebar"},eventVersion:1,currentUser:n}))},className:O().dynamic([["c9f199d64d625bcd",[m.pp,P.Lv+15,P.Lv]]])+" flex no-underline hover-blue pv2 db near-black items-start",children:[(0,r.jsx)(Z.Z,{className:"flex-shrink-0 mr2"}),(0,r.jsx)("span",{style:{marginTop:-2},className:O().dynamic([["c9f199d64d625bcd",[m.pp,P.Lv+15,P.Lv]]])+" f5 lh-title fw6 mr1 break-word",children:(0,p.Ui)(i)}),(0,r.jsx)(F.Z,{className:"flex-shrink-0"})]})})}),(0,r.jsx)(T.hU,{colorless:!0,icon:A.Z,onClick:function(){return o({type:"toggleCollectionsPane"})}})]}),(0,r.jsx)("div",{className:O().dynamic([["c9f199d64d625bcd",[m.pp,P.Lv+15,P.Lv]]]),children:a.map((function(e,o){return(0,r.jsx)(l.Fragment,{children:"collection"===e.listing_type?(0,r.jsx)(q,{collection:e,formatTitleInCollection:s,notebook:t,currentUser:n}):e.id===t.id?(0,r.jsxs)("div",{title:(0,p.Ui)(e),className:O().dynamic([["c9f199d64d625bcd",[m.pp,P.Lv+15,P.Lv]]])+" flex near-black mt3 near-black break-word",children:[(0,r.jsx)(E.Z,{className:"ph2 flex-shrink-0 self-start",style:{marginTop:1}}),(0,r.jsx)("div",{className:O().dynamic([["c9f199d64d625bcd",[m.pp,P.Lv+15,P.Lv]]])+" pr2",children:s(e)})]}):(0,r.jsx)(U.default,{href:"".concat((0,b.Bi)(e),"?collection=@").concat(i.owner.login,"/").concat(i.slug),children:(0,r.jsx)("a",{style:{marginLeft:16},onClick:function(){(0,f.MR)((0,f.a$)({type:"notebookRequested",data:{trigger:"click",source:"collectionsSidebar"},eventVersion:1,currentUser:n}))},title:(0,p.Ui)(e),className:O().dynamic([["c9f199d64d625bcd",[m.pp,P.Lv+15,P.Lv]]])+" no-underline mid-gray hover-blue mt3 pl3 pr2 db break-word",children:s(e)})})},o)}))})]}),(0,r.jsx)(V,{notebook:t,currentCollection:i,currentUser:n}),(0,r.jsx)(O(),{id:"c9f199d64d625bcd",dynamic:[m.pp,P.Lv+15,P.Lv],children:".pane.__jsx-style-dynamic-selector{bottom:0;\nleft:0;\nright:0;\ntop:0}\n@media ".concat(m.pp," {.pane.__jsx-style-dynamic-selector{top:").concat(P.Lv+15,"px;\nwidth:220px;\nmax-height:calc(100vh - 2 * ").concat(P.Lv,"px)}}")})]})})),I=n(15295),B=n(94717),X=n(34351),$=n(77419),H=n(95689),z=n(34236),W=n(23105),Y=n(21142);function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,c=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(a){c=!0,o=a}finally{try{s||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Q={bannerText:"Create interactive documents like this one.",buttonText:"Sign up for free",footerText:(0,r.jsxs)(r.Fragment,{children:["Learn new data visualization techniques. Perform complex data analysis."," ",(0,r.jsx)("br",{})," Publish your findings in a compelling document. All in the same tool."]})},J="@observablehq/featured-creators",ee=(0,y.$j)((function(e){var t=e.notebook;return{canShowBanner:null===t.focusId&&null===t.selectionFocusId&&0===t.selection.size}}),(function(e){return{dispatch:e}}))((function(e){var t=e.canShowBanner,n=e.dispatch,i=function(){n({type:"showModal",modal:"login",modalProps:{loginScreen:"signup"},trigger:"click",source:"welcomeMat"})},s=(0,l.useState)(t),c=s[0],a=s[1];(0,l.useEffect)((function(){c&&document.cookie.split("; ").includes("dismissedWelcomeBanner=true")&&a(!1)}),[c]),(0,l.useEffect)((function(){c&&!t&&a(!1)}),[c,t]);var u=(0,l.useRef)(null),d=(0,z.E)(u,{defaultValue:!0}),h=(0,m.GS)(m.ro),f=!(0,m.GS)(m.hs)?4:8,p=!0,b=new Array(f).fill(null);try{var g=K((0,L.h_)("/collection/".concat(J,"?with_listings=false")),1)[0];g&&0===(b=g.listings.filter((function(e){return"notebook_reader"===e.type}))).length&&(p=!1)}catch(v){p=!1,console.error("/collection/".concat(J," failed to load."))}var x=b.map((function(e){return null!==e?(0,o.H)(e):null}));return(0,r.jsxs)(r.Fragment,{children:[c&&(0,r.jsx)("div",{className:"fixed bottom-0 w-100 z-1",children:(0,r.jsx)("div",{className:"flex absolute left-0 right-0 f6 fw6 white bg-observable-navy z-2 items-center","data-cy":"welcome-mat-banner",style:{transition:"transform 0.1s",transform:d?"translateY(0)":"translateY(-100%)"},children:(0,r.jsxs)("div",{className:"".concat("w-100 mw-page ph4-ns ph3 center"," pv2 flex items-center"),children:[(0,r.jsx)("span",{className:"mr3 lh-copy",children:Q.bannerText}),(0,r.jsx)("div",{className:"flex-grow-1",children:(0,r.jsx)("button",{className:"pa2 f6 fw6 nowrap white br2 pointer bn bg-observable-blue-light",onClick:i,children:Q.buttonText})}),(0,r.jsx)("button",{className:"flex ph3 nr3 moon-gray hover-white items-center self-stretch bg-transparent bn pointer","aria-label":"Close welcome message",onClick:function(){a(!1),n({type:"dismissWelcomeMatBanner"});var e=new Date(Date.now()+864e5).toUTCString();document.cookie="dismissedWelcomeBanner=true; Expires=".concat(e,"; Path=/")},children:(0,r.jsx)(A.Z,{className:"w1 h1"})})]})})}),(0,r.jsxs)("div",{ref:u,children:[(0,r.jsx)("div",{className:"flex mt6 pa4 serif tc white items-center justify-center bg-observable-navy","data-cy":"welcome-mat-footer",style:{height:250},children:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"pb3 f4-ns f5 lh-copy",children:(0,r.jsx)("span",{children:Q.footerText})}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{className:"ph4 pv2 f6 fw6 white br2 pointer bn bg-observable-blue-light",onClick:i,children:Q.buttonText})})]})}),(0,r.jsxs)(Y.Z,{children:[p?(0,r.jsxs)("div",{className:"pv3",children:[(0,r.jsxs)("div",{className:"pv3 flex justify-between items-baseline",children:[(0,r.jsx)("div",{className:"truncate serif f4 fw7 near-black",children:h?"More from Observable":"More from Observable creators"}),x.length>f?(0,r.jsx)(U.default,{href:"/collection/".concat(J),children:(0,r.jsxs)("a",{className:"db flex mt2 ml2 f7 fw6 nowrap no-underline blue hover-lightest-blue items-center lh-f7",children:["View all ",(0,r.jsx)(F.Z,{})]})}):null]}),(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)("div",{className:"nb4 nr3 flex-auto",children:x.slice(0,f).map((function(e,t){return e?(0,r.jsx)("div",{className:"dib w-50-m w-25-l w-100 pr3 mb4",children:(0,r.jsx)(W.c1,{notebook:e,format:"grid",saveListingSelectionEvent:function(){n({type:"welcomeMatNotebookClick",clickedNotebookId:e.id})},dispatch:n,currentUser:null})},t):(0,r.jsx)("div",{className:"dib w-50-m w-25-l w-100 pr3 mb4",children:(0,r.jsx)(W.FS,{format:"grid"})},t)}))})})]}):null,(0,r.jsx)("div",{style:{marginTop:"-4rem"},children:(0,r.jsx)(I.$,{})})]})]})]})})),te=n(5675),ne=n(88184),re=n(5108),oe=n(31408),ie=n(66421),se=n(19702),ce=n(25091),ae=function(e){var t=e.dispatch,n=e.stuck,o=e.menuActionList;return(0,r.jsx)(se.jL,{bgColor:"bg-gold",onExit:function(){return t({type:"exitSafe"})},exitLabel:"Exit Safe Mode",stuck:n,menuActionList:o,children:(0,r.jsxs)(se.y,{icon:ce.Z,children:[(0,r.jsx)(se.TR,{children:"Safe mode enabled."})," ",(0,r.jsx)("span",{className:"dn di-ns",children:"Use this code-only view to fix issues that might crash or hang the normal editor."})]})})},le=n(62990),ue=n(36448),de=n(8433),me=l.memo((function(e){var t=e.suggestionFrom;return(0,r.jsxs)(se.y,{icon:de.Z,children:[(0,r.jsx)(se.TR,{className:"truncate",children:(0,ue.RX)(t.closer)})," ",(0,r.jsx)(se.EX,{children:"closed this suggestion to"})," ",(0,r.jsx)(se.TR,{className:"truncate",children:(0,p.Ui)(t.to_title)})," ",(0,r.jsxs)(se.EX,{children:["on ",(0,le.LN)(t.close_time),"."]})]})})),he=function(e){var t=e.dispatch,n=e.notebook,o=e.stuck,i=e.menuActionList;return(0,r.jsx)(se.jL,{bgColor:"bg-near-white",color:"black",stuck:o,menuActionList:i,onExit:function(){return t({type:"acknowledgeSuggestionClosed"})},exitLabel:"Dismiss this banner",children:(0,r.jsx)(me,{suggestionFrom:n.suggestionFrom})})},fe=n(71922),pe=l.memo((function(e){var t=e.suggestionFrom;return(0,r.jsxs)(se.y,{icon:fe.Z,children:[(0,r.jsx)(se.TR,{className:"truncate",children:(0,ue.RX)(t.closer)})," ",(0,r.jsx)(se.EX,{children:"merged this into"})," ",(0,r.jsx)(se.TR,{className:"truncate",children:(0,p.Ui)(t.to_title)})," ",(0,r.jsxs)(se.EX,{children:["on ",(0,le.LN)(t.close_time),"."]})]})})),be=function(e){var t=e.dispatch,n=e.notebook,o=e.stuck,i=e.menuActionList;return(0,r.jsx)(se.jL,{bgColor:"bg-near-white",color:"black",stuck:o,menuActionList:i,onExit:function(){return t({type:"acknowledgeSuggestionClosed"})},exitLabel:"Dismiss this banner",children:(0,r.jsx)(pe,{suggestionFrom:n.suggestionFrom})})},ge=n(51517),xe=n(15706),ve=n(84193),je=l.memo((function(e){var t=e.id,n=e.owner,o=e.targetUrl,i=e.notebookTitle,s=e.suggestionFrom,c=e.isClosingSuggestion,a=e.forkOf,l=e.dispatch;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(se.y,{icon:xe.v,children:[(0,r.jsx)(se.TR,{children:"Suggestion"})," ",(0,r.jsx)(se.EX,{children:"sent to"})," ",(0,r.jsx)(se.TR,{className:"truncate",children:(0,r.jsx)(ve.Z,{href:o,children:(0,r.jsxs)("a",{children:[i,s.description&&":"]})})}),s.description&&(0,r.jsxs)(se.EX,{title:s.description,fill:!0,children:[" ","\u201c",s.description,"\u201d"]})]}),(0,r.jsx)(se.N_,{icon:ge.Z,onClick:function(){return l({type:"loadCompare",base:{id:a.id,owner:a.owner},target:{id:t,owner:n},trigger:"click",source:"notebookContextMenu",loadType:"fork"})},children:"Compare"}),(0,r.jsx)(se.N_,{disabled:c,icon:de.Z,onClick:function(){l({type:"showModal",modal:"closeSuggestion",modalProps:{trigger:"click",source:"compareBanner"}})},children:"Close"})]})})),ye=function(e){var t=e.dispatch,n=e.notebook,o=e.stuck,i=e.menuActionList;return(0,r.jsx)(se.jL,{bgColor:"bg-near-white",color:"black",stuck:o,menuActionList:i,onExit:function(){return t({type:"dismissSuggestionOpenBanner"})},exitLabel:"Dismiss this banner for the remainder of this session",children:(0,r.jsx)(je,{id:n.id,owner:n.owner,targetUrl:(0,b.Bi)(n.forkOf),notebookTitle:(0,p.Ui)(n.model),suggestionFrom:n.suggestionFrom,isClosingSuggestion:n.isClosingSuggestion,forkOf:n.forkOf,dispatch:t})})},ke=n(76267),we=n(88188),Se=function(e){var t=e.dispatch,n=e.currentUser,o=e.notebook,i=e.stuck,s=e.menuActionList;return(0,r.jsxs)(se.jL,{bgColor:"bg--observable-light-green",stuck:i,menuActionList:s,children:[(0,r.jsx)(se.y,{icon:we.Z,children:(0,r.jsxs)(se.TR,{children:[(0,r.jsx)(ve.Z,{href:"/templates",children:(0,r.jsx)("a",{className:"no-underline",children:"Templates"})})," / ",(0,r.jsx)(se.EX,{className:"dib-ns dn fw4 white-80",children:(0,p.Ui)(o.model)})]})}),(0,ie.rk)(n,o)&&(0,h.YW)(o)&&(0,r.jsx)(se.N_,{disabled:o.isForking,icon:ke.Z,onClick:function(){return t({type:"forkRequested",trigger:"click",source:"templateBanner"})},children:"Fork to get started"})]})},Oe=n(9532),Ne=n(98768),Le=function(e){var t=e.dispatch,n=e.notebook,o=e.stuck,i=e.menuActionList;return(0,r.jsxs)(se.jL,{bgColor:"bg-blue",onExit:function(){return t({type:"enableAutosave"})},exitLabel:"Exit versioned mode",stuck:o,menuActionList:i,children:[(0,r.jsxs)(se.y,{icon:Oe.Z,children:[(0,r.jsxs)(se.TR,{children:["Showing",(0,x.tK)(n)?" latest version":" version ".concat(n.saveVersion),"."]})," ",(0,ie.i3)(n)&&(0,h.g)(n)&&(0,r.jsx)(se.EX,{children:"Changes will not be saved."})]}),(0,ie.i3)(n)&&(0,h.g)(n)&&(0,r.jsx)(se.N_,{icon:Ne.Z,onClick:function(){return t({type:"revertRequested",version:n.saveVersion,remote:!1})},children:"Revert"})]})},Ce=n(81685),Pe=function(e){var t=e.notebook,n=e.dispatch;return(0,ie.mG)(t)?{onSelect:function(){return n({type:"showModal",modal:"authors"})},children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Ce.Z,{className:"mr2 h1 w1"}),"Set authors\u2026"]})}:null},Ue=n(86384),Te=function(e){var t=e.notebook,n=e.dispatch;return(0,h.YE)(t)?{onSelect:function(){return n({type:"loadCompare",base:{id:t.forkOf.id,owner:t.forkOf.owner},target:{id:t.id,owner:t.owner},trigger:"click",source:"notebookContextMenu",loadType:"fork"})},children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ge.Z,{className:"mr2 h1 w1"}),"Compare fork"]})}:null},Fe=function(e){var t=e.notebook,n=e.dispatch;return(0,h.kh)(t)?{onSelect:function(e){return n({type:"loadCompare",base:{id:t.id,version:t.saveVersion,owner:t.owner},target:{id:t.id,owner:t.owner},trigger:"click",source:"notebookHeaderPromotedAction"===e?"notebookHeaderPromotedAction":"notebookContextMenu",loadType:"latest"})},disabled:(0,x.tK)(t),children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ge.Z,{className:"mr2 h1 w1"}),"Compare latest"]})}:null},_e=function(e){var t=e.notebook,n=e.dispatch;return(0,h.yj)(t)?{onSelect:function(){return n({type:"loadCompare",base:{id:t.id,version:t.publishVersion,owner:t.owner},target:{id:t.id,version:t.saveVersion,owner:t.owner},trigger:"click",source:"notebookContextMenu",loadType:"published"})},children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ge.Z,{className:"mr2 h1 w1"}),"Compare published"]})}:null},Ee=n(26825),Ze=function(e){var t=e.notebook,n=e.dispatch,o=t.id,i=t.slug,s=t.owner,c=t.saveVersion;return{as:"a",href:"".concat("https://api.observablehq.com","/").concat(i?"@".concat(s.login,"/").concat(i):"d/".concat(o),"@").concat(c,".tgz?v=3"),className:"flex items-center no-underline",onClick:(0,ie.pT)(t)?function(e){e.preventDefault(),n({type:"downloadCode",trigger:"click",source:"notebookContextMenu"})}:void 0,children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Ee.Z,{className:"mr2 h1 w1"})," Download code"]})}},Ae=n(64804),Me=function(e){var t=e.dispatch;return{onSelect:function(){t({type:"showModal",modal:"embed",modalProps:{},source:"notebookContextMenu"})},children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Ae.Z,{className:"mr2 h1 w1"}),"Embed cells"]})}},Re=n(43164),qe=n(96675),Ve=n(93797),De=function(e){var t=e.notebook,n=e.dispatch;return(0,ie.GL)(t)?{onSelect:function(){return n({type:"showModal",modal:"license"})},children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Ve.Z,{className:"mr2 h1 w1"}),"Set license\u2026"]})}:null},Ie=n(82162),Be=function(e){var t=e.notebook.like,n=e.currentUser,o=e.dispatch;return{onSelect:function(){return o({type:"like",trigger:"click",source:"notebookHeaderPromotedAction"})},tooltip:n?"".concat(t?"Unlike":"Like"," this notebook"):"Sign in to like this notebook",children:(0,r.jsx)($e,{like:t})}},Xe=function(e){var t=e.notebook.like,n=e.currentUser,o=e.dispatch;return n?{onSelect:function(){o({type:"like",trigger:"click",source:"notebookContextMenu"})},tooltip:"".concat(t?"Unlike":"Like"," this notebook"),children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Ie.Z,{className:"mr2 w1 h1"}),t?"Unlike":"Like"]})}:null},$e=function(e){var t=e.like,n=(0,l.useRef)(t),o=t&&!n.current;return n.current=t,(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Ie.Z,{className:o?"bump":"",color:t?"var(--dark-gray)":"inherit",fill:t?"var(--dark-gray)":"transparent"}),(0,r.jsx)(O(),{id:"6659368c4cbab750",children:"@keyframes bump {0% {transform:none}25% {transform:scale(1.5)}100% {transform:none}}\n.bump{-webkit-animation-duration:350ms;\nanimation-duration:350ms;\nanimation-fill-mode:forwards;\n-webkit-animation-name:bump;\nanimation-name:bump}"})]})},He=n(84749);function ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function We(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Ye=function(e){var t=e.title,n=We(e,["title"]);return(0,r.jsx)("svg",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ze(e,t,n[t])}))}return e}({width:"16",height:"16",fill:"none"},n,{children:(0,r.jsxs)("g",{transform:"translate(3, 2)",children:[t&&(0,r.jsx)("title",{children:t}),(0,r.jsx)("rect",{x:"0",y:"5",width:"10",height:"7",rx:"2",fill:"currentColor"}),(0,r.jsx)("path",{d:"M3.5 6.5V4c0-4-6-4-6 0v1.5",stroke:"currentColor",strokeWidth:"2"})]})}))},Ge=function(e){var t,n=e.notebook,o=e.dispatch;if(!(0,h.H7)(n)||!(0,h.GT)(n)||!(0,ie.PG)(n))return null;var i=null===(t=n.commentingLock)||void 0===t?void 0:t.user_locked;return{onSelect:function(){o({type:"updateCommentingLock",locked:!i})},children:i?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Ye,{className:"mr2 h1 w1"})," Unlock comments"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(He.Z,{className:"mr2 h1 w1"})," Lock comments"]})}},Ke=n(54098),Qe=n(83065),Je=function(e){var t=e.notebook,n=e.dispatch,o=t.saveVersion,i=t.autosave;return!(0,ie.i3)(t)||i?null:{onSelect:function(){return n({type:"revertRequested",version:o,remote:!1})},disabled:!(0,h.g)(t),children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Ne.Z,{className:"mr2 h1 w1"}),"Revert to v",o]})}},et=function(e){var t=e.notebook,n=e.dispatch,o=t.publishVersion,i=t.autosave;return(0,ie.i3)(t)&&!(0,x.ws)(t)&&i?{onSelect:function(){return n({type:"revertRequested",version:o,remote:!1})},disabled:!(0,h.E0)(t),children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Ne.Z,{className:"mr2 h1 w1"}),"Revert to publish"]})}:null},tt=n(43360),nt=n(14903),rt=n(8756),ot=n(60138),it=function(e){var t=e.dispatch;return{onSelect:function(){t({type:"togglePane",pane:"find"})},children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ot.Z,{className:"mr2 h1 w1"}),"Show find"]})}},st=n(18530),ct=function(e){var t=e.notebook,n=e.dispatch;return(0,ie.pT)(t)?{onSelect:function(){n({type:"togglePane",pane:"history"})},children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Oe.Z,{className:"mr2 h1 w1"}),"Show history"]})}:null},at=n(86057),lt=function(e){var t=e.notebook,n=e.dispatch;return(0,ie.ED)(t)?{onSelect:function(){return n({type:"togglePane",pane:"insights"})},children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(at.Z,{className:"mr2 h1 w1"}),"Show insights"]})}:null},ut=n(26492),dt=function(e){var t=e.dispatch;return{onSelect:function(){t({type:"togglePane",pane:"minimap"})},children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ut.Z,{className:"mr2 h1 w1"}),"Show minimap"]})}},mt=n(2239),ht=n(34051),ft=n.n(ht);function pt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bt=function(e){return(0,r.jsxs)("svg",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){pt(e,t,n[t])}))}return e}({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2"},e,{children:[(0,r.jsx)("path",{d:"M3 7.08578V7.08578C2.44772 7.08578 2 7.5335 2 8.08578V13.0858C2 13.6381 2.44772 14.0858 3 14.0858H13C13.5523 14.0858 14 13.6381 14 13.0858V8.08578C14 7.5335 13.5523 7.08578 13 7.08578V7.08578"}),(0,r.jsx)("path",{d:"M11 5.5L8 2.5L5 5.5"}),(0,r.jsx)("path",{d:"M8 10.0858L8 3.08578"})]}))},gt=n(51289),xt=n(92946),vt=n(33396);function jt(e,t,n,r,o,i,s){try{var c=e[i](s),a=c.value}catch(l){return void n(l)}c.done?t(a):Promise.resolve(a).then(r,o)}function yt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){jt(i,r,o,s,c,"next",e)}function c(e){jt(i,r,o,s,c,"throw",e)}s(void 0)}))}}function kt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){kt(e,t,n[t])}))}return e}var St=[{type:"twitter",icon:(0,r.jsx)(vt.Z,{style:{color:"#1DA1F2"}}),text:"Share to Twitter"}];function Ot(){return(Ot=yt(ft().mark((function e(t,n,r){var o,i,s,c,a,l,u,d,m;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.id,i=n.owner,s=n.saveVersion,c=n.publishVersion,a=i.name,l=i.login,s!==c){e.next=7;break}u=n.model.title,e.next=11;break;case 7:return e.next=9,(0,L.a8)("/document/".concat(o,"@").concat(c));case 9:d=e.sent,u=d.title;case 11:e.t0=t,e.next="twitter"===e.t0?14:18;break;case 14:return(m=new URL("https://twitter.com/intent/tweet")).searchParams.append("text",'"'.concat(u.length?u:"Untitled",'" by ').concat(a||l," on @observablehq")),m.searchParams.append("url",r),e.abrupt("return",m);case 18:return e.abrupt("return",void 0);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Nt=function(e){var t=e.notebook,n=e.currentUser,o=e.dispatch,i=new URL(gt.Qg?location.href:"https://localhost"),s=i.origin,c=i.pathname,a="".concat(s).concat(c);return{children:(0,r.jsx)(bt,{}),tooltip:"Share via social media",actions:wt({},St.reduce((function(e,o){var i=o.type,s=o.icon,c=o.text;return e[c]={onSelect:function(){(0,f.MR)((0,f.ym)({type:"notebook:social:externalShare",data:{type:i},currentUser:n,notebook:t,eventVersion:1}));var e=window.open();(function(e,t,n){return Ot.apply(this,arguments)})(i,t,a).then((function(t){t?e.location=t:e.close()}))},children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"mr2",children:s}),c]})},e}),{}),{copyLink:{onSelect:yt(ft().mark((function e(){return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,f.MR)((0,f.ym)({type:"notebook:social:externalShare",data:{type:"copy-link"},currentUser:n,notebook:t,eventVersion:1})),e.next=3,navigator.clipboard.writeText(a);case 3:o({type:"showSuccessToast",message:"Copied to clipboard"});case 4:case"end":return e.stop()}}),e)}))),children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"mr2",children:(0,r.jsx)(xt.ZP,{})}),"Copy link"]})}})}},Lt=n(23929),Ct=n(85340),Pt=n(77061),Ut=n(28555),Tt=n(51924);function Ft(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _t(e,t){var n=[];if((0,ie.mG)(t)&&t.autosave){if((0,ie.zB)(t)){var r=(0,x.ly)(t);r?n.push({name:"republish",highlight:r}):(0,x.ws)(t)&&!(0,x.p0)(t)&&n.push({name:"publish"})}(0,x.p0)(t)&&n.push({name:"share"})}else if((0,ie.rk)(e,t)&&!(0,x.zC)(t)){var o=(0,x.wd)(t);n.push({name:"fork",highlight:o})}else(0,h.kh)(t)&&n.push({name:"compareToLatest",highlight:!1});return(0,h.q8)(t)&&n.push({name:"socialShare",highlight:!1}),(0,h.ws)(t)&&n.push({name:"like",highlight:!1}),n}var Et=(0,y.$j)((function(e){return{notebook:e.notebook,page:e.page,currentUser:e.currentUser}}),(function(e){return{dispatch:e}}))((function(e){var t,n=e.notebook,o=e.page,i=e.currentUser,s=e.dispatch;n.safe?t=ae:n.autosave?(0,x.Or)(n)&&(0,ie.sm)(n.suggestionFrom)&&!o.suggestionOpenBannerDismissed?t=ye:(0,x.to)(n)?t=he:(0,x.Y8)(n)?t=be:(0,x.zC)(n)&&(t=Se):t=Le;var c={notebook:n,currentUser:i,dispatch:s},a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ft(e,t,n[t])}))}return e}({suggest:(0,Lt.P)(c),revertToVersion:Je(c),compareToPublished:_e(c),compareToFork:Te(c),compareToLatest:Fe(c),divider_0:null},(0,x.ws)(n)?{Publish:(0,Qe.OZ)(c)}:{Publish:{Republish:(0,Qe.u8)(c),settings:(0,Qe.dZ)(c),revertToPublish:et(c),unpublish:(0,Ut.h)(c)}},{Share:(0,nt.X)(c),Fork:(0,Re.A)(c),divider_1:null,like:Xe(c),collections:(0,Ue.b)(c),divider_2:null,View:{showData:(0,rt.W)(c),showHistory:ct(c),showHelp:(0,st.S)(c),showMinimap:dt(c),showInsights:lt(c),showFind:it(c),divider_0:null,fullscreen:(0,qe.$)(c),safeMode:(0,tt.A)(c)},Export:{embed:Me(c),downloadCode:Ze(c)},Settings:{slug:(0,mt.t)(c),license:De(c),authors:Pe(c),divider_0:null,lockComments:Ge(c),notifications:(0,Ke.A)(c),divider_1:null,transfer:(0,Ct.M)(c)},Delete:{trash:(0,Pt.q)(c)}}),l={fork:Re.A,publish:Qe.OZ,republish:Qe.u8,share:nt.X,socialShare:Nt,like:Be,compareToLatest:Fe};return(0,r.jsx)(Tt.n,{SelectedBanner:t,menuActionList:a,promotedActions:_t(i,n),promotableActions:l,notebook:n,currentUser:i,dispatch:s})})),Zt=n(65074);function At(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mt=function(e){var t=(0,w.M)(k.f,e),n=(0,s.w)(t);return(0,c.D)(t),(0,r.jsx)(y.zt,{store:t,children:(0,r.jsx)(Dt,{editors:n})})},Rt=function(e){return(0,r.jsx)(Mt,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){At(e,t,n[t])}))}return e}({},e),(0,g.Z)(e))},qt=function(){return!0},Vt=function(){return!1};var Dt=(0,y.$j)((function(e){return{notebook:e.notebook,decorations:e.decorations,page:e.page,currentUser:e.currentUser}}),(function(e){return{dispatch:e}}))((function(e){var t=e.notebook,n=e.currentUser,o=e.decorations,s=e.editors,c=e.dispatch,u=e.page,g=function(e){var t=e.saveVersion,n=e.autosave,r=e.safe;return(0,b.UW)(e)+(n?"":"@".concat(t))+(r?"/safe":"")}(t),y=t.owner,k=t.model,w=t.isFullscreen,S=t.safe,O=t.autosave;return(0,i.D)(t,n,s,c),function(e,t,n){var r=(0,l.useRef)(),o=(0,l.useRef)(e),i=(0,l.useRef)([]),s=(0,l.useRef)(t);s.current=t,(0,l.useEffect)((function(){var t=o.current;if(o.current=e,s.current){var c=[],l=!0,u=!1,m=void 0;try{for(var h,f=e[Symbol.iterator]();!(l=(h=f.next()).done);l=!0){var p=d(h.value,2),b=p[0],g=p[1],x=t.get(b);(null===x||void 0===x?void 0:x.doc)!==g.doc&&c.push(b)}}catch(y){u=!0,m=y}finally{try{l||null==f.return||f.return()}finally{if(u)throw m}}var v=Array.from(t.keys()),j=Array.from(e.keys());!c.length&&(0,a.u)(v,j)||(i.current=c,r.current||(r.current=setTimeout((function(){r.current=void 0,n({type:"updateSearchResults",nodeIds:i.current})}),100)))}}),[e,n])}(t.editorStates,t.searchTerm,c),(0,l.useEffect)((function(){var e=function(){location.pathname!==g&&j.default.replace(function(e){return"/new"===e?e:/^\/team\//.test(e)?"/team/[at]/new":"/[at]/[...specifiers]"}(location.pathname),location.pathname)};return location.pathname!==g&&(history.replaceState(null,"",g),addEventListener("popstate",e)),function(){return removeEventListener("popstate",e)}}),[g,n]),(0,l.useEffect)((function(){t.initialCollection&&window.matchMedia(m.hs).matches&&c({type:"toggleCollectionsPane"}),(0,f.MR)((0,f.ym)({type:"notebook:view:view",data:{numCells:t.model.nodes.length},eventVersion:4,notebook:t,currentUser:n}))}),[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(v.default,{children:[(0,r.jsx)("link",{rel:"canonical",href:"".concat("https://observablehq.com").concat(g)}),(0,r.jsx)("link",{rel:"alternate",type:"application/rss+xml",title:"".concat((0,p.KY)(y)," / Observable"),href:"".concat("https://api.observablehq.com","/documents/@").concat(y.login,".rss")}),t.collections.filter((function(e){return"public"===e.type})).map((function(e){return(0,r.jsx)("link",{rel:"alternate",type:"application/rss+xml",title:"".concat((0,p.Ui)(e)," / ").concat((0,p.KY)(e.owner)," / Observable"),href:"".concat("https://api.observablehq.com","/collection/@").concat(e.owner.login,"/").concat(e.slug,".rss")},"@".concat(e.owner.login,"/").concat(e.slug))})),(0,r.jsxs)("title",{children:[S?"Safe Mode: ":O?"":"History: ",(0,p.Ui)(k)," / ",(0,p.KY)(y)," / Observable"]}),(0,r.jsx)($.bd,{notebook:t})]}),(0,r.jsx)(X.Z,{}),(0,r.jsx)(ne.b,{}),(0,x.dI)(t)&&(0,r.jsx)(te.z,{notebook:t,dispatch:c}),(0,r.jsx)(Et,{}),(0,r.jsx)(Zt.P,{}),u.collectionsSidebarOpen?(0,r.jsx)(D,{}):null,(0,r.jsxs)(Y.Z,{children:[(0,r.jsx)(B.i,{isFullscreen:w,style:{minHeight:"calc(100vh - ".concat(n?34:85,"rem)")},dispatch:c,children:(0,r.jsx)(oe.a,{notebook:t,dispatch:c,editors:s,currentUser:n,disablePointerEvents:"none"!==o.modal,editorComponent:re.i,isNodeCommentable:(0,h.H7)(t)?qt:Vt})}),(0,r.jsx)(H.F1,{}),n&&(0,r.jsx)(I.$,{empty:(0,x.ws)(t)})]}),!n&&(0,r.jsx)(ee,{})]})})),It=n(82469),Bt=n(66981),Xt=n(9234),$t=n(65538),Ht=(0,$t.$)((function(e){return{decorations:e.decorations,currentUser:e.currentUser}}),null)((function(e){var t=e.forks,n=e.parentNotebook,o=(0,j.useRouter)().query;return(0,r.jsxs)(It.Z,{children:[(0,r.jsx)(v.default,{children:(0,r.jsxs)("title",{children:["Forks of \u2018",(0,b.$h)(n),"\u2019"]})}),(0,r.jsx)(X.Z,{}),(0,r.jsx)(Bt.j,{}),(0,r.jsx)(H.F1,{}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h2",{className:"mv4 fw7 gray",style:{fontSize:"2rem"},children:["Forks of"," ",(0,r.jsx)(U.default,{href:(0,b.Bi)(n),children:(0,r.jsx)("a",{className:"no-underline black hover-blue",children:(0,b.$h)(n)})})]}),(0,r.jsx)("div",{children:(0,r.jsx)(Xt.a,{emptyMessage:"This notebook has no forks",response:t,items:"forks",query:o,children:function(e,t){return(0,r.jsx)(W.pg,{format:t,notebook:e})}})})]})]})})),zt=n(65878),Wt=n(24165);function Yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Yt(e,t,n[t])}))}return e}var Kt=function(e){var t=(0,w.M)(Wt.f,e);return(0,r.jsx)($t.z,{store:t,children:(0,r.jsx)(Ht,{parentNotebook:e.initialParentNotebook,forks:(0,o.x)(e.forks)})})},Qt=!0,Jt=(0,zt.Z)((function(e){return"initialNotebook"in e?(0,r.jsx)(Rt,Gt({},e)):(0,r.jsx)(Kt,Gt({},e))}))},24165:function(e,t,n){"use strict";n.d(t,{f:function(){return l}});var r=n(810),o=n(54937),i=n(68298),s=n(77180);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){c(e,t,n[t])}))}return e}var l=function(){return{type:"dashboard",slices:{notebook:{initialState:{},reducers:a({},o.x,s.L)}},listeners:a({},r.l,i.R)}}},23342:function(e,t,n){"use strict";n.d(t,{f:function(){return u}});var r=n(810),o=n(54937),i=n(16432),s=n(94677),c=n(55431);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}var u=function(e){return{type:"notebook",slices:{notebook:{initialState:(0,s.D)(e),reducers:l({},o.x,s.$)},page:{initialState:(0,c.c)(),reducers:c.q}},listeners:l({},r.l,i.C)}}}},function(e){e.O(0,[9774,5880,3483,6424,8187,7328,793,9663,560,1533,3427,8399,5878,9926,7018,2343,3105,9234,6931,8561,3222,1861,3536,2683,9168,7829,2888,179],(function(){return t=17993,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
